(()=>{"use strict";var e=function(e){var t=document.querySelector("#whoChoosesParagraph");3===e.pokemons.length?t.textContent="Wait for the game to start...":t.textContent=e.name+" chooses 1 pokemon"},t=function(){function e(e,t,n,o,r,a,c){this._name=e,this._image=t,this._maxHP=n,this._currentHP=n,this._attackPoints=o,this._defensePoints=r,this._types=a,this._moves=c}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"image",{get:function(){return this._image},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentHP",{get:function(){return this._currentHP},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxHP",{get:function(){return this._maxHP},enumerable:!1,configurable:!0}),e.prototype.subtractHP=function(e){var t=this._currentHP-e;t<0&&(this._currentHP=0),this._currentHP=t},e.prototype.heal=function(){this._currentHP=this._maxHP},Object.defineProperty(e.prototype,"attackPoints",{get:function(){return this._attackPoints},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defensePoints",{get:function(){return this._defensePoints},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"types",{get:function(){return this._types},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"moves",{get:function(){return this._moves},enumerable:!1,configurable:!0}),e.prototype.isAlive=function(){return this._currentHP>0},e}(),n=function(){function e(e){this._pokemons=[];for(var n=0,o=e;n<o.length;n++){var r=o[n],a="../assets/"+r.name+".png",c=r.moves.reduce((function(e,t){return e.push({moveName:t.name,moveType:t.type}),e}),[]),u=r.types.map((function(e){return e})),i=new t(this._capitalize(r.name),a,r.stats.hp,r.stats.attack,r.stats.defense,u,c);this._pokemons.push(i)}}return Object.defineProperty(e.prototype,"pokemons",{get:function(){return this._pokemons},enumerable:!1,configurable:!0}),e.prototype.getPokemonByName=function(e){var t=this._pokemons.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}));if(void 0===t)throw new Error("Pokemon "+e+" is not found in the pokemon factory");return t},e.prototype._capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e}();const o=JSON.parse('{"x":[{"name":"bulbasaur","types":["grass","poison"],"stats":{"hp":45,"attack":49,"defense":49},"moves":[{"name":"razor-wind","accuracy":100,"power":80,"type":"normal"},{"name":"vine-whip","accuracy":100,"power":45,"type":"grass"},{"name":"mega-drain","accuracy":100,"power":40,"type":"grass"},{"name":"razor-leaf","accuracy":95,"power":55,"type":"grass"}]},{"name":"charmander","types":["fire"],"stats":{"hp":39,"attack":52,"defense":43},"moves":[{"name":"mega-punch","accuracy":85,"power":80,"type":"normal"},{"name":"ember","accuracy":100,"power":40,"type":"fire"},{"name":"flamethrower","accuracy":100,"power":90,"type":"fire"},{"name":"submission","accuracy":80,"power":80,"type":"fighting"}]},{"name":"squirtle","types":["water"],"stats":{"hp":44,"attack":48,"defense":65},"moves":[{"name":"mega-kick","accuracy":75,"power":120,"type":"normal"},{"name":"water-gun","accuracy":100,"power":40,"type":"water"},{"name":"hydro-pump","accuracy":80,"power":110,"type":"water"},{"name":"blizzard","accuracy":70,"power":110,"type":"ice"}]},{"name":"weedle","types":["bug","poison"],"stats":{"hp":40,"attack":35,"defense":30},"moves":[{"name":"poison-sting","accuracy":100,"power":15,"type":"poison"},{"name":"string-shot","accuracy":95,"power":0,"type":"poison"},{"name":"bug-bite","accuracy":100,"power":60,"type":"bug"},{"name":"electroweb","accuracy":95,"power":55,"type":"electric"}]},{"name":"pidgey","types":["normal","flying"],"stats":{"hp":40,"attack":45,"defense":40},"moves":[{"name":"razor-wind","accuracy":100,"power":80,"type":"normal"},{"name":"wing-attack","accuracy":100,"power":60,"type":"flying"},{"name":"fly","accuracy":95,"power":90,"type":"flying"},{"name":"sky-attack","accuracy":90,"power":140,"type":"flying"}]},{"name":"rattata","types":["normal"],"stats":{"hp":30,"attack":56,"defense":35},"moves":[{"name":"body-slam","accuracy":100,"power":85,"type":"normal"},{"name":"bite","accuracy":100,"power":60,"type":"dark"},{"name":"bubble-beam","accuracy":100,"power":65,"type":"water"},{"name":"dig","accuracy":100,"power":80,"type":"ground"}]},{"name":"pikachu","types":["electric"],"stats":{"hp":35,"attack":55,"defense":40},"moves":[{"name":"slam","accuracy":75,"power":80,"type":"normal"},{"name":"thunder-punch","accuracy":100,"power":75,"type":"electric"},{"name":"thunderbolt","accuracy":100,"power":90,"type":"electric"},{"name":"thunder","accuracy":70,"power":110,"type":"electric"}]},{"name":"sandshrew","types":["ground"],"stats":{"hp":50,"attack":75,"defense":85},"moves":[{"name":"headbutt","accuracy":100,"power":70,"type":"normal"},{"name":"body-slam","accuracy":100,"power":85,"type":"normal"},{"name":"earthquake","accuracy":100,"power":100,"type":"ground"},{"name":"dig","accuracy":100,"power":80,"type":"ground"}]},{"name":"clefairy","types":["fairy"],"stats":{"hp":70,"attack":45,"defense":48},"moves":[{"name":"fire-punch","accuracy":100,"power":75,"type":"fire"},{"name":"ice-punch","accuracy":100,"power":75,"type":"ice"},{"name":"thunder-punch","accuracy":100,"power":75,"type":"electric"},{"name":"water-gun","accuracy":100,"power":40,"type":"water"}]},{"name":"abra","types":["psychic"],"stats":{"hp":25,"attack":20,"defense":15},"moves":[{"name":"mega-punch","accuracy":85,"power":80,"type":"normal"},{"name":"ice-punch","accuracy":100,"power":75,"type":"ice"},{"name":"thunder-punch","accuracy":100,"power":75,"type":"electric"},{"name":"psychic","accuracy":100,"power":90,"type":"psychic"}]},{"name":"machop","types":["fighting"],"stats":{"hp":70,"attack":80,"defense":50},"moves":[{"name":"karate-chop","accuracy":100,"power":50,"type":"fighting"},{"name":"mega-kick","accuracy":75,"power":120,"type":"normal"},{"name":"rolling-kick","accuracy":85,"power":60,"type":"fighting"},{"name":"submission","accuracy":80,"power":80,"type":"fighting"}]},{"name":"geodude","types":["rock","ground"],"stats":{"hp":40,"attack":80,"defense":100},"moves":[{"name":"headbutt","accuracy":100,"power":70,"type":"normal"},{"name":"rock-throw","accuracy":90,"power":50,"type":"rock"},{"name":"earthquake","accuracy":100,"power":100,"type":"ground"},{"name":"dig","accuracy":100,"power":80,"type":"ground"}]}]}');var r=function(e,t,n,o,r){e.addEventListener("click",(function(){console.log(e.innerText+" used!"),r&&r(),setTimeout((function(){o.generateActionButtons(n)}),500);for(var a=0;a<t.length;a++)t[a].style.backgroundColor="green"}))},a=function(){console.log("bum bum bach!")},c=function(){console.log("puff!")},u=function(){function e(e,t){this._playerOne=e,this._playerTwo=t,this._currentPlayer=this._playerOne}return Object.defineProperty(e.prototype,"playerOne",{get:function(){return this._playerOne},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playerTwo",{get:function(){return this._playerTwo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentPlayer",{get:function(){return this._currentPlayer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"opponentPlayer",{get:function(){return this._currentPlayer===this._playerOne?this._playerTwo:this._playerOne},enumerable:!1,configurable:!0}),e.prototype.didPlayerLoose=function(e){return 0===e.alivePokemons.length},e.prototype.isGameFinished=function(){return this.didPlayerLoose(this._playerOne)||this.didPlayerLoose(this._playerTwo)},e.prototype.getWinner=function(){if(!this.isGameFinished())throw new Error("You cannot get the winner. The game is not over.");return!0===this.didPlayerLoose(this._playerOne)?this._playerTwo:this._playerOne},e.prototype.generateActionButtons=function(e){console.log("Start - action modal"),document.querySelector("#actionModals").innerHTML='\n                    <div class="button battleButton" id="attackButton">attack</div>\n                    <div class="button battleButton" id="switchButton">switch</div>\n                    <div class="button battleButton" id="mangoButton">use mango (<span id="mango">1</span>)</div>',function(e,t){document.getElementsByClassName("battleButton");var n=document.querySelector("#attackButton"),o=document.querySelector("#switchButton"),r=document.querySelector("#mangoButton"),a=document.querySelector("#mango");n.addEventListener("click",(function(){t.generateAttackButtons(e)})),o.addEventListener("click",(function(){t.generateSwitchButtons(e)})),r.addEventListener("click",(function(){console.log("mango used! mnia mnia mnia..."),a.innerHTML="0",r.classList.add("disabledButton")}))}(e,this)},e.prototype.generateAttackButtons=function(e){console.log("Attack choose modal"),document.querySelector("#actionModals").innerHTML='\n                    <div class="button battleButton" id="attackButtonOne">'+e.pokemons[0].moves[0].moveName+'</div>\n                    <div class="button battleButton" id="attackButtonTwo">'+e.pokemons[0].moves[1].moveName+'</div>\n                    <div class="button battleButton" id="backButton">back</div>',function(e,t){var n=document.querySelector("#attackButtonOne"),o=document.querySelector("#attackButtonTwo"),c=document.getElementsByClassName("battleButton"),u=document.querySelector("#backButton");r(n,c,e,t,a),r(o,c,e,t,a),r(u,c,e,t)}(e,this)},e.prototype.generateSwitchButtons=function(e){console.log("Switch choose modal"),document.querySelector("#actionModals").innerHTML='\n                    <div class="button battleButton" id="switchButtonOne">'+e.pokemons[1].name+'</div>\n                    <div class="button battleButton" id="switchButtonTwo">'+e.pokemons[2].name+'</div>\n                    <div class="button battleButton" id="backButton">back</div>',function(e,t){var n=document.querySelector("#switchButtonOne"),o=document.querySelector("#switchButtonTwo"),a=document.getElementsByClassName("battleButton"),u=document.querySelector("#backButton");r(n,a,e,t,c),r(o,a,e,t,c),r(u,a,e,t)}(e,this)},e}(),i=function(e,t){e.pokemons.length<3||t.pokemons.length<3||function(e,t,n){var o=new u(e,t);setTimeout((function(){return function(e,t){var n,o,r,a,c,u=document.querySelector("#fight-page-template");e.innerHTML=u.innerHTML,function(e){var t=document.querySelector("#fight-page-player1-name"),n=document.querySelector("#fight-page-player2-name");t.textContent=e.playerOne.name,n.textContent=e.playerTwo.name}(t),function(e){document.querySelector("#active-player-info").textContent=e.currentPlayer.name+" now is your turn. Get the revenge!"}(t),function(e){var t=document.querySelector("#pokemon-image-player1"),n=document.querySelector("#pokemon-image-player2"),o=document.querySelector("#pokemon-name-player1"),r=document.querySelector("#pokemon-name-player2"),a=function(e,t,n){var o=e.getActivePokemon.name;t.setAttribute("src","./assets/"+o.toLowerCase()+".png"),n.textContent=o};a(e.playerOne,t,o),a(e.playerTwo,n,r)}(t),n=t.playerOne,o=t.playerTwo,r=function(e,t){var n=e.getActivePokemon.maxHP,o=e.getActivePokemon.currentHP/n*100;console.log(o),t.style.width=o+"%";var r=t.classList;o<20?(r.remove("hpBarHighLevel"),r.add("hpBarLowLevel")):(r.remove("hpBarLowLevel"),r.add("hpBarHighLevel"))},a=document.querySelector("#hp-bar-player1"),c=document.querySelector("#hp-bar-player2"),r(n,a),r(o,c),function(e){var t=function(e,t){for(var n=2;n>e.alivePokemons.length-1;n--)t[n].classList.add("disabledPokemon")},n=Array.from(document.querySelectorAll("#fight-page-player1 .pokeballWithPokemon")),o=Array.from(document.querySelectorAll("#fight-page-player2 .pokeballWithPokemon"));t(e.playerOne,n),t(e.playerTwo,o)}(t),t.generateActionButtons(t.currentPlayer)}(n,o)}),2e3)}(e,t,document.querySelector("#app"))},s=function(t,r){var a=t;!function(e,t){document.querySelector("#choosePagePlayer1Name").textContent=e.name,document.querySelector("#choosePagePlayer2Name").textContent=t.name}(t,r),e(a),function(t,r,a){var c=o.x,u=new n(c);Array.from(document.querySelectorAll("#pokemonList img")).forEach((function(n){return n.addEventListener("click",(function(n){3!==a.pokemons.length&&(function(e,t,n){var o=e.target,r=o.id,a=t.getPokemonByName(r);n.addPokemon(a),o.style.cursor="default",o.style.filter="grayscale(100%)"}(n,u,a),function(e,t){var n=t===e?Array.from(document.querySelectorAll("#choosePagePlayer1 img")):Array.from(document.querySelectorAll("#choosePagePlayer2 img")),o=t.pokemons[t.pokemons.length-1].name.toLowerCase();n[t.pokemons.length-1].setAttribute("src","./assets/"+o+".png")}(t,a),e(a=a===t?r:t),i(t,r))}),{once:!0})}))}(t,r,a)},p=function(){function e(e,t){if(e.length>8)throw new Error("Too long name");if(t.length>3)throw new Error("Wrong number of pokemons");this._name=e,this._pokemons=t,this._indexOfActivePokemon=0}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pokemons",{get:function(){return this._pokemons},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"indexOfActivePokemon",{set:function(e){this._indexOfActivePokemon=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getActivePokemon",{get:function(){return this._pokemons[this._indexOfActivePokemon]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alivePokemons",{get:function(){return this.pokemons.filter((function(e){return e.isAlive()}))},enumerable:!1,configurable:!0}),e.prototype.addPokemon=function(e){this._pokemons.push(e)},e}(),m=function(e,t,n){e.value.length>0&&t.value.length>0?n.className="button-enabled":n.className="button-disabled"};setTimeout((function(){var e,t,n,o,r,a,c,u,i,l=document.querySelector("#app");e=l,t=document.querySelector("#starting-page-template"),e.innerHTML=t.innerHTML,function(e){var t=document.querySelector("#info-modal-template");e.innerHTML+=t.innerHTML}(l),n=document.querySelector("#enter-player1-name"),o=document.querySelector("#enter-player2-name"),r=document.querySelector("#start-game-button"),n.addEventListener("keyup",(function(){m(n,o,r)})),o.addEventListener("keyup",(function(){m(n,o,r)})),u=document.querySelector("#how-to-play-button"),i=document.querySelector("#info-modal-screen"),u.addEventListener("click",(function(){i.style.display="flex"})),null==(c=(a=i).querySelector(".exitButton"))||c.addEventListener("click",(function(){a.style.display="none"})),function(e){var t=document.querySelector("#start-game-button");null==t||t.addEventListener("click",(function(){var t=document.querySelector("#enter-player1-name").value,n=document.querySelector("#enter-player2-name").value,o=document.querySelector("#choose-page-template");e.innerHTML=o.innerHTML,s(new p(t,[]),new p(n,[]))}))}(l)}),2e3)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL21vZGFsUG9wVXBGdW5jdGlvbnMudHMiLCJ3ZWJwYWNrOi8vY29kZXJzY2FtcDIwMjAucHJvamVjdC50eXBlc2NyaXB0LnBva2Vtb25maWdodC8uL3NyYy9jaG9vc2VQb2tlbW9uc1BhZ2UvY3JlYXRlQWN0aXZlUGxheWVyTmFtZS50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL3Bva2Vtb25DbGFzcy50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL3Bva2Vtb25GYWN0b3J5LnRzIiwid2VicGFjazovL2NvZGVyc2NhbXAyMDIwLnByb2plY3QudHlwZXNjcmlwdC5wb2tlbW9uZmlnaHQvLi9zcmMvZmlnaHRQYWdlL2J1dHRvbnNFdmVudExpc3RlbmVycy50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL2dhbWVIYW5kbGVyQ2xhc3MudHMiLCJ3ZWJwYWNrOi8vY29kZXJzY2FtcDIwMjAucHJvamVjdC50eXBlc2NyaXB0LnBva2Vtb25maWdodC8uL3NyYy9jaG9vc2VQb2tlbW9uc1BhZ2Uvc3RhcnRHYW1lSWZSZWFkeS50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL2ZpZ2h0UGFnZS9zdGFydEJhdHRsZS50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL2ZpZ2h0UGFnZS9yZW5kZXJGaWdodFBhZ2UudHMiLCJ3ZWJwYWNrOi8vY29kZXJzY2FtcDIwMjAucHJvamVjdC50eXBlc2NyaXB0LnBva2Vtb25maWdodC8uL3NyYy9maWdodFBhZ2UvY3JlYXRlSFBCYXJzLnRzIiwid2VicGFjazovL2NvZGVyc2NhbXAyMDIwLnByb2plY3QudHlwZXNjcmlwdC5wb2tlbW9uZmlnaHQvLi9zcmMvZmlnaHRQYWdlL2NyZWF0ZUFjdGl2ZVBsYXllci50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL2ZpZ2h0UGFnZS9jcmVhdGVBY3RpdmVQb2tlbW9uLnRzIiwid2VicGFjazovL2NvZGVyc2NhbXAyMDIwLnByb2plY3QudHlwZXNjcmlwdC5wb2tlbW9uZmlnaHQvLi9zcmMvZmlnaHRQYWdlL2NyZWF0ZUZpZ2h0UGFnZVBva2ViYWxscy50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL2Nob29zZVBva2Vtb25zUGFnZS9jaG9vc2VQb2tlbW9uc1BhZ2UudHMiLCJ3ZWJwYWNrOi8vY29kZXJzY2FtcDIwMjAucHJvamVjdC50eXBlc2NyaXB0LnBva2Vtb25maWdodC8uL3NyYy9jaG9vc2VQb2tlbW9uc1BhZ2UvY3JlYXRlUGxheWVyTmFtZXMudHMiLCJ3ZWJwYWNrOi8vY29kZXJzY2FtcDIwMjAucHJvamVjdC50eXBlc2NyaXB0LnBva2Vtb25maWdodC8uL3NyYy9jaG9vc2VQb2tlbW9uc1BhZ2UvY3JlYXRlUG9rZW1vbnMudHMiLCJ3ZWJwYWNrOi8vY29kZXJzY2FtcDIwMjAucHJvamVjdC50eXBlc2NyaXB0LnBva2Vtb25maWdodC8uL3NyYy9jaG9vc2VQb2tlbW9uc1BhZ2UvYWRkQ2hvc2VuUG9rZW1vbi50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL2Nob29zZVBva2Vtb25zUGFnZS9jcmVhdGVQb2tlYmFsbHMudHMiLCJ3ZWJwYWNrOi8vY29kZXJzY2FtcDIwMjAucHJvamVjdC50eXBlc2NyaXB0LnBva2Vtb25maWdodC8uL3NyYy9wbGF5ZXJDbGFzcy50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL2FjdGl2YXRlU3RhcnQudHMiLCJ3ZWJwYWNrOi8vY29kZXJzY2FtcDIwMjAucHJvamVjdC50eXBlc2NyaXB0LnBva2Vtb25maWdodC8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJjcmVhdGVBY3RpdmVQbGF5ZXJOYW1lIiwiYWN0aXZlUGxheWVyIiwid2hvQ2hvb3Nlc1Bva2Vtb25UZXh0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicG9rZW1vbnMiLCJsZW5ndGgiLCJ0ZXh0Q29udGVudCIsIm5hbWUiLCJpbWFnZSIsIm1heEhQIiwiYXR0YWNrUG9pbnRzIiwiZGVmZW5zZVBvaW50cyIsInR5cGVzIiwibW92ZXMiLCJ0aGlzIiwiX25hbWUiLCJfaW1hZ2UiLCJfbWF4SFAiLCJfY3VycmVudEhQIiwiX2F0dGFja1BvaW50cyIsIl9kZWZlbnNlUG9pbnRzIiwiX3R5cGVzIiwiX21vdmVzIiwic3VidHJhY3RIUCIsInBvaW50c1RvU3VidHJhY3QiLCJuZXdIUCIsImhlYWwiLCJpc0FsaXZlIiwicG9rZURhdGEiLCJfcG9rZW1vbnMiLCJwb2tlbW9uIiwicG9rZUltZyIsInBva2VNb3ZlcyIsInJlZHVjZSIsInRhYiIsIm1vdmUiLCJwdXNoIiwibW92ZU5hbWUiLCJtb3ZlVHlwZSIsInR5cGUiLCJwb2tlVHlwZXMiLCJtYXAiLCJ2IiwicG9rZW1vbk9iamVjdCIsIlBva2Vtb24iLCJfY2FwaXRhbGl6ZSIsInN0YXRzIiwiaHAiLCJhdHRhY2siLCJkZWZlbnNlIiwiZ2V0UG9rZW1vbkJ5TmFtZSIsImZpbmQiLCJ0b0xvd2VyQ2FzZSIsInVuZGVmaW5lZCIsIkVycm9yIiwic3RyIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzbGljZSIsIm1hZ2ljRnVuY3Rpb24iLCJidXR0b24iLCJidXR0b25zIiwicGxheWVyIiwiZ2FtZUhhbmRsZXIiLCJmdW5jdGlvblRvQ2FsbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjb25zb2xlIiwibG9nIiwiaW5uZXJUZXh0Iiwic2V0VGltZW91dCIsImdlbmVyYXRlQWN0aW9uQnV0dG9ucyIsImkiLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsInN3aXRjaFBva2UiLCJfcGxheWVyT25lIiwiX3BsYXllclR3byIsIl9jdXJyZW50UGxheWVyIiwiZGlkUGxheWVyTG9vc2UiLCJhbGl2ZVBva2Vtb25zIiwiaXNHYW1lRmluaXNoZWQiLCJnZXRXaW5uZXIiLCJpbm5lckhUTUwiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiYXR0YWNrQnV0dG9uIiwic3dpdGNoQnV0dG9uIiwibWFuZ29CdXR0b24iLCJtYW5nbyIsImdlbmVyYXRlQXR0YWNrQnV0dG9ucyIsImdlbmVyYXRlU3dpdGNoQnV0dG9ucyIsImNsYXNzTGlzdCIsImFkZCIsImFjdGlvbnNCdXR0b25FdmVudExpc3RlbmVyIiwiYXR0YWNrQnV0dG9uT25lIiwiYXR0YWNrQnV0dG9uVHdvIiwiYmF0dGxlQnV0dG9ucyIsImJhY2tCdXR0b24iLCJhdHRhY2tzQnV0dG9uRXZlbnRMaXN0ZW5lciIsInN3aXRjaEJ1dHRvbk9uZSIsInN3aXRjaEJ1dHRvblR3byIsInN3aXRjaEJ1dHRvbkV2ZW50TGlzdGVuZXIiLCJzdGFydEdhbWVJZlJlYWR5IiwicGxheWVyT25lIiwicGxheWVyVHdvIiwiYXBwIiwiZ2FtZSIsIkdhbWVIYW5kbGVyIiwiYXBwRGl2IiwiY3JlYXRlQmFyIiwicGxheWVyT25lSFBCYXIiLCJwbGF5ZXJUd29IUEJhciIsImZpZ2h0UGFnZSIsInBsYXllck9uZU5hbWUiLCJwbGF5ZXJUd29OYW1lIiwiY3JlYXRlUGxheWVyRmlnaHROYW1lcyIsImN1cnJlbnRQbGF5ZXIiLCJjcmVhdGVBY3RpdmVQbGF5ZXIiLCJwbGF5ZXJPbmVBY3RpdmVQb2tlbW9uSW1hZ2VBcmVhIiwicGxheWVyVHdvQWN0aXZlUG9rZW1vbkltYWdlQXJlYSIsInBsYXllck9uZUFjdGl2ZVBva2Vtb25OYW1lQXJlYSIsInBsYXllclR3b0FjdGl2ZVBva2Vtb25OYW1lQXJlYSIsImNyZWF0ZVBva2Vtb24iLCJpbWFnZUFyZWEiLCJuYW1lQXJlYSIsInBva2Vtb25OYW1lIiwiZ2V0QWN0aXZlUG9rZW1vbiIsInNldEF0dHJpYnV0ZSIsImNyZWF0ZUFjdGl2ZVBva2Vtb24iLCJIUEJhciIsIkhQSW5QZXJjZW50IiwiY3VycmVudEhQIiwid2lkdGgiLCJIUENsYXNzTGlzdCIsInJlbW92ZSIsImNoYW5nZUNsYXNzT2ZEaXNhYmxlZFBva2Vtb25zIiwicGxheWVyUG9rZWJhbGxzIiwicGxheWVyT25lUG9rZWJhbGxzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsInBsYXllclR3b1Bva2ViYWxscyIsImNyZWF0ZUZpZ2h0UGFnZVBva2ViYWxscyIsImNyZWF0ZUZpZ2h0UGFnZSIsInN0YXJ0QmF0dGxlIiwiY3JlYXRlQ2hvb3NlUGFnZSIsImNyZWF0ZVBsYXllck5hbWVzIiwicG9rZW1vbkZhY3RvcnkiLCJQb2tlbW9uRmFjdG9yeSIsImZvckVhY2giLCJwb2tlbW9uSW1hZ2UiLCJlIiwiZXZlbnQiLCJmYWN0b3J5IiwiY2xpY2tlZFBva2Vtb24iLCJ0YXJnZXQiLCJpZCIsIm5ld1Bva2Vtb25PYmplY3QiLCJhZGRQb2tlbW9uIiwiY3Vyc29yIiwiZmlsdGVyIiwiYWRkQ2hvc2VuUG9rZW1vbiIsInBsYXllckxhc3RQb2tlbW9uTmFtZSIsImNyZWF0ZVBva2ViYWxscyIsIm9uY2UiLCJjcmVhdGVQb2tlbW9ucyIsIl9pbmRleE9mQWN0aXZlUG9rZW1vbiIsIm51bU9mQWN0aXZlUG9rZW1vbiIsImFjdGl2YXRlU3RhcnQiLCJuYW1lMUlucHV0IiwibmFtZTJJbnB1dCIsInN0YXJ0QnV0dG9uIiwidmFsdWUiLCJjbGFzc05hbWUiLCJzdGFydGluZ1BhZ2UiLCJwbGF5ZXIxTmFtZUlucHV0IiwicGxheWVyMk5hbWVJbnB1dCIsInNjcmVlblRvRGlzcGxheSIsImV4aXRCdXR0b24iLCJob3dUb1BsYXlCdXR0b24iLCJpbmZvTW9kYWwiLCJyZW5kZXJIb3dUb1BsYXlNb2RhbCIsImRpc3BsYXkiLCJwbGF5QnV0dG9uIiwiY2hvb3NlUG9rZW1vblNjcmVlbiIsIlBsYXllciIsInJlbmRlckNob29zZVBva2Vtb25TY3JlZW4iXSwibWFwcGluZ3MiOiJtQkFBTyxJQ0VNQSxFQUF5QixTQUFDQyxHQUNyQyxJQUFJQyxFQUF3QkMsU0FBU0MsY0FBYyx3QkFDbEIsSUFBakNILEVBQWFJLFNBQVNDLE9BQ2pCSixFQUFzQkssWUFBYyxnQ0FDcENMLEVBQXNCSyxZQUFpQk4sRUFBYU8sS0FBSSxzQkNTL0QsYUFXRSxXQUFZQSxFQUFjQyxFQUFlQyxFQUFlQyxFQUN0REMsRUFBdUJDLEVBQXNCQyxHQUU3Q0MsS0FBS0MsTUFBUVIsRUFDYk8sS0FBS0UsT0FBU1IsRUFDZE0sS0FBS0csT0FBU1IsRUFDZEssS0FBS0ksV0FBYVQsRUFDbEJLLEtBQUtLLGNBQWdCVCxFQUNyQkksS0FBS00sZUFBaUJULEVBQ3RCRyxLQUFLTyxPQUFTVCxFQUNkRSxLQUFLUSxPQUFTVCxFQW1EbEIsT0EvQ0Usc0JBQUksbUJBQUksQyxJQUFSLFdBQ0UsT0FBT0MsS0FBS0MsTyxnQ0FHZCxzQkFBSSxvQkFBSyxDLElBQVQsV0FDRSxPQUFPRCxLQUFLRSxRLGdDQUdkLHNCQUFJLHdCQUFTLEMsSUFBYixXQUNFLE9BQU9GLEtBQUtJLFksZ0NBR2Qsc0JBQUksb0JBQUssQyxJQUFULFdBQ0UsT0FBT0osS0FBS0csUSxnQ0FHZCxZQUFBTSxXQUFBLFNBQVdDLEdBQ1QsSUFBTUMsRUFBUVgsS0FBS0ksV0FBYU0sRUFDNUJDLEVBQVEsSUFDVlgsS0FBS0ksV0FBYSxHQUVwQkosS0FBS0ksV0FBYU8sR0FHcEIsWUFBQUMsS0FBQSxXQUNFWixLQUFLSSxXQUFhSixLQUFLRyxRQUd6QixzQkFBSSwyQkFBWSxDLElBQWhCLFdBQ0UsT0FBT0gsS0FBS0ssZSxnQ0FHZCxzQkFBSSw0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QyxjQUFjLHVCQUE0Q3dLLE1BQ3ZGWSxFQUFzQnJMLFNBQVNDLGNBQ25DLHlCQUVGd0csRUFBT3pCLFVBQVlxRyxFQUFvQnJHLFVBQ3ZDOEQsRUFBaUIsSUFBSXdDLEVBQU9WLEVBQWtCLElBQUssSUFBSVUsRUFBT1QsRUFBa0IsUUFVbEZVLENBQTBCakYsS0FHTixNIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHNob3dNb2RhbCA9IChcclxuICBzY3JlZW5Ub0Rpc3BsYXk6IEhUTUxEaXZFbGVtZW50LFxyXG4gIHN0YXJ0aW5nUG9zaXRpb246IHN0cmluZ1xyXG4pID0+IHtcclxuICBzY3JlZW5Ub0Rpc3BsYXkuc3R5bGUuZGlzcGxheSA9IHN0YXJ0aW5nUG9zaXRpb247XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgaGlkZU1vZGFsID0gKHNjcmVlblRvRGlzcGxheTogSFRNTERpdkVsZW1lbnQpID0+IHtcclxuICBjb25zdCBleGl0QnV0dG9uID0gc2NyZWVuVG9EaXNwbGF5LnF1ZXJ5U2VsZWN0b3IoXCIuZXhpdEJ1dHRvblwiKTtcclxuICBleGl0QnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgc2NyZWVuVG9EaXNwbGF5LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICB9KTtcclxufTtcclxuIiwiaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4uL3BsYXllckNsYXNzXCI7XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlQWN0aXZlUGxheWVyTmFtZSA9IChhY3RpdmVQbGF5ZXI6IFBsYXllcikgPT4ge1xyXG4gIGxldCB3aG9DaG9vc2VzUG9rZW1vblRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3dob0Nob29zZXNQYXJhZ3JhcGhcIikhO1xyXG4gIGFjdGl2ZVBsYXllci5wb2tlbW9ucy5sZW5ndGggPT09IDNcclxuICAgID8gKHdob0Nob29zZXNQb2tlbW9uVGV4dC50ZXh0Q29udGVudCA9IFwiV2FpdCBmb3IgdGhlIGdhbWUgdG8gc3RhcnQuLi5cIilcclxuICAgIDogKHdob0Nob29zZXNQb2tlbW9uVGV4dC50ZXh0Q29udGVudCA9IGAke2FjdGl2ZVBsYXllci5uYW1lfSBjaG9vc2VzIDEgcG9rZW1vbmApO1xyXG59O1xyXG4iLCJleHBvcnQgdHlwZSBQb2tlbW9uVHlwZSA9XHJcbiAgfCBcImdyYXNzXCJcclxuICB8IFwicG9pc29uXCJcclxuICB8IFwiZmlyZVwiXHJcbiAgfCBcIndhdGVyXCJcclxuICB8IFwiYnVnXCJcclxuICB8IFwibm9ybWFsXCJcclxuICB8IFwiZmx5aW5nXCJcclxuICB8IFwiZWxlY3RyaWNcIlxyXG4gIHwgXCJncm91bmRcIlxyXG4gIHwgXCJmYWlyeVwiXHJcbiAgfCBcInBzeWNoaWNcIlxyXG4gIHwgXCJmaWdodGluZ1wiXHJcbiAgfCBcInJvY2tcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb2tlbW9uIHtcclxuXHJcbiAgcmVhZG9ubHkgX25hbWU6IHN0cmluZztcclxuICByZWFkb25seSBfaW1hZ2U6IHN0cmluZztcclxuICByZWFkb25seSBfbWF4SFA6IG51bWJlcjtcclxuICBwcml2YXRlIF9jdXJyZW50SFA6IG51bWJlcjtcclxuICByZWFkb25seSBfYXR0YWNrUG9pbnRzOiBudW1iZXI7XHJcbiAgcmVhZG9ubHkgX2RlZmVuc2VQb2ludHM6IG51bWJlcjtcclxuICByZWFkb25seSBfdHlwZXM6IFBva2Vtb25UeXBlW107XHJcbiAgcmVhZG9ubHkgX21vdmVzOiB7IG1vdmVOYW1lOiBzdHJpbmc7IG1vdmVUeXBlOiBQb2tlbW9uVHlwZSB9W107XHJcblxyXG4gIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgaW1hZ2U6IHN0cmluZywgbWF4SFA6IG51bWJlciwgYXR0YWNrUG9pbnRzOiBudW1iZXIsXHJcbiAgICBkZWZlbnNlUG9pbnRzOiBudW1iZXIsIHR5cGVzOiBQb2tlbW9uVHlwZVtdLCBtb3ZlczogeyBtb3ZlTmFtZTogc3RyaW5nOyBtb3ZlVHlwZTogUG9rZW1vblR5cGUgfVtdKSB7XHJcblxyXG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLl9pbWFnZSA9IGltYWdlO1xyXG4gICAgdGhpcy5fbWF4SFAgPSBtYXhIUDtcclxuICAgIHRoaXMuX2N1cnJlbnRIUCA9IG1heEhQO1xyXG4gICAgdGhpcy5fYXR0YWNrUG9pbnRzID0gYXR0YWNrUG9pbnRzO1xyXG4gICAgdGhpcy5fZGVmZW5zZVBvaW50cyA9IGRlZmVuc2VQb2ludHM7XHJcbiAgICB0aGlzLl90eXBlcyA9IHR5cGVzO1xyXG4gICAgdGhpcy5fbW92ZXMgPSBtb3ZlcztcclxuICB9XHJcblxyXG5cclxuICBnZXQgbmFtZSgpIHtcclxuICAgIHJldHVybiB0aGlzLl9uYW1lO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGltYWdlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2ltYWdlO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGN1cnJlbnRIUCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9jdXJyZW50SFA7XHJcbiAgfVxyXG5cclxuICBnZXQgbWF4SFAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fbWF4SFA7XHJcbiAgfVxyXG5cclxuICBzdWJ0cmFjdEhQKHBvaW50c1RvU3VidHJhY3Q6IG51bWJlcik6IHZvaWQge1xyXG4gICAgY29uc3QgbmV3SFAgPSB0aGlzLl9jdXJyZW50SFAgLSBwb2ludHNUb1N1YnRyYWN0O1xyXG4gICAgaWYgKG5ld0hQIDwgMCkge1xyXG4gICAgICB0aGlzLl9jdXJyZW50SFAgPSAwO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fY3VycmVudEhQID0gbmV3SFA7XHJcbiAgfVxyXG5cclxuICBoZWFsKCk6IHZvaWQge1xyXG4gICAgdGhpcy5fY3VycmVudEhQID0gdGhpcy5fbWF4SFA7XHJcbiAgfVxyXG5cclxuICBnZXQgYXR0YWNrUG9pbnRzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2F0dGFja1BvaW50cztcclxuICB9XHJcblxyXG4gIGdldCBkZWZlbnNlUG9pbnRzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2RlZmVuc2VQb2ludHM7XHJcbiAgfVxyXG5cclxuICBnZXQgdHlwZXMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fdHlwZXM7XHJcbiAgfVxyXG5cclxuICBnZXQgbW92ZXMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fbW92ZXM7XHJcbiAgfVxyXG5cclxuICBpc0FsaXZlKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRIUCA+IDA7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFBva2Vtb24gfSBmcm9tIFwiLi9wb2tlbW9uQ2xhc3NcIlxyXG5pbXBvcnQgeyBQb2tlbW9uVHlwZSB9IGZyb20gXCIuL3Bva2Vtb25DbGFzc1wiXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFBva2Vtb25GYWN0b3J5IHtcclxuICAgIHJlYWRvbmx5IF9wb2tlbW9uczogUG9rZW1vbltdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBva2VEYXRhOiB7XHJcbiAgICAgICAgbmFtZTogc3RyaW5nOyB0eXBlczogc3RyaW5nW107XHJcbiAgICAgICAgc3RhdHM6IHsgaHA6IG51bWJlcjsgYXR0YWNrOiBudW1iZXI7IGRlZmVuc2U6IG51bWJlcjsgfTtcclxuICAgICAgICBtb3ZlczogeyBuYW1lOiBzdHJpbmc7IGFjY3VyYWN5OiBudW1iZXI7IHBvd2VyOiBudW1iZXI7IHR5cGU6IHN0cmluZzsgfVtdXHJcbiAgICB9W10pIHtcclxuICAgICAgICB0aGlzLl9wb2tlbW9ucyA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBwb2tlbW9uIG9mIHBva2VEYXRhKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBwb2tlSW1nID0gXCIuLi9hc3NldHMvXCIgKyBwb2tlbW9uLm5hbWUgKyBcIi5wbmdcIlxyXG5cclxuICAgICAgICAgICAgY29uc3QgcG9rZU1vdmVzID0gcG9rZW1vbi5tb3Zlcy5yZWR1Y2UoICh0YWIsIG1vdmUpID0+IHtcclxuICAgICAgICAgICAgICAgIHRhYi5wdXNoKHttb3ZlTmFtZTogbW92ZS5uYW1lLCBtb3ZlVHlwZTogbW92ZS50eXBlIGFzIFBva2Vtb25UeXBlfSlcclxuICAgICAgICAgICAgICAgIHJldHVybiB0YWJcclxuICAgICAgICAgICAgICAgIH0sIFtdIGFzIHttb3ZlTmFtZTogc3RyaW5nLCBtb3ZlVHlwZTogUG9rZW1vblR5cGV9W10pXHJcblxyXG4gICAgICAgICAgICBjb25zdCBwb2tlVHlwZXM6IFBva2Vtb25UeXBlW10gPSBwb2tlbW9uLnR5cGVzLm1hcCh2ID0+IHYgYXMgUG9rZW1vblR5cGUpXHJcblxyXG4gICAgICAgICAgICBjb25zdCBwb2tlbW9uT2JqZWN0ID0gbmV3IFBva2Vtb24odGhpcy5fY2FwaXRhbGl6ZShwb2tlbW9uLm5hbWUpLCBwb2tlSW1nLCBcclxuICAgICAgICAgICAgICAgIHBva2Vtb24uc3RhdHMuaHAsIHBva2Vtb24uc3RhdHMuYXR0YWNrLCBwb2tlbW9uLnN0YXRzLmRlZmVuc2UsXHJcbiAgICAgICAgICAgICAgICBwb2tlVHlwZXMsIHBva2VNb3ZlcylcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3Bva2Vtb25zLnB1c2gocG9rZW1vbk9iamVjdClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHBva2Vtb25zKCk6IFBva2Vtb25bXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Bva2Vtb25zXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UG9rZW1vbkJ5TmFtZShuYW1lOiBzdHJpbmcpOiBQb2tlbW9uIHtcclxuICAgICAgICBjb25zdCBwb2tlbW9uID0gdGhpcy5fcG9rZW1vbnMuZmluZCggcG9rZW1vbiA9PiBwb2tlbW9uLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZS50b0xvd2VyQ2FzZSgpKTtcclxuICAgICAgICBpZiAocG9rZW1vbiA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUG9rZW1vbiAke25hbWV9IGlzIG5vdCBmb3VuZCBpbiB0aGUgcG9rZW1vbiBmYWN0b3J5YClcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBva2Vtb25cclxuICAgIH1cclxuXHJcbiAgICBfY2FwaXRhbGl6ZShzdHI6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHN0ci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0ci5zbGljZSgxKTtcclxuICAgICAgfVxyXG59XHJcblxyXG4iLCJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi4vcGxheWVyQ2xhc3NcIjtcclxuaW1wb3J0IHsgR2FtZUhhbmRsZXIgfSBmcm9tIFwiLi4vZ2FtZUhhbmRsZXJDbGFzc1wiO1xyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBhY3Rpb25zQnV0dG9uRXZlbnRMaXN0ZW5lciA9IChwbGF5ZXI6IFBsYXllciwgZ2FtZUhhbmRsZXI6IEdhbWVIYW5kbGVyKSA9PiB7XHJcblxyXG4gIGNvbnN0IGJhdHRsZUJ1dHRvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiYmF0dGxlQnV0dG9uXCIpISBhcyBIVE1MQ29sbGVjdGlvbk9mPEhUTUxFbGVtZW50PjtcclxuICBjb25zdCBhdHRhY2tCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2F0dGFja0J1dHRvblwiKSEgYXMgSFRNTERpdkVsZW1lbnQ7XHJcbiAgY29uc3Qgc3dpdGNoQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzd2l0Y2hCdXR0b25cIikhIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gIGNvbnN0IG1hbmdvQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtYW5nb0J1dHRvblwiKSEgYXMgSFRNTERpdkVsZW1lbnQ7XHJcbiAgY29uc3QgbWFuZ28gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21hbmdvXCIpISBhcyBIVE1MRGl2RWxlbWVudDtcclxuXHJcbiAgYXR0YWNrQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgZ2FtZUhhbmRsZXIuZ2VuZXJhdGVBdHRhY2tCdXR0b25zKHBsYXllcik7XHJcbiAgfSk7XHJcbiAgc3dpdGNoQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgZ2FtZUhhbmRsZXIuZ2VuZXJhdGVTd2l0Y2hCdXR0b25zKHBsYXllcik7XHJcbiAgfSk7XHJcblxyXG4gIGlmKHRydWUpIHsgLy9nYW1lSGFuZGxlci5jYW5Vc2VNYW5nbygpXHJcbiAgICBtYW5nb0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgLy9nYW1lSGFuZGxlci51c2VNYW5nbygpO1xyXG4gICAgICBjb25zb2xlLmxvZygnbWFuZ28gdXNlZCEgbW5pYSBtbmlhIG1uaWEuLi4nKTsgLy9uZWVkcyB0byBiZSBkZWxldGVkXHJcbiAgICAgIG1hbmdvLmlubmVySFRNTCA9IFwiMFwiO1xyXG4gICAgICBtYW5nb0J1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRCdXR0b25cIik7XHJcbiAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgbWFuZ28uaW5uZXJIVE1MID0gXCIwXCI7XHJcbiAgICBtYW5nb0J1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRCdXR0b25cIik7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgYXR0YWNrc0J1dHRvbkV2ZW50TGlzdGVuZXIgPSAocGxheWVyOiBQbGF5ZXIsIGdhbWVIYW5kbGVyOiBHYW1lSGFuZGxlcikgPT4ge1xyXG5cclxuICBjb25zdCBhdHRhY2tCdXR0b25PbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2F0dGFja0J1dHRvbk9uZVwiKSEgYXMgSFRNTERpdkVsZW1lbnQ7XHJcbiAgY29uc3QgYXR0YWNrQnV0dG9uVHdvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhdHRhY2tCdXR0b25Ud29cIikhIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gIGNvbnN0IGJhdHRsZUJ1dHRvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiYmF0dGxlQnV0dG9uXCIpISBhcyBIVE1MQ29sbGVjdGlvbk9mPEhUTUxFbGVtZW50PjtcclxuICBjb25zdCBiYWNrQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNiYWNrQnV0dG9uXCIpISBhcyBIVE1MRGl2RWxlbWVudDtcclxuXHJcbiAgbWFnaWNGdW5jdGlvbihhdHRhY2tCdXR0b25PbmUsIGJhdHRsZUJ1dHRvbnMsIHBsYXllciwgZ2FtZUhhbmRsZXIsIGF0dGFjayk7XHJcbiAgbWFnaWNGdW5jdGlvbihhdHRhY2tCdXR0b25Ud28sIGJhdHRsZUJ1dHRvbnMsIHBsYXllciwgZ2FtZUhhbmRsZXIsIGF0dGFjayk7XHJcbiAgbWFnaWNGdW5jdGlvbihiYWNrQnV0dG9uLCBiYXR0bGVCdXR0b25zLCBwbGF5ZXIsIGdhbWVIYW5kbGVyKTtcclxuICB9XHJcblxyXG4gIGV4cG9ydCBjb25zdCBzd2l0Y2hCdXR0b25FdmVudExpc3RlbmVyID0gKHBsYXllcjogUGxheWVyLCBnYW1lSGFuZGxlcjogR2FtZUhhbmRsZXIpID0+IHtcclxuXHJcbiAgY29uc3Qgc3dpdGNoQnV0dG9uT25lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzd2l0Y2hCdXR0b25PbmVcIikhIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gIGNvbnN0IHN3aXRjaEJ1dHRvblR3byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc3dpdGNoQnV0dG9uVHdvXCIpISBhcyBIVE1MRGl2RWxlbWVudDtcclxuICBjb25zdCBiYXR0bGVCdXR0b25zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImJhdHRsZUJ1dHRvblwiKSEgYXMgSFRNTENvbGxlY3Rpb25PZjxIVE1MRWxlbWVudD47XHJcbiAgY29uc3QgYmFja0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYmFja0J1dHRvblwiKSEgYXMgSFRNTERpdkVsZW1lbnQ7XHJcblxyXG4gIG1hZ2ljRnVuY3Rpb24oc3dpdGNoQnV0dG9uT25lLCBiYXR0bGVCdXR0b25zLCBwbGF5ZXIsIGdhbWVIYW5kbGVyLCBzd2l0Y2hQb2tlKTtcclxuICBtYWdpY0Z1bmN0aW9uKHN3aXRjaEJ1dHRvblR3bywgYmF0dGxlQnV0dG9ucywgcGxheWVyLCBnYW1lSGFuZGxlciwgc3dpdGNoUG9rZSk7XHJcbiAgbWFnaWNGdW5jdGlvbihiYWNrQnV0dG9uLCBiYXR0bGVCdXR0b25zLCBwbGF5ZXIsIGdhbWVIYW5kbGVyKTtcclxufVxyXG5cclxuXHJcbmNvbnN0IG1hZ2ljRnVuY3Rpb24gPSAoYnV0dG9uOiBIVE1MRGl2RWxlbWVudCwgYnV0dG9uczogSFRNTENvbGxlY3Rpb25PZjxIVE1MRWxlbWVudD4sIHBsYXllcjogUGxheWVyLCBnYW1lSGFuZGxlcjogR2FtZUhhbmRsZXIsIGZ1bmN0aW9uVG9DYWxsPzogYW55KSA9PiB7XHJcbiAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coYCR7YnV0dG9uLmlubmVyVGV4dH0gdXNlZCFgKTtcclxuICAgIGlmIChmdW5jdGlvblRvQ2FsbCkgeyBmdW5jdGlvblRvQ2FsbCgpOyB9IC8vID8/XHJcbiAgICBzZXRUaW1lb3V0KCAoKT0+IHtcclxuICAgICAgZ2FtZUhhbmRsZXIuZ2VuZXJhdGVBY3Rpb25CdXR0b25zKHBsYXllcik7XHJcbiAgICB9LCA1MDApO1xyXG4gICAgLy9hbHNvIGNoYW5nZSBwbGF5ZXIgZnVuY3Rpb24gXHJcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgYnV0dG9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBidXR0b25zW2ldLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdncmVlbic7XHJcbiAgICB9XHJcbiAgfSApO1xyXG59XHJcblxyXG5cclxuLy8gZnVuY2lvbnMganVzdCBmb3IgY2hlY2sgaWYgaXRzIHdvcmtzIHNob3VsZCBiZSByZXBsYWNlZCB3aXRoIGdhbWVIYW5kbGVyID4gdXNlIGF0dGFjayBvciBzd2l0Y2ggUG9rZW1vbiBmdW5jdGlvbnNcclxuY29uc3QgYXR0YWNrID0gKCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKCdidW0gYnVtIGJhY2ghJyk7XHJcbn1cclxuY29uc3Qgc3dpdGNoUG9rZSA9ICgpID0+IHtcclxuICBjb25zb2xlLmxvZygncHVmZiEnKTtcclxufSIsImltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL3BsYXllckNsYXNzXCI7XHJcbmltcG9ydCB7IGFjdGlvbnNCdXR0b25FdmVudExpc3RlbmVyLCBhdHRhY2tzQnV0dG9uRXZlbnRMaXN0ZW5lciwgc3dpdGNoQnV0dG9uRXZlbnRMaXN0ZW5lciB9IGZyb20gXCIuL2ZpZ2h0UGFnZS9idXR0b25zRXZlbnRMaXN0ZW5lcnNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lSGFuZGxlciB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9wbGF5ZXJPbmU6IFBsYXllcixcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3BsYXllclR3bzogUGxheWVyXHJcbiAgKSB7fVxyXG5cclxuICBwcml2YXRlIF9jdXJyZW50UGxheWVyOiBQbGF5ZXIgPSB0aGlzLl9wbGF5ZXJPbmU7XHJcblxyXG4gIGdldCBwbGF5ZXJPbmUgKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3BsYXllck9uZTtcclxuICB9XHJcblxyXG4gIGdldCBwbGF5ZXJUd28oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcGxheWVyVHdvO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGN1cnJlbnRQbGF5ZXIoKTogUGxheWVyIHtcclxuICAgIHJldHVybiB0aGlzLl9jdXJyZW50UGxheWVyO1xyXG4gIH1cclxuXHJcbiAgZ2V0IG9wcG9uZW50UGxheWVyKCk6IFBsYXllciB7XHJcbiAgICBpZiAodGhpcy5fY3VycmVudFBsYXllciA9PT0gdGhpcy5fcGxheWVyT25lKSByZXR1cm4gdGhpcy5fcGxheWVyVHdvO1xyXG4gICAgcmV0dXJuIHRoaXMuX3BsYXllck9uZTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZGlkUGxheWVyTG9vc2UocGxheWVyOiBQbGF5ZXIpOiBib29sZWFuIHtcclxuICAgIHJldHVybiBwbGF5ZXIuYWxpdmVQb2tlbW9ucy5sZW5ndGggPT09IDA7XHJcbiAgfVxyXG5cclxuICBpc0dhbWVGaW5pc2hlZCgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIHRoaXMuZGlkUGxheWVyTG9vc2UodGhpcy5fcGxheWVyT25lKSB8fFxyXG4gICAgICB0aGlzLmRpZFBsYXllckxvb3NlKHRoaXMuX3BsYXllclR3bylcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBnZXRXaW5uZXIoKTogUGxheWVyIHwgRXJyb3Ige1xyXG4gICAgaWYgKCF0aGlzLmlzR2FtZUZpbmlzaGVkKCkpXHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBjYW5ub3QgZ2V0IHRoZSB3aW5uZXIuIFRoZSBnYW1lIGlzIG5vdCBvdmVyLlwiKTtcclxuICAgIHJldHVybiB0aGlzLmRpZFBsYXllckxvb3NlKHRoaXMuX3BsYXllck9uZSkgPT09IHRydWVcclxuICAgICAgPyB0aGlzLl9wbGF5ZXJUd29cclxuICAgICAgOiB0aGlzLl9wbGF5ZXJPbmU7XHJcbiAgfVxyXG5cclxuICBnZW5lcmF0ZUFjdGlvbkJ1dHRvbnMocGxheWVyOiBQbGF5ZXIpOiB2b2lkIHtcclxuICAgIGNvbnNvbGUubG9nKCdTdGFydCAtIGFjdGlvbiBtb2RhbCcpO1xyXG4gICAgY29uc3QgYWN0aW9uQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhY3Rpb25Nb2RhbHNcIikhO1xyXG4gICAgYWN0aW9uQ29udGFpbmVyLmlubmVySFRNTCA9IGBcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uIGJhdHRsZUJ1dHRvblwiIGlkPVwiYXR0YWNrQnV0dG9uXCI+YXR0YWNrPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbiBiYXR0bGVCdXR0b25cIiBpZD1cInN3aXRjaEJ1dHRvblwiPnN3aXRjaDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b24gYmF0dGxlQnV0dG9uXCIgaWQ9XCJtYW5nb0J1dHRvblwiPnVzZSBtYW5nbyAoPHNwYW4gaWQ9XCJtYW5nb1wiPjE8L3NwYW4+KTwvZGl2PmA7XHJcbiAgICBhY3Rpb25zQnV0dG9uRXZlbnRMaXN0ZW5lcihwbGF5ZXIsIHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgZ2VuZXJhdGVBdHRhY2tCdXR0b25zKHBsYXllcjogUGxheWVyKTogdm9pZCB7XHJcbiAgICBjb25zb2xlLmxvZygnQXR0YWNrIGNob29zZSBtb2RhbCcpO1xyXG4gICAgY29uc3QgYWN0aW9uQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhY3Rpb25Nb2RhbHNcIikhO1xyXG4gICAgYWN0aW9uQ29udGFpbmVyLmlubmVySFRNTCA9IGBcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uIGJhdHRsZUJ1dHRvblwiIGlkPVwiYXR0YWNrQnV0dG9uT25lXCI+JHtwbGF5ZXIucG9rZW1vbnNbMF0ubW92ZXNbMF0ubW92ZU5hbWV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbiBiYXR0bGVCdXR0b25cIiBpZD1cImF0dGFja0J1dHRvblR3b1wiPiR7cGxheWVyLnBva2Vtb25zWzBdLm1vdmVzWzFdLm1vdmVOYW1lfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b24gYmF0dGxlQnV0dG9uXCIgaWQ9XCJiYWNrQnV0dG9uXCI+YmFjazwvZGl2PmA7XHJcbiAgICBhdHRhY2tzQnV0dG9uRXZlbnRMaXN0ZW5lcihwbGF5ZXIsIHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgZ2VuZXJhdGVTd2l0Y2hCdXR0b25zKHBsYXllcjogUGxheWVyKTogdm9pZCB7XHJcbiAgICBjb25zb2xlLmxvZygnU3dpdGNoIGNob29zZSBtb2RhbCcpO1xyXG4gICAgY29uc3QgYWN0aW9uQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhY3Rpb25Nb2RhbHNcIikhO1xyXG4gICAgYWN0aW9uQ29udGFpbmVyLmlubmVySFRNTCA9IGBcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uIGJhdHRsZUJ1dHRvblwiIGlkPVwic3dpdGNoQnV0dG9uT25lXCI+JHtwbGF5ZXIucG9rZW1vbnNbMV0ubmFtZX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uIGJhdHRsZUJ1dHRvblwiIGlkPVwic3dpdGNoQnV0dG9uVHdvXCI+JHtwbGF5ZXIucG9rZW1vbnNbMl0ubmFtZX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uIGJhdHRsZUJ1dHRvblwiIGlkPVwiYmFja0J1dHRvblwiPmJhY2s8L2Rpdj5gO1xyXG4gICAgc3dpdGNoQnV0dG9uRXZlbnRMaXN0ZW5lcihwbGF5ZXIsIHRoaXMpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi4vcGxheWVyQ2xhc3NcIjtcclxuaW1wb3J0IHsgc3RhcnRCYXR0bGUgfSBmcm9tIFwiLi4vZmlnaHRQYWdlL3N0YXJ0QmF0dGxlXCI7XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IHN0YXJ0R2FtZUlmUmVhZHkgPSAocGxheWVyT25lOiBQbGF5ZXIsIHBsYXllclR3bzogUGxheWVyKSA9PiB7XHJcbiAgaWYgKHBsYXllck9uZS5wb2tlbW9ucy5sZW5ndGggPCAzIHx8IHBsYXllclR3by5wb2tlbW9ucy5sZW5ndGggPCAzKSByZXR1cm47XHJcbiAgY29uc3QgYXBwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhcHBcIikgYXMgSFRNTERpdkVsZW1lbnQ7XHJcbiAgc3RhcnRCYXR0bGUocGxheWVyT25lLCBwbGF5ZXJUd28sIGFwcCk7XHJcbn07XHJcbiIsImltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuLi9wbGF5ZXJDbGFzc1wiO1xyXG5pbXBvcnQgeyBHYW1lSGFuZGxlciB9IGZyb20gXCIuLi9nYW1lSGFuZGxlckNsYXNzXCI7XHJcbmltcG9ydCB7IGNyZWF0ZUZpZ2h0UGFnZSB9IGZyb20gXCIuL3JlbmRlckZpZ2h0UGFnZVwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IHN0YXJ0QmF0dGxlID0gKFxyXG4gIHBsYXllck9uZTogUGxheWVyLFxyXG4gIHBsYXllclR3bzogUGxheWVyLFxyXG4gIGFwcDogSFRNTERpdkVsZW1lbnRcclxuKSA9PiB7XHJcbiAgY29uc3QgZ2FtZSA9IG5ldyBHYW1lSGFuZGxlcihwbGF5ZXJPbmUsIHBsYXllclR3byk7XHJcbiAgc2V0VGltZW91dCgoKSA9PiBjcmVhdGVGaWdodFBhZ2UoYXBwLCBnYW1lKSwgMjAwMCk7XHJcbn07XHJcbiIsImltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuLi9wbGF5ZXJDbGFzc1wiO1xyXG5pbXBvcnQgeyBHYW1lSGFuZGxlciB9IGZyb20gXCIuLi9nYW1lSGFuZGxlckNsYXNzXCI7XHJcbmltcG9ydCB7IGNyZWF0ZUFjdGl2ZVBva2Vtb24gfSBmcm9tIFwiLi9jcmVhdGVBY3RpdmVQb2tlbW9uXCI7XHJcbmltcG9ydCB7IGNyZWF0ZUFjdGl2ZVBsYXllciB9IGZyb20gXCIuL2NyZWF0ZUFjdGl2ZVBsYXllclwiO1xyXG5pbXBvcnQgeyBjcmVhdGVIUEJhcnMgfSBmcm9tIFwiLi9jcmVhdGVIUEJhcnNcIjtcclxuaW1wb3J0IHsgY3JlYXRlRmlnaHRQYWdlUG9rZWJhbGxzIH0gZnJvbSBcIi4vY3JlYXRlRmlnaHRQYWdlUG9rZWJhbGxzXCI7XHJcblxyXG5jb25zdCBjcmVhdGVQbGF5ZXJGaWdodE5hbWVzID0gKGdhbWVIYW5kbGVyOiBHYW1lSGFuZGxlcikgPT4ge1xyXG4gIGNvbnN0IHBsYXllck9uZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgXCIjZmlnaHQtcGFnZS1wbGF5ZXIxLW5hbWVcIlxyXG4gICkgYXMgSFRNTEhlYWRpbmdFbGVtZW50O1xyXG4gIGNvbnN0IHBsYXllclR3b05hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgXCIjZmlnaHQtcGFnZS1wbGF5ZXIyLW5hbWVcIlxyXG4gICkgYXMgSFRNTEhlYWRpbmdFbGVtZW50O1xyXG4gIHBsYXllck9uZU5hbWUudGV4dENvbnRlbnQgPSBnYW1lSGFuZGxlci5wbGF5ZXJPbmUubmFtZTtcclxuICBwbGF5ZXJUd29OYW1lLnRleHRDb250ZW50ID0gZ2FtZUhhbmRsZXIucGxheWVyVHdvLm5hbWU7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlRmlnaHRQYWdlID0gKFxyXG4gIGFwcERpdjogSFRNTERpdkVsZW1lbnQsXHJcbiAgZ2FtZUhhbmRsZXI6IEdhbWVIYW5kbGVyXHJcbikgPT4ge1xyXG4gIGNvbnN0IGZpZ2h0UGFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICBcIiNmaWdodC1wYWdlLXRlbXBsYXRlXCJcclxuICApIGFzIEhUTUxUZW1wbGF0ZUVsZW1lbnQ7XHJcbiAgYXBwRGl2LmlubmVySFRNTCA9IGZpZ2h0UGFnZS5pbm5lckhUTUw7XHJcbiAgY3JlYXRlUGxheWVyRmlnaHROYW1lcyhnYW1lSGFuZGxlcik7XHJcbiAgY3JlYXRlQWN0aXZlUGxheWVyKGdhbWVIYW5kbGVyKTtcclxuICBjcmVhdGVBY3RpdmVQb2tlbW9uKGdhbWVIYW5kbGVyKTtcclxuICBjcmVhdGVIUEJhcnMoZ2FtZUhhbmRsZXIucGxheWVyT25lLCBnYW1lSGFuZGxlci5wbGF5ZXJUd28pO1xyXG4gIGNyZWF0ZUZpZ2h0UGFnZVBva2ViYWxscyhnYW1lSGFuZGxlcik7XHJcbiAgLy8gZ2VuZXJhdGUgY2hvb3NlIGFjdGlvbiBidXR0b25zXHJcbiAgZ2FtZUhhbmRsZXIuZ2VuZXJhdGVBY3Rpb25CdXR0b25zKGdhbWVIYW5kbGVyLmN1cnJlbnRQbGF5ZXIpO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi4vcGxheWVyQ2xhc3NcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVIUEJhcnMgPSAocGxheWVyT25lOiBQbGF5ZXIsIHBsYXllclR3bzogUGxheWVyKSA9PiB7XHJcbiAgY29uc3QgY3JlYXRlQmFyID0gKHBsYXllcjogUGxheWVyLCBIUEJhcjogSFRNTERpdkVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IG1heEhQID0gcGxheWVyLmdldEFjdGl2ZVBva2Vtb24ubWF4SFA7XHJcbiAgICBjb25zdCBjdXJyZW50SFAgPSBwbGF5ZXIuZ2V0QWN0aXZlUG9rZW1vbi5jdXJyZW50SFA7XHJcbiAgICBjb25zdCBIUEluUGVyY2VudCA9IChjdXJyZW50SFAgLyBtYXhIUCkgKiAxMDA7XHJcbiAgICBjb25zb2xlLmxvZyhIUEluUGVyY2VudCk7XHJcbiAgICBIUEJhci5zdHlsZS53aWR0aCA9IGAke0hQSW5QZXJjZW50fSVgO1xyXG4gICAgbGV0IEhQQ2xhc3NMaXN0ID0gSFBCYXIuY2xhc3NMaXN0O1xyXG4gICAgaWYgKEhQSW5QZXJjZW50IDwgMjApIHtcclxuICAgICAgSFBDbGFzc0xpc3QucmVtb3ZlKFwiaHBCYXJIaWdoTGV2ZWxcIik7XHJcbiAgICAgIEhQQ2xhc3NMaXN0LmFkZChcImhwQmFyTG93TGV2ZWxcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBIUENsYXNzTGlzdC5yZW1vdmUoXCJocEJhckxvd0xldmVsXCIpO1xyXG4gICAgICBIUENsYXNzTGlzdC5hZGQoXCJocEJhckhpZ2hMZXZlbFwiKTtcclxuICAgIH1cclxuICB9O1xyXG4gIGNvbnN0IHBsYXllck9uZUhQQmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgIFwiI2hwLWJhci1wbGF5ZXIxXCJcclxuICApIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gIGNvbnN0IHBsYXllclR3b0hQQmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgIFwiI2hwLWJhci1wbGF5ZXIyXCJcclxuICApIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gIGNyZWF0ZUJhcihwbGF5ZXJPbmUsIHBsYXllck9uZUhQQmFyKTtcclxuICBjcmVhdGVCYXIocGxheWVyVHdvLCBwbGF5ZXJUd29IUEJhcik7XHJcbn07XHJcbiIsImltcG9ydCB7IEdhbWVIYW5kbGVyIH0gZnJvbSBcIi4uL2dhbWVIYW5kbGVyQ2xhc3NcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVBY3RpdmVQbGF5ZXIgPSAoZ2FtZUhhbmRsZXI6IEdhbWVIYW5kbGVyKSA9PiB7XHJcbiAgY29uc3QgYWN0aXZlUGxheWVyQXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICBcIiNhY3RpdmUtcGxheWVyLWluZm9cIlxyXG4gICkgYXMgSFRNTERpdkVsZW1lbnQ7XHJcbiAgYWN0aXZlUGxheWVyQXJlYS50ZXh0Q29udGVudCA9IGAke2dhbWVIYW5kbGVyLmN1cnJlbnRQbGF5ZXIubmFtZX0gbm93IGlzIHlvdXIgdHVybi4gR2V0IHRoZSByZXZlbmdlIWA7XHJcbn07XHJcbiIsImltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuLi9wbGF5ZXJDbGFzc1wiO1xyXG5pbXBvcnQgeyBHYW1lSGFuZGxlciB9IGZyb20gXCIuLi9nYW1lSGFuZGxlckNsYXNzXCI7XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlQWN0aXZlUG9rZW1vbiA9IChnYW1lSGFuZGxlcjogR2FtZUhhbmRsZXIpID0+IHtcclxuICAgIGNvbnN0IHBsYXllck9uZUFjdGl2ZVBva2Vtb25JbWFnZUFyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIiNwb2tlbW9uLWltYWdlLXBsYXllcjFcIlxyXG4gICAgKSBhcyBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gICAgY29uc3QgcGxheWVyVHdvQWN0aXZlUG9rZW1vbkltYWdlQXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiI3Bva2Vtb24taW1hZ2UtcGxheWVyMlwiXHJcbiAgICApIGFzIEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgICBjb25zdCBwbGF5ZXJPbmVBY3RpdmVQb2tlbW9uTmFtZUFyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIiNwb2tlbW9uLW5hbWUtcGxheWVyMVwiXHJcbiAgICApIGFzIEhUTUxIZWFkaW5nRWxlbWVudDtcclxuICAgIGNvbnN0IHBsYXllclR3b0FjdGl2ZVBva2Vtb25OYW1lQXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiI3Bva2Vtb24tbmFtZS1wbGF5ZXIyXCJcclxuICAgICkgYXMgSFRNTEhlYWRpbmdFbGVtZW50O1xyXG4gICAgY29uc3QgY3JlYXRlUG9rZW1vbiA9IChcclxuICAgICAgcGxheWVyOiBQbGF5ZXIsXHJcbiAgICAgIGltYWdlQXJlYTogSFRNTEltYWdlRWxlbWVudCxcclxuICAgICAgbmFtZUFyZWE6IEhUTUxIZWFkaW5nRWxlbWVudFxyXG4gICAgKSA9PiB7XHJcbiAgICAgIGNvbnN0IHBva2Vtb25OYW1lID0gcGxheWVyLmdldEFjdGl2ZVBva2Vtb24ubmFtZTtcclxuICAgICAgaW1hZ2VBcmVhLnNldEF0dHJpYnV0ZShcInNyY1wiLCBgLi9hc3NldHMvJHtwb2tlbW9uTmFtZS50b0xvd2VyQ2FzZSgpfS5wbmdgKTtcclxuICAgICAgbmFtZUFyZWEudGV4dENvbnRlbnQgPSBwb2tlbW9uTmFtZTtcclxuICAgIH07XHJcbiAgICBjcmVhdGVQb2tlbW9uKFxyXG4gICAgICBnYW1lSGFuZGxlci5wbGF5ZXJPbmUsXHJcbiAgICAgIHBsYXllck9uZUFjdGl2ZVBva2Vtb25JbWFnZUFyZWEsXHJcbiAgICAgIHBsYXllck9uZUFjdGl2ZVBva2Vtb25OYW1lQXJlYVxyXG4gICAgKTtcclxuICAgIGNyZWF0ZVBva2Vtb24oXHJcbiAgICAgIGdhbWVIYW5kbGVyLnBsYXllclR3byxcclxuICAgICAgcGxheWVyVHdvQWN0aXZlUG9rZW1vbkltYWdlQXJlYSxcclxuICAgICAgcGxheWVyVHdvQWN0aXZlUG9rZW1vbk5hbWVBcmVhXHJcbiAgICApO1xyXG4gIH07IiwiaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4uL3BsYXllckNsYXNzXCI7XHJcbmltcG9ydCB7IEdhbWVIYW5kbGVyIH0gZnJvbSBcIi4uL2dhbWVIYW5kbGVyQ2xhc3NcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVGaWdodFBhZ2VQb2tlYmFsbHMgPSAoZ2FtZUhhbmRsZXI6IEdhbWVIYW5kbGVyKSA9PiB7XHJcbiAgICBjb25zdCBjaGFuZ2VDbGFzc09mRGlzYWJsZWRQb2tlbW9ucyA9IChcclxuICAgICAgcGxheWVyOiBQbGF5ZXIsXHJcbiAgICAgIHBsYXllclBva2ViYWxsczogSFRNTEltYWdlRWxlbWVudFtdXHJcbiAgICApID0+IHtcclxuICAgICAgZm9yIChsZXQgaSA9IDI7IGkgPiBwbGF5ZXIuYWxpdmVQb2tlbW9ucy5sZW5ndGggLSAxOyBpLS0pIHtcclxuICAgICAgICBwbGF5ZXJQb2tlYmFsbHNbaV0uY2xhc3NMaXN0LmFkZChcImRpc2FibGVkUG9rZW1vblwiKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHBsYXllck9uZVBva2ViYWxscyA9IEFycmF5LmZyb20oXHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjZmlnaHQtcGFnZS1wbGF5ZXIxIC5wb2tlYmFsbFdpdGhQb2tlbW9uXCIpXHJcbiAgICApIGFzIEhUTUxJbWFnZUVsZW1lbnRbXTtcclxuICAgIGNvbnN0IHBsYXllclR3b1Bva2ViYWxscyA9IEFycmF5LmZyb20oXHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjZmlnaHQtcGFnZS1wbGF5ZXIyIC5wb2tlYmFsbFdpdGhQb2tlbW9uXCIpXHJcbiAgICApIGFzIEhUTUxJbWFnZUVsZW1lbnRbXTtcclxuICAgIGNoYW5nZUNsYXNzT2ZEaXNhYmxlZFBva2Vtb25zKGdhbWVIYW5kbGVyLnBsYXllck9uZSwgcGxheWVyT25lUG9rZWJhbGxzKTtcclxuICAgIGNoYW5nZUNsYXNzT2ZEaXNhYmxlZFBva2Vtb25zKGdhbWVIYW5kbGVyLnBsYXllclR3bywgcGxheWVyVHdvUG9rZWJhbGxzKTtcclxuICB9OyIsImltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuLi9wbGF5ZXJDbGFzc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVBY3RpdmVQbGF5ZXJOYW1lIH0gZnJvbSBcIi4vY3JlYXRlQWN0aXZlUGxheWVyTmFtZVwiO1xyXG5pbXBvcnQgeyBjcmVhdGVQbGF5ZXJOYW1lcyB9IGZyb20gXCIuL2NyZWF0ZVBsYXllck5hbWVzXCI7XHJcbmltcG9ydCB7IGNyZWF0ZVBva2Vtb25zIH0gZnJvbSBcIi4vY3JlYXRlUG9rZW1vbnNcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVDaG9vc2VQYWdlID0gKHBsYXllck9uZTogUGxheWVyLCBwbGF5ZXJUd286IFBsYXllcikgPT4ge1xyXG4gIGxldCBhY3RpdmVQbGF5ZXIgPSBwbGF5ZXJPbmU7XHJcbiAgY3JlYXRlUGxheWVyTmFtZXMocGxheWVyT25lLCBwbGF5ZXJUd28pO1xyXG4gIGNyZWF0ZUFjdGl2ZVBsYXllck5hbWUoYWN0aXZlUGxheWVyKTtcclxuICBjcmVhdGVQb2tlbW9ucyhwbGF5ZXJPbmUsIHBsYXllclR3bywgYWN0aXZlUGxheWVyKTtcclxufTtcclxuIiwiaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4uL3BsYXllckNsYXNzXCI7XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlUGxheWVyTmFtZXMgPSAocGxheWVyT25lOiBQbGF5ZXIsIHBsYXllclR3bzogUGxheWVyKSA9PiB7XHJcbiAgbGV0IHBsYXllck9uZU5hbWVBcmVhVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2hvb3NlUGFnZVBsYXllcjFOYW1lXCIpITtcclxuICBwbGF5ZXJPbmVOYW1lQXJlYVRleHQudGV4dENvbnRlbnQgPSBwbGF5ZXJPbmUubmFtZTtcclxuICBsZXQgcGxheWVyVHdvTmFtZUFyZWFUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjaG9vc2VQYWdlUGxheWVyMk5hbWVcIikhO1xyXG4gIHBsYXllclR3b05hbWVBcmVhVGV4dC50ZXh0Q29udGVudCA9IHBsYXllclR3by5uYW1lO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi4vcGxheWVyQ2xhc3NcIjtcclxuaW1wb3J0IHsgUG9rZW1vbkZhY3RvcnkgfSBmcm9tIFwiLi4vcG9rZW1vbkZhY3RvcnlcIjtcclxuaW1wb3J0ICogYXMgZGF0YSBmcm9tIFwiLi4vLi4vYXNzZXRzL3Bva2VfZGF0YS5qc29uXCI7XHJcbmltcG9ydCB7IHN0YXJ0R2FtZUlmUmVhZHkgfSBmcm9tIFwiLi9zdGFydEdhbWVJZlJlYWR5XCI7XHJcbmltcG9ydCB7IGFkZENob3NlblBva2Vtb24gfSBmcm9tIFwiLi9hZGRDaG9zZW5Qb2tlbW9uXCI7XHJcbmltcG9ydCB7IGNyZWF0ZVBva2ViYWxscyB9IGZyb20gXCIuL2NyZWF0ZVBva2ViYWxsc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVBY3RpdmVQbGF5ZXJOYW1lIH0gZnJvbSBcIi4vY3JlYXRlQWN0aXZlUGxheWVyTmFtZVwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVBva2Vtb25zID0gKFxyXG4gIHBsYXllck9uZTogUGxheWVyLFxyXG4gIHBsYXllclR3bzogUGxheWVyLFxyXG4gIGFjdGl2ZVBsYXllcjogUGxheWVyXHJcbikgPT4ge1xyXG4gIGNvbnN0IHBva2VEYXRhID0gZGF0YS5wb2tlbW9ucztcclxuICBjb25zdCBwb2tlbW9uRmFjdG9yeSA9IG5ldyBQb2tlbW9uRmFjdG9yeShwb2tlRGF0YSk7XHJcbiAgY29uc3QgcG9rZW1vbkltYWdlcyA9IEFycmF5LmZyb20oXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI3Bva2Vtb25MaXN0IGltZ1wiKVxyXG4gICkgYXMgW0hUTUxJbWFnZUVsZW1lbnRdO1xyXG5cclxuICBwb2tlbW9uSW1hZ2VzLmZvckVhY2goKHBva2Vtb25JbWFnZSkgPT5cclxuICAgIHBva2Vtb25JbWFnZS5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICBcImNsaWNrXCIsXHJcbiAgICAgIChlKSA9PiB7XHJcbiAgICAgICAgaWYgKGFjdGl2ZVBsYXllci5wb2tlbW9ucy5sZW5ndGggPT09IDMpIHJldHVybjtcclxuICAgICAgICBhZGRDaG9zZW5Qb2tlbW9uKGUsIHBva2Vtb25GYWN0b3J5LCBhY3RpdmVQbGF5ZXIpO1xyXG4gICAgICAgIGNyZWF0ZVBva2ViYWxscyhwbGF5ZXJPbmUsIGFjdGl2ZVBsYXllcik7XHJcbiAgICAgICAgLy8gY2hhbmdlIHBsYXllclxyXG4gICAgICAgIGFjdGl2ZVBsYXllciA9IGFjdGl2ZVBsYXllciA9PT0gcGxheWVyT25lID8gcGxheWVyVHdvIDogcGxheWVyT25lO1xyXG4gICAgICAgIGNyZWF0ZUFjdGl2ZVBsYXllck5hbWUoYWN0aXZlUGxheWVyKTtcclxuICAgICAgICBzdGFydEdhbWVJZlJlYWR5KHBsYXllck9uZSwgcGxheWVyVHdvKTtcclxuICAgICAgfSxcclxuICAgICAgeyBvbmNlOiB0cnVlIH1cclxuICAgIClcclxuICApO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBQb2tlbW9uIH0gZnJvbSBcIi4uL3Bva2Vtb25DbGFzc1wiO1xyXG5pbXBvcnQgeyBQb2tlbW9uRmFjdG9yeSB9IGZyb20gXCIuLi9wb2tlbW9uRmFjdG9yeVwiO1xyXG5pbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi4vcGxheWVyQ2xhc3NcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBhZGRDaG9zZW5Qb2tlbW9uID0gKFxyXG4gIGV2ZW50OiBFdmVudCxcclxuICBmYWN0b3J5OiBQb2tlbW9uRmFjdG9yeSxcclxuICBhY3RpdmVQbGF5ZXI6IFBsYXllclxyXG4pID0+IHtcclxuICBjb25zdCBjbGlja2VkUG9rZW1vbiA9IGV2ZW50LnRhcmdldCBhcyBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gIGNvbnN0IHBva2Vtb25OYW1lID0gY2xpY2tlZFBva2Vtb24uaWQ7XHJcbiAgY29uc3QgbmV3UG9rZW1vbk9iamVjdDogUG9rZW1vbiA9IGZhY3RvcnkuZ2V0UG9rZW1vbkJ5TmFtZShwb2tlbW9uTmFtZSk7XHJcbiAgYWN0aXZlUGxheWVyLmFkZFBva2Vtb24obmV3UG9rZW1vbk9iamVjdCk7XHJcbiAgY2xpY2tlZFBva2Vtb24uc3R5bGUuY3Vyc29yID0gXCJkZWZhdWx0XCI7XHJcbiAgY2xpY2tlZFBva2Vtb24uc3R5bGUuZmlsdGVyID0gXCJncmF5c2NhbGUoMTAwJSlcIjtcclxufTtcclxuIiwiaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4uL3BsYXllckNsYXNzXCI7XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlUG9rZWJhbGxzID0gKHBsYXllck9uZTogUGxheWVyLCBhY3RpdmVQbGF5ZXI6IFBsYXllcikgPT4ge1xyXG4gIGNvbnN0IHBsYXllclBva2ViYWxsczogSFRNTEltYWdlRWxlbWVudFtdID1cclxuICAgIGFjdGl2ZVBsYXllciA9PT0gcGxheWVyT25lXHJcbiAgICAgID8gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI2Nob29zZVBhZ2VQbGF5ZXIxIGltZ1wiKSlcclxuICAgICAgOiBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjY2hvb3NlUGFnZVBsYXllcjIgaW1nXCIpKTtcclxuICBjb25zdCBwbGF5ZXJMYXN0UG9rZW1vbk5hbWU6IHN0cmluZyA9IGFjdGl2ZVBsYXllci5wb2tlbW9uc1tcclxuICAgIGFjdGl2ZVBsYXllci5wb2tlbW9ucy5sZW5ndGggLSAxXHJcbiAgXS5uYW1lLnRvTG93ZXJDYXNlKCk7XHJcbiAgY29uc3QgbnVtYmVyT2ZMYXN0UG9rZW1vbjogbnVtYmVyID0gYWN0aXZlUGxheWVyLnBva2Vtb25zLmxlbmd0aCAtIDE7XHJcbiAgcGxheWVyUG9rZWJhbGxzW251bWJlck9mTGFzdFBva2Vtb25dLnNldEF0dHJpYnV0ZShcclxuICAgIFwic3JjXCIsXHJcbiAgICBgLi9hc3NldHMvJHtwbGF5ZXJMYXN0UG9rZW1vbk5hbWV9LnBuZ2BcclxuICApO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBQb2tlbW9uIH0gZnJvbSBcIi4vcG9rZW1vbkNsYXNzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUGxheWVyIHtcclxuICBwcml2YXRlIF9uYW1lOiBzdHJpbmc7XHJcbiAgcHJpdmF0ZSBfcG9rZW1vbnM6IFBva2Vtb25bXTtcclxuICBwcml2YXRlIF9pbmRleE9mQWN0aXZlUG9rZW1vbjogbnVtYmVyO1xyXG4gIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgcG9rZW1vbnM6IFBva2Vtb25bXSkge1xyXG4gICAgaWYgKG5hbWUubGVuZ3RoID4gOCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUb28gbG9uZyBuYW1lXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKHBva2Vtb25zLmxlbmd0aCA+IDMpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiV3JvbmcgbnVtYmVyIG9mIHBva2Vtb25zXCIpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLl9wb2tlbW9ucyA9IHBva2Vtb25zO1xyXG4gICAgdGhpcy5faW5kZXhPZkFjdGl2ZVBva2Vtb24gPSAwO1xyXG4gIH1cclxuXHJcbiAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLl9uYW1lO1xyXG4gIH1cclxuICBnZXQgcG9rZW1vbnMoKTogUG9rZW1vbltdIHtcclxuICAgIHJldHVybiB0aGlzLl9wb2tlbW9ucztcclxuICB9XHJcblxyXG4gIHNldCBpbmRleE9mQWN0aXZlUG9rZW1vbihudW1PZkFjdGl2ZVBva2Vtb246IG51bWJlcikge1xyXG4gICAgdGhpcy5faW5kZXhPZkFjdGl2ZVBva2Vtb24gPSBudW1PZkFjdGl2ZVBva2Vtb247XHJcbiAgfVxyXG4gIGdldCBnZXRBY3RpdmVQb2tlbW9uKCk6IFBva2Vtb24ge1xyXG4gICAgcmV0dXJuIHRoaXMuX3Bva2Vtb25zW3RoaXMuX2luZGV4T2ZBY3RpdmVQb2tlbW9uXTtcclxuICB9XHJcblxyXG4gIGdldCBhbGl2ZVBva2Vtb25zKCk6IFBva2Vtb25bXSB7XHJcbiAgICBjb25zdCBhbGl2ZVBva2Vtb25zVGFiOiBQb2tlbW9uW10gPSB0aGlzLnBva2Vtb25zLmZpbHRlcigocG9rZW1vbikgPT5cclxuICAgICAgcG9rZW1vbi5pc0FsaXZlKClcclxuICAgICk7XHJcbiAgICByZXR1cm4gYWxpdmVQb2tlbW9uc1RhYjtcclxuICB9XHJcblxyXG4gIGFkZFBva2Vtb24ocG9rZW1vbjogUG9rZW1vbik6IHZvaWQge1xyXG4gICAgdGhpcy5fcG9rZW1vbnMucHVzaChwb2tlbW9uKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNvbnN0IGFjdGl2YXRlU3RhcnQgPSAobmFtZTFJbnB1dDogSFRNTElucHV0RWxlbWVudCwgbmFtZTJJbnB1dDogSFRNTElucHV0RWxlbWVudCwgc3RhcnRCdXR0b246IEhUTUxEaXZFbGVtZW50KSA9PiB7XHJcbiAgICBpZiAobmFtZTFJbnB1dC52YWx1ZS5sZW5ndGggPiAwICYmIG5hbWUySW5wdXQudmFsdWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHN0YXJ0QnV0dG9uLmNsYXNzTmFtZSA9ICdidXR0b24tZW5hYmxlZCdcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc3RhcnRCdXR0b24uY2xhc3NOYW1lID0gJ2J1dHRvbi1kaXNhYmxlZCdcclxuICAgIH1cclxufSIsImltcG9ydCB7IHNob3dNb2RhbCwgaGlkZU1vZGFsIH0gZnJvbSBcIi4vbW9kYWxQb3BVcEZ1bmN0aW9uc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVDaG9vc2VQYWdlIH0gZnJvbSBcIi4vY2hvb3NlUG9rZW1vbnNQYWdlL2Nob29zZVBva2Vtb25zUGFnZVwiXHJcbmltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL3BsYXllckNsYXNzXCI7XHJcbmltcG9ydCB7IGFjdGl2YXRlU3RhcnQgfSBmcm9tICcuL2FjdGl2YXRlU3RhcnQnO1xyXG5cclxuY29uc3QgcmVuZGVyU3RhcnRpbmdQYWdlID0gKGFwcERpdjogSFRNTERpdkVsZW1lbnQpID0+IHtcclxuICBjb25zdCBzdGFydGluZ1BhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgXCIjc3RhcnRpbmctcGFnZS10ZW1wbGF0ZVwiXHJcbiAgKSBhcyBIVE1MVGVtcGxhdGVFbGVtZW50O1xyXG4gIGFwcERpdi5pbm5lckhUTUwgPSBzdGFydGluZ1BhZ2UuaW5uZXJIVE1MO1xyXG59O1xyXG5jb25zdCByZW5kZXJIb3dUb1BsYXlNb2RhbCA9IChhcHBEaXY6IEhUTUxEaXZFbGVtZW50KSA9PiB7XHJcbiAgY29uc3QgaW5mb01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgIFwiI2luZm8tbW9kYWwtdGVtcGxhdGVcIlxyXG4gICkgYXMgSFRNTFRlbXBsYXRlRWxlbWVudDtcclxuICBhcHBEaXYuaW5uZXJIVE1MICs9IGluZm9Nb2RhbC5pbm5lckhUTUw7XHJcbn07XHJcbmNvbnN0IGNyZWF0ZUhvd1RvUGxheUJ1dHRvbiA9ICgpID0+IHtcclxuICBjb25zdCBob3dUb1BsYXlCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgXCIjaG93LXRvLXBsYXktYnV0dG9uXCJcclxuICApIGFzIEhUTUxVTGlzdEVsZW1lbnQ7XHJcbiAgY29uc3QgaW5mb01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgIFwiI2luZm8tbW9kYWwtc2NyZWVuXCJcclxuICApIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gIGhvd1RvUGxheUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgc2hvd01vZGFsKGluZm9Nb2RhbCwgXCJmbGV4XCIpO1xyXG4gIH0pO1xyXG4gIGhpZGVNb2RhbChpbmZvTW9kYWwpO1xyXG59O1xyXG5cclxuY29uc3QgYWN0aXZhdGVTdGFydEJ1dHRvbiA9ICgpID0+IHtcclxuICBjb25zdCBwbGF5ZXIxTmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2VudGVyLXBsYXllcjEtbmFtZScpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgY29uc3QgcGxheWVyMk5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlbnRlci1wbGF5ZXIyLW5hbWUnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gIGNvbnN0IHN0YXJ0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzdGFydC1nYW1lLWJ1dHRvblwiKSBhcyBIVE1MRGl2RWxlbWVudDtcclxuICBwbGF5ZXIxTmFtZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCAoKSA9PiB7XHJcbiAgICAgIGFjdGl2YXRlU3RhcnQocGxheWVyMU5hbWVJbnB1dCwgcGxheWVyMk5hbWVJbnB1dCwgc3RhcnRCdXR0b24pXHJcbiAgfSlcclxuICBwbGF5ZXIyTmFtZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCAoKSA9PiB7XHJcbiAgICAgIGFjdGl2YXRlU3RhcnQocGxheWVyMU5hbWVJbnB1dCwgcGxheWVyMk5hbWVJbnB1dCwgc3RhcnRCdXR0b24pXHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCByZW5kZXJDaG9vc2VQb2tlbW9uU2NyZWVuID0gKGFwcERpdjogSFRNTERpdkVsZW1lbnQpID0+IHtcclxuICBjb25zdCBwbGF5QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgIFwiI3N0YXJ0LWdhbWUtYnV0dG9uXCJcclxuICApIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gIHBsYXlCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBjb25zdCBwbGF5ZXIxTmFtZUlucHV0ID0gKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlbnRlci1wbGF5ZXIxLW5hbWUnKSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuICAgIGNvbnN0IHBsYXllcjJOYW1lSW5wdXQgPSAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2VudGVyLXBsYXllcjItbmFtZScpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgY29uc3QgY2hvb3NlUG9rZW1vblNjcmVlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiI2Nob29zZS1wYWdlLXRlbXBsYXRlXCJcclxuICAgICkgYXMgSFRNTFRlbXBsYXRlRWxlbWVudDtcclxuICAgIGFwcERpdi5pbm5lckhUTUwgPSBjaG9vc2VQb2tlbW9uU2NyZWVuLmlubmVySFRNTDtcclxuICAgIGNyZWF0ZUNob29zZVBhZ2UobmV3IFBsYXllcihwbGF5ZXIxTmFtZUlucHV0LCBbXSksIG5ldyBQbGF5ZXIocGxheWVyMk5hbWVJbnB1dCwgW10pKTtcclxuICB9KTtcclxufVxyXG5cclxuY29uc3QgcmVuZGVyQXBwID0gKCkgPT4ge1xyXG4gIGNvbnN0IGFwcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYXBwXCIpIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gIHJlbmRlclN0YXJ0aW5nUGFnZShhcHApO1xyXG4gIHJlbmRlckhvd1RvUGxheU1vZGFsKGFwcCk7XHJcbiAgYWN0aXZhdGVTdGFydEJ1dHRvbigpO1xyXG4gIGNyZWF0ZUhvd1RvUGxheUJ1dHRvbigpO1xyXG4gIHJlbmRlckNob29zZVBva2Vtb25TY3JlZW4oYXBwKTtcclxufTtcclxuXHJcbnNldFRpbWVvdXQocmVuZGVyQXBwLCAyMDAwKTtcclxuXHJcbiJdLCJzb3VyY2VSb290IjoiIn0=