(()=>{"use strict";var e=function(e){var t=document.querySelector("#whoChoosesParagraph");3===e.pokemons.length?t.textContent="Wait for the game to start...":t.textContent=e.name+" chooses 1 pokemon"},t=function(){function e(e,t,n,r,o,a,c){this._name=e,this._image=t,this._maxHP=n,this._currentHP=n,this._attackPoints=r,this._defensePoints=o,this._types=a,this._moves=c}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"image",{get:function(){return this._image},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentHP",{get:function(){return this._currentHP},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxHP",{get:function(){return this._maxHP},enumerable:!1,configurable:!0}),e.prototype.subtractHP=function(e){var t=this._currentHP-e;t<0&&(this._currentHP=0),this._currentHP=t},e.prototype.heal=function(){this._currentHP=this._maxHP},Object.defineProperty(e.prototype,"attackPoints",{get:function(){return this._attackPoints},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defensePoints",{get:function(){return this._defensePoints},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"types",{get:function(){return this._types},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"moves",{get:function(){return this._moves},enumerable:!1,configurable:!0}),e.prototype.isAlive=function(){return this._currentHP>0},e}(),n=function(){function e(e){this._pokemons=[];for(var n=0,r=e;n<r.length;n++){var o=r[n],a="../assets/"+o.name+".png",c=o.moves.reduce((function(e,t){return e.push({moveName:t.name,moveType:t.type}),e}),[]),i=o.types.map((function(e){return e})),u=new t(this._capitalize(o.name),a,o.stats.hp,o.stats.attack,o.stats.defense,i,c);this._pokemons.push(u)}}return Object.defineProperty(e.prototype,"pokemons",{get:function(){return this._pokemons},enumerable:!1,configurable:!0}),e.prototype.getPokemonByName=function(e){var t=this._pokemons.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}));if(void 0===t)throw new Error("Pokemon "+e+" is not found in the pokemon factory");return t},e.prototype._capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e}();const r=JSON.parse('{"x":[{"name":"bulbasaur","types":["grass","poison"],"stats":{"hp":45,"attack":49,"defense":49},"moves":[{"name":"razor-wind","accuracy":100,"power":80,"type":"normal"},{"name":"vine-whip","accuracy":100,"power":45,"type":"grass"},{"name":"mega-drain","accuracy":100,"power":40,"type":"grass"},{"name":"razor-leaf","accuracy":95,"power":55,"type":"grass"}]},{"name":"charmander","types":["fire"],"stats":{"hp":39,"attack":52,"defense":43},"moves":[{"name":"mega-punch","accuracy":85,"power":80,"type":"normal"},{"name":"ember","accuracy":100,"power":40,"type":"fire"},{"name":"flamethrower","accuracy":100,"power":90,"type":"fire"},{"name":"submission","accuracy":80,"power":80,"type":"fighting"}]},{"name":"squirtle","types":["water"],"stats":{"hp":44,"attack":48,"defense":65},"moves":[{"name":"mega-kick","accuracy":75,"power":120,"type":"normal"},{"name":"water-gun","accuracy":100,"power":40,"type":"water"},{"name":"hydro-pump","accuracy":80,"power":110,"type":"water"},{"name":"blizzard","accuracy":70,"power":110,"type":"ice"}]},{"name":"weedle","types":["bug","poison"],"stats":{"hp":40,"attack":35,"defense":30},"moves":[{"name":"poison-sting","accuracy":100,"power":15,"type":"poison"},{"name":"string-shot","accuracy":95,"power":0,"type":"poison"},{"name":"bug-bite","accuracy":100,"power":60,"type":"bug"},{"name":"electroweb","accuracy":95,"power":55,"type":"electric"}]},{"name":"pidgey","types":["normal","flying"],"stats":{"hp":40,"attack":45,"defense":40},"moves":[{"name":"razor-wind","accuracy":100,"power":80,"type":"normal"},{"name":"wing-attack","accuracy":100,"power":60,"type":"flying"},{"name":"fly","accuracy":95,"power":90,"type":"flying"},{"name":"sky-attack","accuracy":90,"power":140,"type":"flying"}]},{"name":"rattata","types":["normal"],"stats":{"hp":30,"attack":56,"defense":35},"moves":[{"name":"body-slam","accuracy":100,"power":85,"type":"normal"},{"name":"bite","accuracy":100,"power":60,"type":"dark"},{"name":"bubble-beam","accuracy":100,"power":65,"type":"water"},{"name":"dig","accuracy":100,"power":80,"type":"ground"}]},{"name":"pikachu","types":["electric"],"stats":{"hp":35,"attack":55,"defense":40},"moves":[{"name":"slam","accuracy":75,"power":80,"type":"normal"},{"name":"thunder-punch","accuracy":100,"power":75,"type":"electric"},{"name":"thunderbolt","accuracy":100,"power":90,"type":"electric"},{"name":"thunder","accuracy":70,"power":110,"type":"electric"}]},{"name":"sandshrew","types":["ground"],"stats":{"hp":50,"attack":75,"defense":85},"moves":[{"name":"headbutt","accuracy":100,"power":70,"type":"normal"},{"name":"body-slam","accuracy":100,"power":85,"type":"normal"},{"name":"earthquake","accuracy":100,"power":100,"type":"ground"},{"name":"dig","accuracy":100,"power":80,"type":"ground"}]},{"name":"clefairy","types":["fairy"],"stats":{"hp":70,"attack":45,"defense":48},"moves":[{"name":"fire-punch","accuracy":100,"power":75,"type":"fire"},{"name":"ice-punch","accuracy":100,"power":75,"type":"ice"},{"name":"thunder-punch","accuracy":100,"power":75,"type":"electric"},{"name":"water-gun","accuracy":100,"power":40,"type":"water"}]},{"name":"abra","types":["psychic"],"stats":{"hp":25,"attack":20,"defense":15},"moves":[{"name":"mega-punch","accuracy":85,"power":80,"type":"normal"},{"name":"ice-punch","accuracy":100,"power":75,"type":"ice"},{"name":"thunder-punch","accuracy":100,"power":75,"type":"electric"},{"name":"psychic","accuracy":100,"power":90,"type":"psychic"}]},{"name":"machop","types":["fighting"],"stats":{"hp":70,"attack":80,"defense":50},"moves":[{"name":"karate-chop","accuracy":100,"power":50,"type":"fighting"},{"name":"mega-kick","accuracy":75,"power":120,"type":"normal"},{"name":"rolling-kick","accuracy":85,"power":60,"type":"fighting"},{"name":"submission","accuracy":80,"power":80,"type":"fighting"}]},{"name":"geodude","types":["rock","ground"],"stats":{"hp":40,"attack":80,"defense":100},"moves":[{"name":"headbutt","accuracy":100,"power":70,"type":"normal"},{"name":"rock-throw","accuracy":90,"power":50,"type":"rock"},{"name":"earthquake","accuracy":100,"power":100,"type":"ground"},{"name":"dig","accuracy":100,"power":80,"type":"ground"}]}]}');var o=function(){function e(e,t){this._playerOne=e,this._playerTwo=t,this._currentPlayer=this._playerOne}return Object.defineProperty(e.prototype,"playerOne",{get:function(){return this._playerOne},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playerTwo",{get:function(){return this._playerTwo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentPlayer",{get:function(){return this._currentPlayer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"opponentPlayer",{get:function(){return this._currentPlayer===this._playerOne?this._playerTwo:this._playerOne},enumerable:!1,configurable:!0}),e.prototype.didPlayerLoose=function(e){return 0===e.alivePokemons.length},e.prototype.isGameFinished=function(){return this.didPlayerLoose(this._playerOne)||this.didPlayerLoose(this._playerTwo)},e.prototype.getWinner=function(){if(!this.isGameFinished())throw new Error("You cannot get the winner. The game is not over.");return!0===this.didPlayerLoose(this._playerOne)?this._playerTwo:this._playerOne},e}(),a=function(e,t){e.pokemons.length<3||t.pokemons.length<3||function(e,t,n){var r=new o(e,t);setTimeout((function(){return function(e,t){var n,r,o,a,c,i=document.querySelector("#fight-page-template");e.innerHTML=i.innerHTML,function(e){var t=document.querySelector("#fight-page-player1-name"),n=document.querySelector("#fight-page-player2-name");t.textContent=e.playerOne.name,n.textContent=e.playerTwo.name}(t),function(e){document.querySelector("#active-player-info").textContent=e.currentPlayer.name+" now is your turn. Get the revenge!"}(t),function(e){var t=document.querySelector("#pokemon-image-player1"),n=document.querySelector("#pokemon-image-player2"),r=document.querySelector("#pokemon-name-player1"),o=document.querySelector("#pokemon-name-player2"),a=function(e,t,n){var r=e.getActivePokemon.name;t.setAttribute("src","./assets/"+r.toLowerCase()+".png"),n.textContent=r};a(e.playerOne,t,r),a(e.playerTwo,n,o)}(t),n=t.playerOne,r=t.playerTwo,o=function(e,t){var n=e.getActivePokemon.maxHP,r=e.getActivePokemon.currentHP/n*100;console.log(r),t.style.width=r+"%";var o=t.classList;r<20?(o.remove("hpBarHighLevel"),o.add("hpBarLowLevel")):(o.remove("hpBarLowLevel"),o.add("hpBarHighLevel"))},a=document.querySelector("#hp-bar-player1"),c=document.querySelector("#hp-bar-player2"),o(n,a),o(r,c),function(e){var t=function(e,t){for(var n=2;n>e.alivePokemons.length-1;n--)t[n].classList.add("disabledPokemon")},n=Array.from(document.querySelectorAll("#fight-page-player1 .pokeballWithPokemon")),r=Array.from(document.querySelectorAll("#fight-page-player2 .pokeballWithPokemon"));t(e.playerOne,n),t(e.playerTwo,r)}(t)}(n,r)}),2e3)}(e,t,document.querySelector("#app"))},c=function(t,o){var c=t;!function(e,t){document.querySelector("#choosePagePlayer1Name").textContent=e.name,document.querySelector("#choosePagePlayer2Name").textContent=t.name}(t,o),e(c),function(t,o,c){var i=r.x,u=new n(i);Array.from(document.querySelectorAll("#pokemonList img")).forEach((function(n){return n.addEventListener("click",(function(n){3!==c.pokemons.length&&(function(e,t,n){var r=e.target,o=r.id,a=t.getPokemonByName(o);n.addPokemon(a),r.style.cursor="default",r.style.filter="grayscale(100%)"}(n,u,c),function(e,t){var n=t===e?Array.from(document.querySelectorAll("#choosePagePlayer1 img")):Array.from(document.querySelectorAll("#choosePagePlayer2 img")),r=t.pokemons[t.pokemons.length-1].name.toLowerCase();n[t.pokemons.length-1].setAttribute("src","./assets/"+r+".png")}(t,c),e(c=c===t?o:t),a(t,o))}),{once:!0})}))}(t,o,c)},i=function(){function e(e,t){if(e.length>8)throw new Error("Too long name");if(t.length>3)throw new Error("Wrong number of pokemons");this._name=e,this._pokemons=t,this._indexOfActivePokemon=0}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pokemons",{get:function(){return this._pokemons},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"indexOfActivePokemon",{set:function(e){this._indexOfActivePokemon=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getActivePokemon",{get:function(){return this._pokemons[this._indexOfActivePokemon]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alivePokemons",{get:function(){return this.pokemons.filter((function(e){return e.isAlive()}))},enumerable:!1,configurable:!0}),e.prototype.addPokemon=function(e){this._pokemons.push(e)},e}(),u=function(e,t,n){e.value.length>0&&t.value.length>0?n.className="button-enabled":n.className="button-disabled"};setTimeout((function(){var e,t,n,r,o,a,p,s,y,m=document.querySelector("#app");e=m,t=document.querySelector("#starting-page-template"),e.innerHTML=t.innerHTML,function(e){var t=document.querySelector("#info-modal-template");e.innerHTML+=t.innerHTML}(m),n=document.querySelector("#enter-player1-name"),r=document.querySelector("#enter-player2-name"),o=document.querySelector("#start-game-button"),n.addEventListener("keyup",(function(){u(n,r,o)})),r.addEventListener("keyup",(function(){u(n,r,o)})),s=document.querySelector("#how-to-play-button"),y=document.querySelector("#info-modal-screen"),s.addEventListener("click",(function(){y.style.display="flex"})),null==(p=(a=y).querySelector(".exitButton"))||p.addEventListener("click",(function(){a.style.display="none"})),function(e){var t=document.querySelector("#start-game-button");null==t||t.addEventListener("click",(function(){var t=document.querySelector("#enter-player1-name").value,n=document.querySelector("#enter-player2-name").value,r=document.querySelector("#choose-page-template");e.innerHTML=r.innerHTML,c(new i(t,[]),new i(n,[]))}))}(m)}),2e3)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL21vZGFsUG9wVXBGdW5jdGlvbnMudHMiLCJ3ZWJwYWNrOi8vY29kZXJzY2FtcDIwMjAucHJvamVjdC50eXBlc2NyaXB0LnBva2Vtb25maWdodC8uL3NyYy9jaG9vc2VQb2tlbW9uc1BhZ2UvY3JlYXRlQWN0aXZlUGxheWVyTmFtZS50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL3Bva2Vtb25DbGFzcy50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL3Bva2Vtb25GYWN0b3J5LnRzIiwid2VicGFjazovL2NvZGVyc2NhbXAyMDIwLnByb2plY3QudHlwZXNjcmlwdC5wb2tlbW9uZmlnaHQvLi9zcmMvZ2FtZUhhbmRsZXJDbGFzcy50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL2Nob29zZVBva2Vtb25zUGFnZS9zdGFydEdhbWVJZlJlYWR5LnRzIiwid2VicGFjazovL2NvZGVyc2NhbXAyMDIwLnByb2plY3QudHlwZXNjcmlwdC5wb2tlbW9uZmlnaHQvLi9zcmMvZmlnaHRQYWdlL3N0YXJ0QmF0dGxlLnRzIiwid2VicGFjazovL2NvZGVyc2NhbXAyMDIwLnByb2plY3QudHlwZXNjcmlwdC5wb2tlbW9uZmlnaHQvLi9zcmMvZmlnaHRQYWdlL3JlbmRlckZpZ2h0UGFnZS50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL2ZpZ2h0UGFnZS9jcmVhdGVIUEJhcnMudHMiLCJ3ZWJwYWNrOi8vY29kZXJzY2FtcDIwMjAucHJvamVjdC50eXBlc2NyaXB0LnBva2Vtb25maWdodC8uL3NyYy9maWdodFBhZ2UvY3JlYXRlQWN0aXZlUGxheWVyLnRzIiwid2VicGFjazovL2NvZGVyc2NhbXAyMDIwLnByb2plY3QudHlwZXNjcmlwdC5wb2tlbW9uZmlnaHQvLi9zcmMvZmlnaHRQYWdlL2NyZWF0ZUFjdGl2ZVBva2Vtb24udHMiLCJ3ZWJwYWNrOi8vY29kZXJzY2FtcDIwMjAucHJvamVjdC50eXBlc2NyaXB0LnBva2Vtb25maWdodC8uL3NyYy9maWdodFBhZ2UvY3JlYXRlRmlnaHRQYWdlUG9rZWJhbGxzLnRzIiwid2VicGFjazovL2NvZGVyc2NhbXAyMDIwLnByb2plY3QudHlwZXNjcmlwdC5wb2tlbW9uZmlnaHQvLi9zcmMvY2hvb3NlUG9rZW1vbnNQYWdlL2Nob29zZVBva2Vtb25zUGFnZS50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL2Nob29zZVBva2Vtb25zUGFnZS9jcmVhdGVQbGF5ZXJOYW1lcy50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL2Nob29zZVBva2Vtb25zUGFnZS9jcmVhdGVQb2tlbW9ucy50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL2Nob29zZVBva2Vtb25zUGFnZS9hZGRDaG9zZW5Qb2tlbW9uLnRzIiwid2VicGFjazovL2NvZGVyc2NhbXAyMDIwLnByb2plY3QudHlwZXNjcmlwdC5wb2tlbW9uZmlnaHQvLi9zcmMvY2hvb3NlUG9rZW1vbnNQYWdlL2NyZWF0ZVBva2ViYWxscy50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL3BsYXllckNsYXNzLnRzIiwid2VicGFjazovL2NvZGVyc2NhbXAyMDIwLnByb2plY3QudHlwZXNjcmlwdC5wb2tlbW9uZmlnaHQvLi9zcmMvYWN0aXZhdGVTdGFydC50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImNyZWF0ZUFjdGl2ZVBsYXllck5hbWUiLCJhY3RpdmVQbGF5ZXIiLCJ3aG9DaG9vc2VzUG9rZW1vblRleHQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJwb2tlbW9ucyIsImxlbmd0aCIsInRleHRDb250ZW50IiwibmFtZSIsImltYWdlIiwibWF4SFAiLCJhdHRhY2tQb2ludHMiLCJkZWZlbnNlUG9pbnRzIiwidHlwZXMiLCJtb3ZlcyIsInRoaXMiLCJfbmFtZSIsIl9pbWFnZSIsIl9tYXhIUCIsIl9jdXJyZW50SFAiLCJfYXR0YWNrUG9pbnRzIiwiX2RlZmVuc2VQb2ludHMiLCJfdHlwZXMiLCJfbW92ZXMiLCJzdWJ0cmFjdEhQIiwicG9pbnRzVG9TdWJ0cmFjdCIsIm5ld0hQIiwiaGVhbCIsImlzQWxpdmUiLCJwb2tlRGF0YSIsIl9wb2tlbW9ucyIsInBva2Vtb24iLCJwb2tlSW1nIiwicG9rZU1vdmVzIiwicmVkdWNlIiwidGFiIiwibW92ZSIsInB1c2giLCJtb3ZlTmFtZSIsIm1vdmVUeXBlIiwidHlwZSIsInBva2VUeXBlcyIsIm1hcCIsInYiLCJwb2tlbW9uT2JqZWN0IiwiUG9rZW1vbiIsIl9jYXBpdGFsaXplIiwic3RhdHMiLCJocCIsImF0dGFjayIsImRlZmVuc2UiLCJnZXRQb2tlbW9uQnlOYW1lIiwiZmluZCIsInRvTG93ZXJDYXNlIiwidW5kZWZpbmVkIiwiRXJyb3IiLCJzdHIiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwiX3BsYXllck9uZSIsIl9wbGF5ZXJUd28iLCJfY3VycmVudFBsYXllciIsImRpZFBsYXllckxvb3NlIiwicGxheWVyIiwiYWxpdmVQb2tlbW9ucyIsImlzR2FtZUZpbmlzaGVkIiwiZ2V0V2lubmVyIiwic3RhcnRHYW1lSWZSZWFkeSIsInBsYXllck9uZSIsInBsYXllclR3byIsImFwcCIsImdhbWUiLCJHYW1lSGFuZGxlciIsInNldFRpbWVvdXQiLCJhcHBEaXYiLCJnYW1lSGFuZGxlciIsImNyZWF0ZUJhciIsInBsYXllck9uZUhQQmFyIiwicGxheWVyVHdvSFBCYXIiLCJmaWdodFBhZ2UiLCJpbm5lckhUTUwiLCJwbGF5ZXJPbmVOYW1lIiwicGxheWVyVHdvTmFtZSIsImNyZWF0ZVBsYXllckZpZ2h0TmFtZXMiLCJjdXJyZW50UGxheWVyIiwiY3JlYXRlQWN0aXZlUGxheWVyIiwicGxheWVyT25lQWN0aXZlUG9rZW1vbkltYWdlQXJlYSIsInBsYXllclR3b0FjdGl2ZVBva2Vtb25JbWFnZUFyZWEiLCJwbGF5ZXJPbmVBY3RpdmVQb2tlbW9uTmFtZUFyZWEiLCJwbGF5ZXJUd29BY3RpdmVQb2tlbW9uTmFtZUFyZWEiLCJjcmVhdGVQb2tlbW9uIiwiaW1hZ2VBcmVhIiwibmFtZUFyZWEiLCJwb2tlbW9uTmFtZSIsImdldEFjdGl2ZVBva2Vtb24iLCJzZXRBdHRyaWJ1dGUiLCJjcmVhdGVBY3RpdmVQb2tlbW9uIiwiSFBCYXIiLCJIUEluUGVyY2VudCIsImN1cnJlbnRIUCIsImNvbnNvbGUiLCJsb2ciLCJzdHlsZSIsIndpZHRoIiwiSFBDbGFzc0xpc3QiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJhZGQiLCJjaGFuZ2VDbGFzc09mRGlzYWJsZWRQb2tlbW9ucyIsInBsYXllclBva2ViYWxscyIsImkiLCJwbGF5ZXJPbmVQb2tlYmFsbHMiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwicGxheWVyVHdvUG9rZWJhbGxzIiwiY3JlYXRlRmlnaHRQYWdlUG9rZWJhbGxzIiwiY3JlYXRlRmlnaHRQYWdlIiwic3RhcnRCYXR0bGUiLCJjcmVhdGVDaG9vc2VQYWdlIiwiY3JlYXRlUGxheWVyTmFtZXMiLCJwb2tlbW9uRmFjdG9yeSIsIlBva2Vtb25GYWN0b3J5IiwiZm9yRWFjaCIsInBva2Vtb25JbWFnZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwiZXZlbnQiLCJmYWN0b3J5IiwiY2xpY2tlZFBva2Vtb24iLCJ0YXJnZXQiLCJpZCIsIm5ld1Bva2Vtb25PYmplY3QiLCJhZGRQb2tlbW9uIiwiY3Vyc29yIiwiZmlsdGVyIiwiYWRkQ2hvc2VuUG9rZW1vbiIsInBsYXllckxhc3RQb2tlbW9uTmFtZSIsImNyZWF0ZVBva2ViYWxscyIsIm9uY2UiLCJjcmVhdGVQb2tlbW9ucyIsIl9pbmRleE9mQWN0aXZlUG9rZW1vbiIsIm51bU9mQWN0aXZlUG9rZW1vbiIsImFjdGl2YXRlU3RhcnQiLCJuYW1lMUlucHV0IiwibmFtZTJJbnB1dCIsInN0YXJ0QnV0dG9uIiwidmFsdWUiLCJjbGFzc05hbWUiLCJzdGFydGluZ1BhZ2UiLCJwbGF5ZXIxTmFtZUlucHV0IiwicGxheWVyMk5hbWVJbnB1dCIsInNjcmVlblRvRGlzcGxheSIsImV4aXRCdXR0b24iLCJob3dUb1BsYXlCdXR0b24iLCJpbmZvTW9kYWwiLCJyZW5kZXJIb3dUb1BsYXlNb2RhbCIsImRpc3BsYXkiLCJwbGF5QnV0dG9uIiwiY2hvb3NlUG9rZW1vblNjcmVlbiIsIlBsYXllciIsInJlbmRlckNob29zZVBva2Vtb25TY3JlZW4iXSwibWFwcGluZ3MiOiJtQkFBTyxJQ0VNQSxFQUF5QixTQUFDQyxHQUNyQyxJQUFJQyxFQUF3QkMsU0FBU0MsY0FBYyx3QkFDbEIsSUFBakNILEVBQWFJLFNBQVNDLE9BQ2pCSixFQUFzQkssWUFBYyxnQ0FDcENMLEVBQXNCSyxZQUFpQk4sRUFBYU8sS0FBSSxzQkNTL0QsYUFXRSxXQUFZQSxFQUFjQyxFQUFlQyxFQUFlQyxFQUN0REMsRUFBdUJDLEVBQXNCQyxHQUU3Q0MsS0FBS0MsTUFBUVIsRUFDYk8sS0FBS0UsT0FBU1IsRUFDZE0sS0FBS0csT0FBU1IsRUFDZEssS0FBS0ksV0FBYVQsRUFDbEJLLEtBQUtLLGNBQWdCVCxFQUNyQkksS0FBS00sZUFBaUJULEVBQ3RCRyxLQUFLTyxPQUFTVCxFQUNkRSxLQUFLUSxPQUFTVCxFQW1EbEIsT0EvQ0Us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dUJBQzFDK0ksRUFBY2hKLFNBQVNDLGNBQWMsc0JBQzNDbUosRUFBaUJ6QixpQkFBaUIsU0FBUyxXQUN2Q2tCLEVBQWNPLEVBQWtCQyxFQUFrQkwsTUFFdERLLEVBQWlCMUIsaUJBQWlCLFNBQVMsV0FDdkNrQixFQUFjTyxFQUFrQkMsRUFBa0JMLE1BcEJoRFEsRUFBa0J4SixTQUFTQyxjQUMvQix1QkFFSXdKLEVBQVl6SixTQUFTQyxjQUN6QixzQkFFRnVKLEVBQWdCN0IsaUJBQWlCLFNBQVMsV0FDOUI4QixFbkJyQklyRCxNQUFNdUQsUW1CcUJDLFVuQmhCdkJKLE9BRE1BLEdBRGtCRCxFbUJvQmRHLEduQm5CeUJ4SixjQUFjLGlCQUNqRHNKLEVBQVk1QixpQkFBaUIsU0FBUyxXQUNwQzJCLEVBQWdCbEQsTUFBTXVELFFBQVUsVW1CZ0NGLFNBQUNuRixHQUNqQyxJQUFNb0YsRUFBYTVKLFNBQVNDLGNBQzFCLHNCQUVGMkosV0FBWWpDLGlCQUFpQixTQUFTLFdBQ3BDLElBQU15QixFQUFvQnBKLFNBQVNDLGNBQWMsdUJBQTRDZ0osTUFDdkZJLEVBQW9CckosU0FBU0MsY0FBYyx1QkFBNENnSixNQUN2RlksRUFBc0I3SixTQUFTQyxjQUNuQyx5QkFFRnVFLEVBQU9NLFVBQVkrRSxFQUFvQi9FLFVBQ3ZDdUMsRUFBaUIsSUFBSXlDLEVBQU9WLEVBQWtCLElBQUssSUFBSVUsRUFBT1QsRUFBa0IsUUFVbEZVLENBQTBCM0YsS0FHTixNIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHNob3dNb2RhbCA9IChcclxuICBzY3JlZW5Ub0Rpc3BsYXk6IEhUTUxEaXZFbGVtZW50LFxyXG4gIHN0YXJ0aW5nUG9zaXRpb246IHN0cmluZ1xyXG4pID0+IHtcclxuICBzY3JlZW5Ub0Rpc3BsYXkuc3R5bGUuZGlzcGxheSA9IHN0YXJ0aW5nUG9zaXRpb247XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgaGlkZU1vZGFsID0gKHNjcmVlblRvRGlzcGxheTogSFRNTERpdkVsZW1lbnQpID0+IHtcclxuICBjb25zdCBleGl0QnV0dG9uID0gc2NyZWVuVG9EaXNwbGF5LnF1ZXJ5U2VsZWN0b3IoXCIuZXhpdEJ1dHRvblwiKTtcclxuICBleGl0QnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgc2NyZWVuVG9EaXNwbGF5LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICB9KTtcclxufTtcclxuIiwiaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4uL3BsYXllckNsYXNzXCI7XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlQWN0aXZlUGxheWVyTmFtZSA9IChhY3RpdmVQbGF5ZXI6IFBsYXllcikgPT4ge1xyXG4gIGxldCB3aG9DaG9vc2VzUG9rZW1vblRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3dob0Nob29zZXNQYXJhZ3JhcGhcIikhO1xyXG4gIGFjdGl2ZVBsYXllci5wb2tlbW9ucy5sZW5ndGggPT09IDNcclxuICAgID8gKHdob0Nob29zZXNQb2tlbW9uVGV4dC50ZXh0Q29udGVudCA9IFwiV2FpdCBmb3IgdGhlIGdhbWUgdG8gc3RhcnQuLi5cIilcclxuICAgIDogKHdob0Nob29zZXNQb2tlbW9uVGV4dC50ZXh0Q29udGVudCA9IGAke2FjdGl2ZVBsYXllci5uYW1lfSBjaG9vc2VzIDEgcG9rZW1vbmApO1xyXG59O1xyXG4iLCJleHBvcnQgdHlwZSBQb2tlbW9uVHlwZSA9XHJcbiAgfCBcImdyYXNzXCJcclxuICB8IFwicG9pc29uXCJcclxuICB8IFwiZmlyZVwiXHJcbiAgfCBcIndhdGVyXCJcclxuICB8IFwiYnVnXCJcclxuICB8IFwibm9ybWFsXCJcclxuICB8IFwiZmx5aW5nXCJcclxuICB8IFwiZWxlY3RyaWNcIlxyXG4gIHwgXCJncm91bmRcIlxyXG4gIHwgXCJmYWlyeVwiXHJcbiAgfCBcInBzeWNoaWNcIlxyXG4gIHwgXCJmaWdodGluZ1wiXHJcbiAgfCBcInJvY2tcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb2tlbW9uIHtcclxuXHJcbiAgcmVhZG9ubHkgX25hbWU6IHN0cmluZztcclxuICByZWFkb25seSBfaW1hZ2U6IHN0cmluZztcclxuICByZWFkb25seSBfbWF4SFA6IG51bWJlcjtcclxuICBwcml2YXRlIF9jdXJyZW50SFA6IG51bWJlcjtcclxuICByZWFkb25seSBfYXR0YWNrUG9pbnRzOiBudW1iZXI7XHJcbiAgcmVhZG9ubHkgX2RlZmVuc2VQb2ludHM6IG51bWJlcjtcclxuICByZWFkb25seSBfdHlwZXM6IFBva2Vtb25UeXBlW107XHJcbiAgcmVhZG9ubHkgX21vdmVzOiB7IG1vdmVOYW1lOiBzdHJpbmc7IG1vdmVUeXBlOiBQb2tlbW9uVHlwZSB9W107XHJcblxyXG4gIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgaW1hZ2U6IHN0cmluZywgbWF4SFA6IG51bWJlciwgYXR0YWNrUG9pbnRzOiBudW1iZXIsXHJcbiAgICBkZWZlbnNlUG9pbnRzOiBudW1iZXIsIHR5cGVzOiBQb2tlbW9uVHlwZVtdLCBtb3ZlczogeyBtb3ZlTmFtZTogc3RyaW5nOyBtb3ZlVHlwZTogUG9rZW1vblR5cGUgfVtdKSB7XHJcblxyXG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLl9pbWFnZSA9IGltYWdlO1xyXG4gICAgdGhpcy5fbWF4SFAgPSBtYXhIUDtcclxuICAgIHRoaXMuX2N1cnJlbnRIUCA9IG1heEhQO1xyXG4gICAgdGhpcy5fYXR0YWNrUG9pbnRzID0gYXR0YWNrUG9pbnRzO1xyXG4gICAgdGhpcy5fZGVmZW5zZVBvaW50cyA9IGRlZmVuc2VQb2ludHM7XHJcbiAgICB0aGlzLl90eXBlcyA9IHR5cGVzO1xyXG4gICAgdGhpcy5fbW92ZXMgPSBtb3ZlcztcclxuICB9XHJcblxyXG5cclxuICBnZXQgbmFtZSgpIHtcclxuICAgIHJldHVybiB0aGlzLl9uYW1lO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGltYWdlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2ltYWdlO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGN1cnJlbnRIUCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9jdXJyZW50SFA7XHJcbiAgfVxyXG5cclxuICBnZXQgbWF4SFAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fbWF4SFA7XHJcbiAgfVxyXG5cclxuICBzdWJ0cmFjdEhQKHBvaW50c1RvU3VidHJhY3Q6IG51bWJlcik6IHZvaWQge1xyXG4gICAgY29uc3QgbmV3SFAgPSB0aGlzLl9jdXJyZW50SFAgLSBwb2ludHNUb1N1YnRyYWN0O1xyXG4gICAgaWYgKG5ld0hQIDwgMCkge1xyXG4gICAgICB0aGlzLl9jdXJyZW50SFAgPSAwO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fY3VycmVudEhQID0gbmV3SFA7XHJcbiAgfVxyXG5cclxuICBoZWFsKCk6IHZvaWQge1xyXG4gICAgdGhpcy5fY3VycmVudEhQID0gdGhpcy5fbWF4SFA7XHJcbiAgfVxyXG5cclxuICBnZXQgYXR0YWNrUG9pbnRzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2F0dGFja1BvaW50cztcclxuICB9XHJcblxyXG4gIGdldCBkZWZlbnNlUG9pbnRzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2RlZmVuc2VQb2ludHM7XHJcbiAgfVxyXG5cclxuICBnZXQgdHlwZXMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fdHlwZXM7XHJcbiAgfVxyXG5cclxuICBnZXQgbW92ZXMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fbW92ZXM7XHJcbiAgfVxyXG5cclxuICBpc0FsaXZlKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRIUCA+IDA7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFBva2Vtb24gfSBmcm9tIFwiLi9wb2tlbW9uQ2xhc3NcIlxyXG5pbXBvcnQgeyBQb2tlbW9uVHlwZSB9IGZyb20gXCIuL3Bva2Vtb25DbGFzc1wiXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFBva2Vtb25GYWN0b3J5IHtcclxuICAgIHJlYWRvbmx5IF9wb2tlbW9uczogUG9rZW1vbltdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBva2VEYXRhOiB7XHJcbiAgICAgICAgbmFtZTogc3RyaW5nOyB0eXBlczogc3RyaW5nW107XHJcbiAgICAgICAgc3RhdHM6IHsgaHA6IG51bWJlcjsgYXR0YWNrOiBudW1iZXI7IGRlZmVuc2U6IG51bWJlcjsgfTtcclxuICAgICAgICBtb3ZlczogeyBuYW1lOiBzdHJpbmc7IGFjY3VyYWN5OiBudW1iZXI7IHBvd2VyOiBudW1iZXI7IHR5cGU6IHN0cmluZzsgfVtdXHJcbiAgICB9W10pIHtcclxuICAgICAgICB0aGlzLl9wb2tlbW9ucyA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBwb2tlbW9uIG9mIHBva2VEYXRhKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBwb2tlSW1nID0gXCIuLi9hc3NldHMvXCIgKyBwb2tlbW9uLm5hbWUgKyBcIi5wbmdcIlxyXG5cclxuICAgICAgICAgICAgY29uc3QgcG9rZU1vdmVzID0gcG9rZW1vbi5tb3Zlcy5yZWR1Y2UoICh0YWIsIG1vdmUpID0+IHtcclxuICAgICAgICAgICAgICAgIHRhYi5wdXNoKHttb3ZlTmFtZTogbW92ZS5uYW1lLCBtb3ZlVHlwZTogbW92ZS50eXBlIGFzIFBva2Vtb25UeXBlfSlcclxuICAgICAgICAgICAgICAgIHJldHVybiB0YWJcclxuICAgICAgICAgICAgICAgIH0sIFtdIGFzIHttb3ZlTmFtZTogc3RyaW5nLCBtb3ZlVHlwZTogUG9rZW1vblR5cGV9W10pXHJcblxyXG4gICAgICAgICAgICBjb25zdCBwb2tlVHlwZXM6IFBva2Vtb25UeXBlW10gPSBwb2tlbW9uLnR5cGVzLm1hcCh2ID0+IHYgYXMgUG9rZW1vblR5cGUpXHJcblxyXG4gICAgICAgICAgICBjb25zdCBwb2tlbW9uT2JqZWN0ID0gbmV3IFBva2Vtb24odGhpcy5fY2FwaXRhbGl6ZShwb2tlbW9uLm5hbWUpLCBwb2tlSW1nLCBcclxuICAgICAgICAgICAgICAgIHBva2Vtb24uc3RhdHMuaHAsIHBva2Vtb24uc3RhdHMuYXR0YWNrLCBwb2tlbW9uLnN0YXRzLmRlZmVuc2UsXHJcbiAgICAgICAgICAgICAgICBwb2tlVHlwZXMsIHBva2VNb3ZlcylcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3Bva2Vtb25zLnB1c2gocG9rZW1vbk9iamVjdClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHBva2Vtb25zKCk6IFBva2Vtb25bXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Bva2Vtb25zXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UG9rZW1vbkJ5TmFtZShuYW1lOiBzdHJpbmcpOiBQb2tlbW9uIHtcclxuICAgICAgICBjb25zdCBwb2tlbW9uID0gdGhpcy5fcG9rZW1vbnMuZmluZCggcG9rZW1vbiA9PiBwb2tlbW9uLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZS50b0xvd2VyQ2FzZSgpKTtcclxuICAgICAgICBpZiAocG9rZW1vbiA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUG9rZW1vbiAke25hbWV9IGlzIG5vdCBmb3VuZCBpbiB0aGUgcG9rZW1vbiBmYWN0b3J5YClcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBva2Vtb25cclxuICAgIH1cclxuXHJcbiAgICBfY2FwaXRhbGl6ZShzdHI6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHN0ci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0ci5zbGljZSgxKTtcclxuICAgICAgfVxyXG59XHJcblxyXG4iLCJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi9wbGF5ZXJDbGFzc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVIYW5kbGVyIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3BsYXllck9uZTogUGxheWVyLFxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfcGxheWVyVHdvOiBQbGF5ZXJcclxuICApIHt9XHJcblxyXG4gIHByaXZhdGUgX2N1cnJlbnRQbGF5ZXI6IFBsYXllciA9IHRoaXMuX3BsYXllck9uZTtcclxuXHJcbiAgZ2V0IHBsYXllck9uZSAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcGxheWVyT25lO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHBsYXllclR3bygpIHtcclxuICAgIHJldHVybiB0aGlzLl9wbGF5ZXJUd287XHJcbiAgfVxyXG5cclxuICBnZXQgY3VycmVudFBsYXllcigpOiBQbGF5ZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRQbGF5ZXI7XHJcbiAgfVxyXG5cclxuICBnZXQgb3Bwb25lbnRQbGF5ZXIoKTogUGxheWVyIHtcclxuICAgIGlmICh0aGlzLl9jdXJyZW50UGxheWVyID09PSB0aGlzLl9wbGF5ZXJPbmUpIHJldHVybiB0aGlzLl9wbGF5ZXJUd287XHJcbiAgICByZXR1cm4gdGhpcy5fcGxheWVyT25lO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBkaWRQbGF5ZXJMb29zZShwbGF5ZXI6IFBsYXllcik6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHBsYXllci5hbGl2ZVBva2Vtb25zLmxlbmd0aCA9PT0gMDtcclxuICB9XHJcblxyXG4gIGlzR2FtZUZpbmlzaGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgdGhpcy5kaWRQbGF5ZXJMb29zZSh0aGlzLl9wbGF5ZXJPbmUpIHx8XHJcbiAgICAgIHRoaXMuZGlkUGxheWVyTG9vc2UodGhpcy5fcGxheWVyVHdvKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGdldFdpbm5lcigpOiBQbGF5ZXIgfCBFcnJvciB7XHJcbiAgICBpZiAoIXRoaXMuaXNHYW1lRmluaXNoZWQoKSlcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IGNhbm5vdCBnZXQgdGhlIHdpbm5lci4gVGhlIGdhbWUgaXMgbm90IG92ZXIuXCIpO1xyXG4gICAgcmV0dXJuIHRoaXMuZGlkUGxheWVyTG9vc2UodGhpcy5fcGxheWVyT25lKSA9PT0gdHJ1ZVxyXG4gICAgICA/IHRoaXMuX3BsYXllclR3b1xyXG4gICAgICA6IHRoaXMuX3BsYXllck9uZTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4uL3BsYXllckNsYXNzXCI7XHJcbmltcG9ydCB7IHN0YXJ0QmF0dGxlIH0gZnJvbSBcIi4uL2ZpZ2h0UGFnZS9zdGFydEJhdHRsZVwiO1xyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBzdGFydEdhbWVJZlJlYWR5ID0gKHBsYXllck9uZTogUGxheWVyLCBwbGF5ZXJUd286IFBsYXllcikgPT4ge1xyXG4gIGlmIChwbGF5ZXJPbmUucG9rZW1vbnMubGVuZ3RoIDwgMyB8fCBwbGF5ZXJUd28ucG9rZW1vbnMubGVuZ3RoIDwgMykgcmV0dXJuO1xyXG4gIGNvbnN0IGFwcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYXBwXCIpIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gIHN0YXJ0QmF0dGxlKHBsYXllck9uZSwgcGxheWVyVHdvLCBhcHApO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi4vcGxheWVyQ2xhc3NcIjtcclxuaW1wb3J0IHsgR2FtZUhhbmRsZXIgfSBmcm9tIFwiLi4vZ2FtZUhhbmRsZXJDbGFzc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVGaWdodFBhZ2UgfSBmcm9tIFwiLi9yZW5kZXJGaWdodFBhZ2VcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBzdGFydEJhdHRsZSA9IChcclxuICBwbGF5ZXJPbmU6IFBsYXllcixcclxuICBwbGF5ZXJUd286IFBsYXllcixcclxuICBhcHA6IEhUTUxEaXZFbGVtZW50XHJcbikgPT4ge1xyXG4gIGNvbnN0IGdhbWUgPSBuZXcgR2FtZUhhbmRsZXIocGxheWVyT25lLCBwbGF5ZXJUd28pO1xyXG4gIHNldFRpbWVvdXQoKCkgPT4gY3JlYXRlRmlnaHRQYWdlKGFwcCwgZ2FtZSksIDIwMDApO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi4vcGxheWVyQ2xhc3NcIjtcclxuaW1wb3J0IHsgR2FtZUhhbmRsZXIgfSBmcm9tIFwiLi4vZ2FtZUhhbmRsZXJDbGFzc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVBY3RpdmVQb2tlbW9uIH0gZnJvbSBcIi4vY3JlYXRlQWN0aXZlUG9rZW1vblwiO1xyXG5pbXBvcnQgeyBjcmVhdGVBY3RpdmVQbGF5ZXIgfSBmcm9tIFwiLi9jcmVhdGVBY3RpdmVQbGF5ZXJcIjtcclxuaW1wb3J0IHsgY3JlYXRlSFBCYXJzIH0gZnJvbSBcIi4vY3JlYXRlSFBCYXJzXCI7XHJcbmltcG9ydCB7IGNyZWF0ZUZpZ2h0UGFnZVBva2ViYWxscyB9IGZyb20gXCIuL2NyZWF0ZUZpZ2h0UGFnZVBva2ViYWxsc1wiO1xyXG5cclxuY29uc3QgY3JlYXRlUGxheWVyRmlnaHROYW1lcyA9IChnYW1lSGFuZGxlcjogR2FtZUhhbmRsZXIpID0+IHtcclxuICBjb25zdCBwbGF5ZXJPbmVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgIFwiI2ZpZ2h0LXBhZ2UtcGxheWVyMS1uYW1lXCJcclxuICApIGFzIEhUTUxIZWFkaW5nRWxlbWVudDtcclxuICBjb25zdCBwbGF5ZXJUd29OYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgIFwiI2ZpZ2h0LXBhZ2UtcGxheWVyMi1uYW1lXCJcclxuICApIGFzIEhUTUxIZWFkaW5nRWxlbWVudDtcclxuICBwbGF5ZXJPbmVOYW1lLnRleHRDb250ZW50ID0gZ2FtZUhhbmRsZXIucGxheWVyT25lLm5hbWU7XHJcbiAgcGxheWVyVHdvTmFtZS50ZXh0Q29udGVudCA9IGdhbWVIYW5kbGVyLnBsYXllclR3by5uYW1lO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUZpZ2h0UGFnZSA9IChcclxuICBhcHBEaXY6IEhUTUxEaXZFbGVtZW50LFxyXG4gIGdhbWVIYW5kbGVyOiBHYW1lSGFuZGxlclxyXG4pID0+IHtcclxuICBjb25zdCBmaWdodFBhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgXCIjZmlnaHQtcGFnZS10ZW1wbGF0ZVwiXHJcbiAgKSBhcyBIVE1MVGVtcGxhdGVFbGVtZW50O1xyXG4gIGFwcERpdi5pbm5lckhUTUwgPSBmaWdodFBhZ2UuaW5uZXJIVE1MO1xyXG4gIGNyZWF0ZVBsYXllckZpZ2h0TmFtZXMoZ2FtZUhhbmRsZXIpO1xyXG4gIGNyZWF0ZUFjdGl2ZVBsYXllcihnYW1lSGFuZGxlcik7XHJcbiAgY3JlYXRlQWN0aXZlUG9rZW1vbihnYW1lSGFuZGxlcik7XHJcbiAgY3JlYXRlSFBCYXJzKGdhbWVIYW5kbGVyLnBsYXllck9uZSwgZ2FtZUhhbmRsZXIucGxheWVyVHdvKTtcclxuICBjcmVhdGVGaWdodFBhZ2VQb2tlYmFsbHMoZ2FtZUhhbmRsZXIpO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi4vcGxheWVyQ2xhc3NcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVIUEJhcnMgPSAocGxheWVyT25lOiBQbGF5ZXIsIHBsYXllclR3bzogUGxheWVyKSA9PiB7XHJcbiAgY29uc3QgY3JlYXRlQmFyID0gKHBsYXllcjogUGxheWVyLCBIUEJhcjogSFRNTERpdkVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IG1heEhQID0gcGxheWVyLmdldEFjdGl2ZVBva2Vtb24ubWF4SFA7XHJcbiAgICBjb25zdCBjdXJyZW50SFAgPSBwbGF5ZXIuZ2V0QWN0aXZlUG9rZW1vbi5jdXJyZW50SFA7XHJcbiAgICBjb25zdCBIUEluUGVyY2VudCA9IChjdXJyZW50SFAgLyBtYXhIUCkgKiAxMDA7XHJcbiAgICBjb25zb2xlLmxvZyhIUEluUGVyY2VudCk7XHJcbiAgICBIUEJhci5zdHlsZS53aWR0aCA9IGAke0hQSW5QZXJjZW50fSVgO1xyXG4gICAgbGV0IEhQQ2xhc3NMaXN0ID0gSFBCYXIuY2xhc3NMaXN0O1xyXG4gICAgaWYgKEhQSW5QZXJjZW50IDwgMjApIHtcclxuICAgICAgSFBDbGFzc0xpc3QucmVtb3ZlKFwiaHBCYXJIaWdoTGV2ZWxcIik7XHJcbiAgICAgIEhQQ2xhc3NMaXN0LmFkZChcImhwQmFyTG93TGV2ZWxcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBIUENsYXNzTGlzdC5yZW1vdmUoXCJocEJhckxvd0xldmVsXCIpO1xyXG4gICAgICBIUENsYXNzTGlzdC5hZGQoXCJocEJhckhpZ2hMZXZlbFwiKTtcclxuICAgIH1cclxuICB9O1xyXG4gIGNvbnN0IHBsYXllck9uZUhQQmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgIFwiI2hwLWJhci1wbGF5ZXIxXCJcclxuICApIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gIGNvbnN0IHBsYXllclR3b0hQQmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgIFwiI2hwLWJhci1wbGF5ZXIyXCJcclxuICApIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gIGNyZWF0ZUJhcihwbGF5ZXJPbmUsIHBsYXllck9uZUhQQmFyKTtcclxuICBjcmVhdGVCYXIocGxheWVyVHdvLCBwbGF5ZXJUd29IUEJhcik7XHJcbn07XHJcbiIsImltcG9ydCB7IEdhbWVIYW5kbGVyIH0gZnJvbSBcIi4uL2dhbWVIYW5kbGVyQ2xhc3NcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVBY3RpdmVQbGF5ZXIgPSAoZ2FtZUhhbmRsZXI6IEdhbWVIYW5kbGVyKSA9PiB7XHJcbiAgY29uc3QgYWN0aXZlUGxheWVyQXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICBcIiNhY3RpdmUtcGxheWVyLWluZm9cIlxyXG4gICkgYXMgSFRNTERpdkVsZW1lbnQ7XHJcbiAgYWN0aXZlUGxheWVyQXJlYS50ZXh0Q29udGVudCA9IGAke2dhbWVIYW5kbGVyLmN1cnJlbnRQbGF5ZXIubmFtZX0gbm93IGlzIHlvdXIgdHVybi4gR2V0IHRoZSByZXZlbmdlIWA7XHJcbn07XHJcbiIsImltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuLi9wbGF5ZXJDbGFzc1wiO1xyXG5pbXBvcnQgeyBHYW1lSGFuZGxlciB9IGZyb20gXCIuLi9nYW1lSGFuZGxlckNsYXNzXCI7XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlQWN0aXZlUG9rZW1vbiA9IChnYW1lSGFuZGxlcjogR2FtZUhhbmRsZXIpID0+IHtcclxuICAgIGNvbnN0IHBsYXllck9uZUFjdGl2ZVBva2Vtb25JbWFnZUFyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIiNwb2tlbW9uLWltYWdlLXBsYXllcjFcIlxyXG4gICAgKSBhcyBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gICAgY29uc3QgcGxheWVyVHdvQWN0aXZlUG9rZW1vbkltYWdlQXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiI3Bva2Vtb24taW1hZ2UtcGxheWVyMlwiXHJcbiAgICApIGFzIEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgICBjb25zdCBwbGF5ZXJPbmVBY3RpdmVQb2tlbW9uTmFtZUFyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIiNwb2tlbW9uLW5hbWUtcGxheWVyMVwiXHJcbiAgICApIGFzIEhUTUxIZWFkaW5nRWxlbWVudDtcclxuICAgIGNvbnN0IHBsYXllclR3b0FjdGl2ZVBva2Vtb25OYW1lQXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiI3Bva2Vtb24tbmFtZS1wbGF5ZXIyXCJcclxuICAgICkgYXMgSFRNTEhlYWRpbmdFbGVtZW50O1xyXG4gICAgY29uc3QgY3JlYXRlUG9rZW1vbiA9IChcclxuICAgICAgcGxheWVyOiBQbGF5ZXIsXHJcbiAgICAgIGltYWdlQXJlYTogSFRNTEltYWdlRWxlbWVudCxcclxuICAgICAgbmFtZUFyZWE6IEhUTUxIZWFkaW5nRWxlbWVudFxyXG4gICAgKSA9PiB7XHJcbiAgICAgIGNvbnN0IHBva2Vtb25OYW1lID0gcGxheWVyLmdldEFjdGl2ZVBva2Vtb24ubmFtZTtcclxuICAgICAgaW1hZ2VBcmVhLnNldEF0dHJpYnV0ZShcInNyY1wiLCBgLi9hc3NldHMvJHtwb2tlbW9uTmFtZS50b0xvd2VyQ2FzZSgpfS5wbmdgKTtcclxuICAgICAgbmFtZUFyZWEudGV4dENvbnRlbnQgPSBwb2tlbW9uTmFtZTtcclxuICAgIH07XHJcbiAgICBjcmVhdGVQb2tlbW9uKFxyXG4gICAgICBnYW1lSGFuZGxlci5wbGF5ZXJPbmUsXHJcbiAgICAgIHBsYXllck9uZUFjdGl2ZVBva2Vtb25JbWFnZUFyZWEsXHJcbiAgICAgIHBsYXllck9uZUFjdGl2ZVBva2Vtb25OYW1lQXJlYVxyXG4gICAgKTtcclxuICAgIGNyZWF0ZVBva2Vtb24oXHJcbiAgICAgIGdhbWVIYW5kbGVyLnBsYXllclR3byxcclxuICAgICAgcGxheWVyVHdvQWN0aXZlUG9rZW1vbkltYWdlQXJlYSxcclxuICAgICAgcGxheWVyVHdvQWN0aXZlUG9rZW1vbk5hbWVBcmVhXHJcbiAgICApO1xyXG4gIH07IiwiaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4uL3BsYXllckNsYXNzXCI7XHJcbmltcG9ydCB7IEdhbWVIYW5kbGVyIH0gZnJvbSBcIi4uL2dhbWVIYW5kbGVyQ2xhc3NcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVGaWdodFBhZ2VQb2tlYmFsbHMgPSAoZ2FtZUhhbmRsZXI6IEdhbWVIYW5kbGVyKSA9PiB7XHJcbiAgICBjb25zdCBjaGFuZ2VDbGFzc09mRGlzYWJsZWRQb2tlbW9ucyA9IChcclxuICAgICAgcGxheWVyOiBQbGF5ZXIsXHJcbiAgICAgIHBsYXllclBva2ViYWxsczogSFRNTEltYWdlRWxlbWVudFtdXHJcbiAgICApID0+IHtcclxuICAgICAgZm9yIChsZXQgaSA9IDI7IGkgPiBwbGF5ZXIuYWxpdmVQb2tlbW9ucy5sZW5ndGggLSAxOyBpLS0pIHtcclxuICAgICAgICBwbGF5ZXJQb2tlYmFsbHNbaV0uY2xhc3NMaXN0LmFkZChcImRpc2FibGVkUG9rZW1vblwiKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHBsYXllck9uZVBva2ViYWxscyA9IEFycmF5LmZyb20oXHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjZmlnaHQtcGFnZS1wbGF5ZXIxIC5wb2tlYmFsbFdpdGhQb2tlbW9uXCIpXHJcbiAgICApIGFzIEhUTUxJbWFnZUVsZW1lbnRbXTtcclxuICAgIGNvbnN0IHBsYXllclR3b1Bva2ViYWxscyA9IEFycmF5LmZyb20oXHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjZmlnaHQtcGFnZS1wbGF5ZXIyIC5wb2tlYmFsbFdpdGhQb2tlbW9uXCIpXHJcbiAgICApIGFzIEhUTUxJbWFnZUVsZW1lbnRbXTtcclxuICAgIGNoYW5nZUNsYXNzT2ZEaXNhYmxlZFBva2Vtb25zKGdhbWVIYW5kbGVyLnBsYXllck9uZSwgcGxheWVyT25lUG9rZWJhbGxzKTtcclxuICAgIGNoYW5nZUNsYXNzT2ZEaXNhYmxlZFBva2Vtb25zKGdhbWVIYW5kbGVyLnBsYXllclR3bywgcGxheWVyVHdvUG9rZWJhbGxzKTtcclxuICB9OyIsImltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuLi9wbGF5ZXJDbGFzc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVBY3RpdmVQbGF5ZXJOYW1lIH0gZnJvbSBcIi4vY3JlYXRlQWN0aXZlUGxheWVyTmFtZVwiO1xyXG5pbXBvcnQgeyBjcmVhdGVQbGF5ZXJOYW1lcyB9IGZyb20gXCIuL2NyZWF0ZVBsYXllck5hbWVzXCI7XHJcbmltcG9ydCB7IGNyZWF0ZVBva2Vtb25zIH0gZnJvbSBcIi4vY3JlYXRlUG9rZW1vbnNcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVDaG9vc2VQYWdlID0gKHBsYXllck9uZTogUGxheWVyLCBwbGF5ZXJUd286IFBsYXllcikgPT4ge1xyXG4gIGxldCBhY3RpdmVQbGF5ZXIgPSBwbGF5ZXJPbmU7XHJcbiAgY3JlYXRlUGxheWVyTmFtZXMocGxheWVyT25lLCBwbGF5ZXJUd28pO1xyXG4gIGNyZWF0ZUFjdGl2ZVBsYXllck5hbWUoYWN0aXZlUGxheWVyKTtcclxuICBjcmVhdGVQb2tlbW9ucyhwbGF5ZXJPbmUsIHBsYXllclR3bywgYWN0aXZlUGxheWVyKTtcclxufTtcclxuIiwiaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4uL3BsYXllckNsYXNzXCI7XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlUGxheWVyTmFtZXMgPSAocGxheWVyT25lOiBQbGF5ZXIsIHBsYXllclR3bzogUGxheWVyKSA9PiB7XHJcbiAgbGV0IHBsYXllck9uZU5hbWVBcmVhVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2hvb3NlUGFnZVBsYXllcjFOYW1lXCIpITtcclxuICBwbGF5ZXJPbmVOYW1lQXJlYVRleHQudGV4dENvbnRlbnQgPSBwbGF5ZXJPbmUubmFtZTtcclxuICBsZXQgcGxheWVyVHdvTmFtZUFyZWFUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjaG9vc2VQYWdlUGxheWVyMk5hbWVcIikhO1xyXG4gIHBsYXllclR3b05hbWVBcmVhVGV4dC50ZXh0Q29udGVudCA9IHBsYXllclR3by5uYW1lO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi4vcGxheWVyQ2xhc3NcIjtcclxuaW1wb3J0IHsgUG9rZW1vbkZhY3RvcnkgfSBmcm9tIFwiLi4vcG9rZW1vbkZhY3RvcnlcIjtcclxuaW1wb3J0ICogYXMgZGF0YSBmcm9tIFwiLi4vLi4vYXNzZXRzL3Bva2VfZGF0YS5qc29uXCI7XHJcbmltcG9ydCB7IHN0YXJ0R2FtZUlmUmVhZHkgfSBmcm9tIFwiLi9zdGFydEdhbWVJZlJlYWR5XCI7XHJcbmltcG9ydCB7IGFkZENob3NlblBva2Vtb24gfSBmcm9tIFwiLi9hZGRDaG9zZW5Qb2tlbW9uXCI7XHJcbmltcG9ydCB7IGNyZWF0ZVBva2ViYWxscyB9IGZyb20gXCIuL2NyZWF0ZVBva2ViYWxsc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVBY3RpdmVQbGF5ZXJOYW1lIH0gZnJvbSBcIi4vY3JlYXRlQWN0aXZlUGxheWVyTmFtZVwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVBva2Vtb25zID0gKFxyXG4gIHBsYXllck9uZTogUGxheWVyLFxyXG4gIHBsYXllclR3bzogUGxheWVyLFxyXG4gIGFjdGl2ZVBsYXllcjogUGxheWVyXHJcbikgPT4ge1xyXG4gIGNvbnN0IHBva2VEYXRhID0gZGF0YS5wb2tlbW9ucztcclxuICBjb25zdCBwb2tlbW9uRmFjdG9yeSA9IG5ldyBQb2tlbW9uRmFjdG9yeShwb2tlRGF0YSk7XHJcbiAgY29uc3QgcG9rZW1vbkltYWdlcyA9IEFycmF5LmZyb20oXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI3Bva2Vtb25MaXN0IGltZ1wiKVxyXG4gICkgYXMgW0hUTUxJbWFnZUVsZW1lbnRdO1xyXG5cclxuICBwb2tlbW9uSW1hZ2VzLmZvckVhY2goKHBva2Vtb25JbWFnZSkgPT5cclxuICAgIHBva2Vtb25JbWFnZS5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICBcImNsaWNrXCIsXHJcbiAgICAgIChlKSA9PiB7XHJcbiAgICAgICAgaWYgKGFjdGl2ZVBsYXllci5wb2tlbW9ucy5sZW5ndGggPT09IDMpIHJldHVybjtcclxuICAgICAgICBhZGRDaG9zZW5Qb2tlbW9uKGUsIHBva2Vtb25GYWN0b3J5LCBhY3RpdmVQbGF5ZXIpO1xyXG4gICAgICAgIGNyZWF0ZVBva2ViYWxscyhwbGF5ZXJPbmUsIGFjdGl2ZVBsYXllcik7XHJcbiAgICAgICAgLy8gY2hhbmdlIHBsYXllclxyXG4gICAgICAgIGFjdGl2ZVBsYXllciA9IGFjdGl2ZVBsYXllciA9PT0gcGxheWVyT25lID8gcGxheWVyVHdvIDogcGxheWVyT25lO1xyXG4gICAgICAgIGNyZWF0ZUFjdGl2ZVBsYXllck5hbWUoYWN0aXZlUGxheWVyKTtcclxuICAgICAgICBzdGFydEdhbWVJZlJlYWR5KHBsYXllck9uZSwgcGxheWVyVHdvKTtcclxuICAgICAgfSxcclxuICAgICAgeyBvbmNlOiB0cnVlIH1cclxuICAgIClcclxuICApO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBQb2tlbW9uIH0gZnJvbSBcIi4uL3Bva2Vtb25DbGFzc1wiO1xyXG5pbXBvcnQgeyBQb2tlbW9uRmFjdG9yeSB9IGZyb20gXCIuLi9wb2tlbW9uRmFjdG9yeVwiO1xyXG5pbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi4vcGxheWVyQ2xhc3NcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBhZGRDaG9zZW5Qb2tlbW9uID0gKFxyXG4gIGV2ZW50OiBFdmVudCxcclxuICBmYWN0b3J5OiBQb2tlbW9uRmFjdG9yeSxcclxuICBhY3RpdmVQbGF5ZXI6IFBsYXllclxyXG4pID0+IHtcclxuICBjb25zdCBjbGlja2VkUG9rZW1vbiA9IGV2ZW50LnRhcmdldCBhcyBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gIGNvbnN0IHBva2Vtb25OYW1lID0gY2xpY2tlZFBva2Vtb24uaWQ7XHJcbiAgY29uc3QgbmV3UG9rZW1vbk9iamVjdDogUG9rZW1vbiA9IGZhY3RvcnkuZ2V0UG9rZW1vbkJ5TmFtZShwb2tlbW9uTmFtZSk7XHJcbiAgYWN0aXZlUGxheWVyLmFkZFBva2Vtb24obmV3UG9rZW1vbk9iamVjdCk7XHJcbiAgY2xpY2tlZFBva2Vtb24uc3R5bGUuY3Vyc29yID0gXCJkZWZhdWx0XCI7XHJcbiAgY2xpY2tlZFBva2Vtb24uc3R5bGUuZmlsdGVyID0gXCJncmF5c2NhbGUoMTAwJSlcIjtcclxufTtcclxuIiwiaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4uL3BsYXllckNsYXNzXCI7XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlUG9rZWJhbGxzID0gKHBsYXllck9uZTogUGxheWVyLCBhY3RpdmVQbGF5ZXI6IFBsYXllcikgPT4ge1xyXG4gIGNvbnN0IHBsYXllclBva2ViYWxsczogSFRNTEltYWdlRWxlbWVudFtdID1cclxuICAgIGFjdGl2ZVBsYXllciA9PT0gcGxheWVyT25lXHJcbiAgICAgID8gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI2Nob29zZVBhZ2VQbGF5ZXIxIGltZ1wiKSlcclxuICAgICAgOiBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjY2hvb3NlUGFnZVBsYXllcjIgaW1nXCIpKTtcclxuICBjb25zdCBwbGF5ZXJMYXN0UG9rZW1vbk5hbWU6IHN0cmluZyA9IGFjdGl2ZVBsYXllci5wb2tlbW9uc1tcclxuICAgIGFjdGl2ZVBsYXllci5wb2tlbW9ucy5sZW5ndGggLSAxXHJcbiAgXS5uYW1lLnRvTG93ZXJDYXNlKCk7XHJcbiAgY29uc3QgbnVtYmVyT2ZMYXN0UG9rZW1vbjogbnVtYmVyID0gYWN0aXZlUGxheWVyLnBva2Vtb25zLmxlbmd0aCAtIDE7XHJcbiAgcGxheWVyUG9rZWJhbGxzW251bWJlck9mTGFzdFBva2Vtb25dLnNldEF0dHJpYnV0ZShcclxuICAgIFwic3JjXCIsXHJcbiAgICBgLi9hc3NldHMvJHtwbGF5ZXJMYXN0UG9rZW1vbk5hbWV9LnBuZ2BcclxuICApO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBQb2tlbW9uIH0gZnJvbSBcIi4vcG9rZW1vbkNsYXNzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUGxheWVyIHtcclxuICBwcml2YXRlIF9uYW1lOiBzdHJpbmc7XHJcbiAgcHJpdmF0ZSBfcG9rZW1vbnM6IFBva2Vtb25bXTtcclxuICBwcml2YXRlIF9pbmRleE9mQWN0aXZlUG9rZW1vbjogbnVtYmVyO1xyXG4gIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgcG9rZW1vbnM6IFBva2Vtb25bXSkge1xyXG4gICAgaWYgKG5hbWUubGVuZ3RoID4gOCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUb28gbG9uZyBuYW1lXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKHBva2Vtb25zLmxlbmd0aCA+IDMpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiV3JvbmcgbnVtYmVyIG9mIHBva2Vtb25zXCIpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLl9wb2tlbW9ucyA9IHBva2Vtb25zO1xyXG4gICAgdGhpcy5faW5kZXhPZkFjdGl2ZVBva2Vtb24gPSAwO1xyXG4gIH1cclxuXHJcbiAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLl9uYW1lO1xyXG4gIH1cclxuICBnZXQgcG9rZW1vbnMoKTogUG9rZW1vbltdIHtcclxuICAgIHJldHVybiB0aGlzLl9wb2tlbW9ucztcclxuICB9XHJcblxyXG4gIHNldCBpbmRleE9mQWN0aXZlUG9rZW1vbihudW1PZkFjdGl2ZVBva2Vtb246IG51bWJlcikge1xyXG4gICAgdGhpcy5faW5kZXhPZkFjdGl2ZVBva2Vtb24gPSBudW1PZkFjdGl2ZVBva2Vtb247XHJcbiAgfVxyXG4gIGdldCBnZXRBY3RpdmVQb2tlbW9uKCk6IFBva2Vtb24ge1xyXG4gICAgcmV0dXJuIHRoaXMuX3Bva2Vtb25zW3RoaXMuX2luZGV4T2ZBY3RpdmVQb2tlbW9uXTtcclxuICB9XHJcblxyXG4gIGdldCBhbGl2ZVBva2Vtb25zKCk6IFBva2Vtb25bXSB7XHJcbiAgICBjb25zdCBhbGl2ZVBva2Vtb25zVGFiOiBQb2tlbW9uW10gPSB0aGlzLnBva2Vtb25zLmZpbHRlcigocG9rZW1vbikgPT5cclxuICAgICAgcG9rZW1vbi5pc0FsaXZlKClcclxuICAgICk7XHJcbiAgICByZXR1cm4gYWxpdmVQb2tlbW9uc1RhYjtcclxuICB9XHJcblxyXG4gIGFkZFBva2Vtb24ocG9rZW1vbjogUG9rZW1vbik6IHZvaWQge1xyXG4gICAgdGhpcy5fcG9rZW1vbnMucHVzaChwb2tlbW9uKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNvbnN0IGFjdGl2YXRlU3RhcnQgPSAobmFtZTFJbnB1dDogSFRNTElucHV0RWxlbWVudCwgbmFtZTJJbnB1dDogSFRNTElucHV0RWxlbWVudCwgc3RhcnRCdXR0b246IEhUTUxEaXZFbGVtZW50KSA9PiB7XHJcbiAgICBpZiAobmFtZTFJbnB1dC52YWx1ZS5sZW5ndGggPiAwICYmIG5hbWUySW5wdXQudmFsdWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHN0YXJ0QnV0dG9uLmNsYXNzTmFtZSA9ICdidXR0b24tZW5hYmxlZCdcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc3RhcnRCdXR0b24uY2xhc3NOYW1lID0gJ2J1dHRvbi1kaXNhYmxlZCdcclxuICAgIH1cclxufSIsImltcG9ydCB7IHNob3dNb2RhbCwgaGlkZU1vZGFsIH0gZnJvbSBcIi4vbW9kYWxQb3BVcEZ1bmN0aW9uc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVDaG9vc2VQYWdlIH0gZnJvbSBcIi4vY2hvb3NlUG9rZW1vbnNQYWdlL2Nob29zZVBva2Vtb25zUGFnZVwiXHJcbmltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL3BsYXllckNsYXNzXCI7XHJcbmltcG9ydCB7IGFjdGl2YXRlU3RhcnQgfSBmcm9tICcuL2FjdGl2YXRlU3RhcnQnO1xyXG5cclxuY29uc3QgcmVuZGVyU3RhcnRpbmdQYWdlID0gKGFwcERpdjogSFRNTERpdkVsZW1lbnQpID0+IHtcclxuICBjb25zdCBzdGFydGluZ1BhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgXCIjc3RhcnRpbmctcGFnZS10ZW1wbGF0ZVwiXHJcbiAgKSBhcyBIVE1MVGVtcGxhdGVFbGVtZW50O1xyXG4gIGFwcERpdi5pbm5lckhUTUwgPSBzdGFydGluZ1BhZ2UuaW5uZXJIVE1MO1xyXG59O1xyXG5jb25zdCByZW5kZXJIb3dUb1BsYXlNb2RhbCA9IChhcHBEaXY6IEhUTUxEaXZFbGVtZW50KSA9PiB7XHJcbiAgY29uc3QgaW5mb01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgIFwiI2luZm8tbW9kYWwtdGVtcGxhdGVcIlxyXG4gICkgYXMgSFRNTFRlbXBsYXRlRWxlbWVudDtcclxuICBhcHBEaXYuaW5uZXJIVE1MICs9IGluZm9Nb2RhbC5pbm5lckhUTUw7XHJcbn07XHJcbmNvbnN0IGNyZWF0ZUhvd1RvUGxheUJ1dHRvbiA9ICgpID0+IHtcclxuICBjb25zdCBob3dUb1BsYXlCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgXCIjaG93LXRvLXBsYXktYnV0dG9uXCJcclxuICApIGFzIEhUTUxVTGlzdEVsZW1lbnQ7XHJcbiAgY29uc3QgaW5mb01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgIFwiI2luZm8tbW9kYWwtc2NyZWVuXCJcclxuICApIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gIGhvd1RvUGxheUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgc2hvd01vZGFsKGluZm9Nb2RhbCwgXCJmbGV4XCIpO1xyXG4gIH0pO1xyXG4gIGhpZGVNb2RhbChpbmZvTW9kYWwpO1xyXG59O1xyXG5cclxuY29uc3QgYWN0aXZhdGVTdGFydEJ1dHRvbiA9ICgpID0+IHtcclxuICBjb25zdCBwbGF5ZXIxTmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2VudGVyLXBsYXllcjEtbmFtZScpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgY29uc3QgcGxheWVyMk5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlbnRlci1wbGF5ZXIyLW5hbWUnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gIGNvbnN0IHN0YXJ0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzdGFydC1nYW1lLWJ1dHRvblwiKSBhcyBIVE1MRGl2RWxlbWVudDtcclxuICBwbGF5ZXIxTmFtZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCAoKSA9PiB7XHJcbiAgICAgIGFjdGl2YXRlU3RhcnQocGxheWVyMU5hbWVJbnB1dCwgcGxheWVyMk5hbWVJbnB1dCwgc3RhcnRCdXR0b24pXHJcbiAgfSlcclxuICBwbGF5ZXIyTmFtZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCAoKSA9PiB7XHJcbiAgICAgIGFjdGl2YXRlU3RhcnQocGxheWVyMU5hbWVJbnB1dCwgcGxheWVyMk5hbWVJbnB1dCwgc3RhcnRCdXR0b24pXHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCByZW5kZXJDaG9vc2VQb2tlbW9uU2NyZWVuID0gKGFwcERpdjogSFRNTERpdkVsZW1lbnQpID0+IHtcclxuICBjb25zdCBwbGF5QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgIFwiI3N0YXJ0LWdhbWUtYnV0dG9uXCJcclxuICApIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gIHBsYXlCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBjb25zdCBwbGF5ZXIxTmFtZUlucHV0ID0gKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlbnRlci1wbGF5ZXIxLW5hbWUnKSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuICAgIGNvbnN0IHBsYXllcjJOYW1lSW5wdXQgPSAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2VudGVyLXBsYXllcjItbmFtZScpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgY29uc3QgY2hvb3NlUG9rZW1vblNjcmVlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiI2Nob29zZS1wYWdlLXRlbXBsYXRlXCJcclxuICAgICkgYXMgSFRNTFRlbXBsYXRlRWxlbWVudDtcclxuICAgIGFwcERpdi5pbm5lckhUTUwgPSBjaG9vc2VQb2tlbW9uU2NyZWVuLmlubmVySFRNTDtcclxuICAgIGNyZWF0ZUNob29zZVBhZ2UobmV3IFBsYXllcihwbGF5ZXIxTmFtZUlucHV0LCBbXSksIG5ldyBQbGF5ZXIocGxheWVyMk5hbWVJbnB1dCwgW10pKTtcclxuICB9KTtcclxufVxyXG5cclxuY29uc3QgcmVuZGVyQXBwID0gKCkgPT4ge1xyXG4gIGNvbnN0IGFwcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYXBwXCIpIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gIHJlbmRlclN0YXJ0aW5nUGFnZShhcHApO1xyXG4gIHJlbmRlckhvd1RvUGxheU1vZGFsKGFwcCk7XHJcbiAgYWN0aXZhdGVTdGFydEJ1dHRvbigpO1xyXG4gIGNyZWF0ZUhvd1RvUGxheUJ1dHRvbigpO1xyXG4gIHJlbmRlckNob29zZVBva2Vtb25TY3JlZW4oYXBwKTtcclxufTtcclxuXHJcbnNldFRpbWVvdXQocmVuZGVyQXBwLCAyMDAwKTtcclxuXHJcbiJdLCJzb3VyY2VSb290IjoiIn0=