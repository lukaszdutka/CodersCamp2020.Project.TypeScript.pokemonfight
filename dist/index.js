(()=>{"use strict";var e=function(e){var t=document.querySelector("#whoChoosesParagraph");3===e.pokemons.length?t.textContent="Wait for the game to start...":t.textContent=e.name+" chooses 1 pokemon"},t=function(){function e(e,t,n,o,r,a,c){this._name=e,this._image=t,this._maxHP=n,this._currentHP=n,this._attackPoints=o,this._defensePoints=r,this._types=a,this._moves=c}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"image",{get:function(){return this._image},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentHP",{get:function(){return this._currentHP},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxHP",{get:function(){return this._maxHP},enumerable:!1,configurable:!0}),e.prototype.subtractHP=function(e){var t=this._currentHP-e;t<0&&(this._currentHP=0),this._currentHP=t},e.prototype.heal=function(){this._currentHP=this._maxHP},Object.defineProperty(e.prototype,"attackPoints",{get:function(){return this._attackPoints},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defensePoints",{get:function(){return this._defensePoints},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"types",{get:function(){return this._types},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"moves",{get:function(){return this._moves},enumerable:!1,configurable:!0}),e.prototype.isAlive=function(){return this._currentHP>0},e}(),n=function(){function e(e){this._pokemons=[];for(var n=0,o=e;n<o.length;n++){var r=o[n],a="../assets/"+r.name+".png",c=r.moves.reduce((function(e,t){return e.push({moveName:t.name,moveType:t.type}),e}),[]),i=r.types.map((function(e){return e})),u=new t(this._capitalize(r.name),a,r.stats.hp,r.stats.attack,r.stats.defense,i,c);this._pokemons.push(u)}}return Object.defineProperty(e.prototype,"pokemons",{get:function(){return this._pokemons},enumerable:!1,configurable:!0}),e.prototype.getPokemonByName=function(e){var t=this._pokemons.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}));if(void 0===t)throw new Error("Pokemon "+e+" is not found in the pokemon factory");return t},e.prototype._capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e}();const o=JSON.parse('{"x":[{"name":"bulbasaur","types":["grass","poison"],"stats":{"hp":45,"attack":49,"defense":49},"moves":[{"name":"razor-wind","accuracy":100,"power":80,"type":"normal"},{"name":"vine-whip","accuracy":100,"power":45,"type":"grass"},{"name":"mega-drain","accuracy":100,"power":40,"type":"grass"},{"name":"razor-leaf","accuracy":95,"power":55,"type":"grass"}]},{"name":"charmander","types":["fire"],"stats":{"hp":39,"attack":52,"defense":43},"moves":[{"name":"mega-punch","accuracy":85,"power":80,"type":"normal"},{"name":"ember","accuracy":100,"power":40,"type":"fire"},{"name":"flamethrower","accuracy":100,"power":90,"type":"fire"},{"name":"submission","accuracy":80,"power":80,"type":"fighting"}]},{"name":"squirtle","types":["water"],"stats":{"hp":44,"attack":48,"defense":65},"moves":[{"name":"mega-kick","accuracy":75,"power":120,"type":"normal"},{"name":"water-gun","accuracy":100,"power":40,"type":"water"},{"name":"hydro-pump","accuracy":80,"power":110,"type":"water"},{"name":"blizzard","accuracy":70,"power":110,"type":"ice"}]},{"name":"weedle","types":["bug","poison"],"stats":{"hp":40,"attack":35,"defense":30},"moves":[{"name":"poison-sting","accuracy":100,"power":15,"type":"poison"},{"name":"string-shot","accuracy":95,"power":0,"type":"poison"},{"name":"bug-bite","accuracy":100,"power":60,"type":"bug"},{"name":"electroweb","accuracy":95,"power":55,"type":"electric"}]},{"name":"pidgey","types":["normal","flying"],"stats":{"hp":40,"attack":45,"defense":40},"moves":[{"name":"razor-wind","accuracy":100,"power":80,"type":"normal"},{"name":"wing-attack","accuracy":100,"power":60,"type":"flying"},{"name":"fly","accuracy":95,"power":90,"type":"flying"},{"name":"sky-attack","accuracy":90,"power":140,"type":"flying"}]},{"name":"rattata","types":["normal"],"stats":{"hp":30,"attack":56,"defense":35},"moves":[{"name":"body-slam","accuracy":100,"power":85,"type":"normal"},{"name":"bite","accuracy":100,"power":60,"type":"dark"},{"name":"bubble-beam","accuracy":100,"power":65,"type":"water"},{"name":"dig","accuracy":100,"power":80,"type":"ground"}]},{"name":"pikachu","types":["electric"],"stats":{"hp":35,"attack":55,"defense":40},"moves":[{"name":"slam","accuracy":75,"power":80,"type":"normal"},{"name":"thunder-punch","accuracy":100,"power":75,"type":"electric"},{"name":"thunderbolt","accuracy":100,"power":90,"type":"electric"},{"name":"thunder","accuracy":70,"power":110,"type":"electric"}]},{"name":"sandshrew","types":["ground"],"stats":{"hp":50,"attack":75,"defense":85},"moves":[{"name":"headbutt","accuracy":100,"power":70,"type":"normal"},{"name":"body-slam","accuracy":100,"power":85,"type":"normal"},{"name":"earthquake","accuracy":100,"power":100,"type":"ground"},{"name":"dig","accuracy":100,"power":80,"type":"ground"}]},{"name":"clefairy","types":["fairy"],"stats":{"hp":70,"attack":45,"defense":48},"moves":[{"name":"fire-punch","accuracy":100,"power":75,"type":"fire"},{"name":"ice-punch","accuracy":100,"power":75,"type":"ice"},{"name":"thunder-punch","accuracy":100,"power":75,"type":"electric"},{"name":"water-gun","accuracy":100,"power":40,"type":"water"}]},{"name":"abra","types":["psychic"],"stats":{"hp":25,"attack":20,"defense":15},"moves":[{"name":"mega-punch","accuracy":85,"power":80,"type":"normal"},{"name":"ice-punch","accuracy":100,"power":75,"type":"ice"},{"name":"thunder-punch","accuracy":100,"power":75,"type":"electric"},{"name":"psychic","accuracy":100,"power":90,"type":"psychic"}]},{"name":"machop","types":["fighting"],"stats":{"hp":70,"attack":80,"defense":50},"moves":[{"name":"karate-chop","accuracy":100,"power":50,"type":"fighting"},{"name":"mega-kick","accuracy":75,"power":120,"type":"normal"},{"name":"rolling-kick","accuracy":85,"power":60,"type":"fighting"},{"name":"submission","accuracy":80,"power":80,"type":"fighting"}]},{"name":"geodude","types":["rock","ground"],"stats":{"hp":40,"attack":80,"defense":100},"moves":[{"name":"headbutt","accuracy":100,"power":70,"type":"normal"},{"name":"rock-throw","accuracy":90,"power":50,"type":"rock"},{"name":"earthquake","accuracy":100,"power":100,"type":"ground"},{"name":"dig","accuracy":100,"power":80,"type":"ground"}]}]}');var r=function(e){var t=document.querySelector("#pokemon-image-player1"),n=document.querySelector("#pokemon-image-player2"),o=document.querySelector("#pokemon-name-player1"),r=document.querySelector("#pokemon-name-player2"),a=function(e,t,n){var o=e.getActivePokemon.name;t.setAttribute("src","./assets/"+o.toLowerCase()+".png"),n.textContent=o};a(e.playerOne,t,o),a(e.playerTwo,n,r)},a=function(e){document.querySelector("#active-player-info").textContent=e.currentPlayer.name+" now is your turn. Get the revenge!";var t=document.querySelector("#fight-page-player1"),n=document.querySelector("#fight-page-player2");e.currentPlayer===e.playerOne?(null==n||n.classList.remove("activePlayer"),null==t||t.classList.add("activePlayer")):(null==t||t.classList.remove("activePlayer"),null==n||n.classList.add("activePlayer"))},c=function(e,t){var n=function(e,t){var n=e.getActivePokemon.maxHP,o=e.getActivePokemon.currentHP/n*100;console.log(o),t.style.width=o+"%";var r=t.classList;o<20?(r.remove("hpBarHighLevel"),r.add("hpBarLowLevel")):(r.remove("hpBarLowLevel"),r.add("hpBarHighLevel"))},o=document.querySelector("#hp-bar-player1"),r=document.querySelector("#hp-bar-player2");n(e,o),n(t,r)},i=function(e){var t=function(e,t){for(var n=2;n>e.alivePokemons.length-1;n--)t[n].classList.add("disabledPokemon")},n=Array.from(document.querySelectorAll("#fight-page-player1 .pokeballWithPokemon")),o=Array.from(document.querySelectorAll("#fight-page-player2 .pokeballWithPokemon"));t(e.playerOne,n),t(e.playerTwo,o)},u=function(e,t,n,o){e.addEventListener("click",(function(r){console.log(e.innerText+" used!"),o&&o(n,r),setTimeout((function(){n.generateActionButtons()}),1e3),p(t)}))},s=function(e){for(var t=0;t<e.length;t++)e[t].style.animation="scale-in-hor-center 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both",e[t].style.animationDelay=.15*t+"s"},p=function(e){for(var t=0;t<e.length;t++)e[t].style.animation="scale-out-horizontal 0.5s cubic-bezier(0.550, 0.085, 0.680, 0.530) both",e[t].style.animationDelay=.15*t+"s"},l=function(e){r(e),c(e.playerOne,e.playerTwo),i(e),e.switchPlayer(),a(e),e.generateActionButtons(),e.generateAttackButtons(),e.generateSwitchButtons()},m=function(e){console.log("bum bum bach!"),l(e)},y=function(e,t){var n=t.currentTarget.textContent;e.switchPokemon(n),l(e)},d=function(){function e(e,t){this._playerOne=e,this._playerTwo=t,this._currentPlayer=this._playerOne}return Object.defineProperty(e.prototype,"playerOne",{get:function(){return this._playerOne},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playerTwo",{get:function(){return this._playerTwo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentPlayer",{get:function(){return this._currentPlayer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"opponentPlayer",{get:function(){return this._currentPlayer===this._playerOne?this._playerTwo:this._playerOne},enumerable:!1,configurable:!0}),e.prototype.didPlayerLoose=function(e){return 0===e.alivePokemons.length},e.prototype.isGameFinished=function(){return this.didPlayerLoose(this._playerOne)||this.didPlayerLoose(this._playerTwo)},e.prototype.getWinner=function(){if(!this.isGameFinished())throw new Error("You cannot get the winner. The game is not over.");return!0===this.didPlayerLoose(this._playerOne)?this._playerTwo:this._playerOne},e.prototype.switchPlayer=function(){this._currentPlayer=this._currentPlayer===this._playerOne?this._playerTwo:this._playerOne},e.prototype.switchPokemon=function(e){this._currentPlayer.indexOfActivePokemon=this._currentPlayer.pokemons.findIndex((function(t){return t.name===e}))},e.prototype.generateActionButtons=function(){var e,t,n,o,r,a;this.currentPlayer,console.log("Start - action modal"),document.querySelector("#actionModals").innerHTML='\n                    <div class="button battleButton" id="attackButton">attack</div>\n                    <div class="button battleButton" id="switchButton">switch</div>\n                    <div class="button battleButton" id="mangoButton">use mango (<span id="mango">1</span>)</div>',e=this,t=document.getElementsByClassName("battleButton"),n=document.querySelector("#attackButton"),o=document.querySelector("#switchButton"),r=document.querySelector("#mangoButton"),a=document.querySelector("#mango"),s(t),n.addEventListener("click",(function(){p(t),setTimeout((function(){e.generateAttackButtons()}),1e3)})),o.addEventListener("click",(function(){p(t),setTimeout((function(){e.generateSwitchButtons()}),1e3)})),r.addEventListener("click",(function(){console.log("mango used! mnia mnia mnia..."),a.innerHTML="0",r.classList.add("disabledButton")}))},e.prototype.generateAttackButtons=function(){var e,t,n,o,r,a=this.currentPlayer;console.log("Attack choose modal"),document.querySelector("#actionModals").innerHTML='\n                    <div class="button battleButton" id="attackButtonOne">'+a.getActivePokemon.moves[0].moveName+'</div>\n                    <div class="button battleButton" id="attackButtonTwo">'+a.getActivePokemon.moves[1].moveName+'</div>\n                    <div class="button battleButton" id="backButton">back</div>',e=this,t=document.querySelector("#attackButtonOne"),n=document.querySelector("#attackButtonTwo"),o=document.getElementsByClassName("battleButton"),r=document.querySelector("#backButton"),s(o),u(t,o,e,m),u(n,o,e,m),u(r,o,e)},e.prototype.generateSwitchButtons=function(){var e,t,n,o,r,a=this.currentPlayer;console.log("Switch choose modal"),document.querySelector("#actionModals").innerHTML='\n                    <div class="button battleButton" id="switchButtonOne">'+a.notActivePokemons[0].name+'</div>\n                    <div class="button battleButton" id="switchButtonTwo">'+a.notActivePokemons[1].name+'</div>\n                    <div class="button battleButton" id="backButton">back</div>',e=this,t=document.querySelector("#switchButtonOne"),n=document.querySelector("#switchButtonTwo"),o=document.getElementsByClassName("battleButton"),r=document.querySelector("#backButton"),s(o),u(t,o,e,y),u(n,o,e,y),u(r,o,e)},e}(),h=function(e,t){e.pokemons.length<3||t.pokemons.length<3||function(e,t,n){var o=new d(e,t);setTimeout((function(){return e=n,t=o,u=document.querySelector("#fight-page-template"),e.innerHTML=u.innerHTML,function(e){var t=document.querySelector("#fight-page-player1-name"),n=document.querySelector("#fight-page-player2-name");t.textContent=e.playerOne.name,n.textContent=e.playerTwo.name}(t),a(t),r(t),c(t.playerOne,t.playerTwo),i(t),void t.generateActionButtons();var e,t,u}),2e3)}(e,t,document.querySelector("#app"))},f=function(t,r){var a=t;!function(e,t){document.querySelector("#choosePagePlayer1Name").textContent=e.name,document.querySelector("#choosePagePlayer2Name").textContent=t.name}(t,r),e(a),function(t,r,a){var c=o.x,i=new n(c);Array.from(document.querySelectorAll("#pokemonList img")).forEach((function(n){return n.addEventListener("click",(function(n){3!==a.pokemons.length&&(function(e,t,n){var o=e.target,r=o.id,a=t.getPokemonByName(r);n.addPokemon(a),o.style.cursor="default",o.style.filter="grayscale(100%)"}(n,i,a),function(e,t){var n=t===e?Array.from(document.querySelectorAll("#choosePagePlayer1 img")):Array.from(document.querySelectorAll("#choosePagePlayer2 img")),o=t.pokemons[t.pokemons.length-1].name.toLowerCase();n[t.pokemons.length-1].setAttribute("src","./assets/"+o+".png")}(t,a),e(a=a===t?r:t),h(t,r))}),{once:!0})}))}(t,r,a)},g=function(){function e(e,t){if(e.length>8)throw new Error("Too long name");if(t.length>3)throw new Error("Wrong number of pokemons");this._name=e,this._pokemons=t,this._indexOfActivePokemon=0}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pokemons",{get:function(){return this._pokemons},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"indexOfActivePokemon",{set:function(e){this._indexOfActivePokemon=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getActivePokemon",{get:function(){return this._pokemons[this._indexOfActivePokemon]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alivePokemons",{get:function(){return this.pokemons.filter((function(e){return e.isAlive()}))},enumerable:!1,configurable:!0}),e.prototype.addPokemon=function(e){this._pokemons.push(e)},Object.defineProperty(e.prototype,"notActivePokemons",{get:function(){var e=this;return this.pokemons.filter((function(t){return t.name!==e.getActivePokemon.name}))},enumerable:!1,configurable:!0}),e}(),b=function(e,t,n){e.value.length>0&&t.value.length>0?n.className="button-enabled":n.className="button-disabled"};setTimeout((function(){var e,t,n,o,r,a,c,i,u,s=document.querySelector("#app");e=s,t=document.querySelector("#starting-page-template"),e.innerHTML=t.innerHTML,function(e){var t=document.querySelector("#info-modal-template");e.innerHTML+=t.innerHTML}(s),n=document.querySelector("#enter-player1-name"),o=document.querySelector("#enter-player2-name"),r=document.querySelector("#start-game-button"),n.addEventListener("keyup",(function(){b(n,o,r)})),o.addEventListener("keyup",(function(){b(n,o,r)})),i=document.querySelector("#how-to-play-button"),u=document.querySelector("#info-modal-screen"),i.addEventListener("click",(function(){u.style.display="flex"})),null==(c=(a=u).querySelector(".exitButton"))||c.addEventListener("click",(function(){a.style.display="none"})),function(e){var t=document.querySelector("#start-game-button");null==t||t.addEventListener("click",(function(){var t=document.querySelector("#enter-player1-name").value,n=document.querySelector("#enter-player2-name").value,o=document.querySelector("#choose-page-template");e.innerHTML=o.innerHTML,f(new g(t,[]),new g(n,[]))}))}(s)}),2e3)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL21vZGFsUG9wVXBGdW5jdGlvbnMudHMiLCJ3ZWJwYWNrOi8vY29kZXJzY2FtcDIwMjAucHJvamVjdC50eXBlc2NyaXB0LnBva2Vtb25maWdodC8uL3NyYy9jaG9vc2VQb2tlbW9uc1BhZ2UvY3JlYXRlQWN0aXZlUGxheWVyTmFtZS50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL3Bva2Vtb25DbGFzcy50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL3Bva2Vtb25GYWN0b3J5LnRzIiwid2VicGFjazovL2NvZGVyc2NhbXAyMDIwLnByb2plY3QudHlwZXNjcmlwdC5wb2tlbW9uZmlnaHQvLi9zcmMvZmlnaHRQYWdlL2NyZWF0ZUFjdGl2ZVBva2Vtb24udHMiLCJ3ZWJwYWNrOi8vY29kZXJzY2FtcDIwMjAucHJvamVjdC50eXBlc2NyaXB0LnBva2Vtb25maWdodC8uL3NyYy9maWdodFBhZ2UvY3JlYXRlQWN0aXZlUGxheWVyLnRzIiwid2VicGFjazovL2NvZGVyc2NhbXAyMDIwLnByb2plY3QudHlwZXNjcmlwdC5wb2tlbW9uZmlnaHQvLi9zcmMvZmlnaHRQYWdlL2NyZWF0ZUhQQmFycy50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL2ZpZ2h0UGFnZS9jcmVhdGVGaWdodFBhZ2VQb2tlYmFsbHMudHMiLCJ3ZWJwYWNrOi8vY29kZXJzY2FtcDIwMjAucHJvamVjdC50eXBlc2NyaXB0LnBva2Vtb25maWdodC8uL3NyYy9maWdodFBhZ2UvYnV0dG9uc0V2ZW50TGlzdGVuZXJzLnRzIiwid2VicGFjazovL2NvZGVyc2NhbXAyMDIwLnByb2plY3QudHlwZXNjcmlwdC5wb2tlbW9uZmlnaHQvLi9zcmMvZ2FtZUhhbmRsZXJDbGFzcy50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL2Nob29zZVBva2Vtb25zUGFnZS9zdGFydEdhbWVJZlJlYWR5LnRzIiwid2VicGFjazovL2NvZGVyc2NhbXAyMDIwLnByb2plY3QudHlwZXNjcmlwdC5wb2tlbW9uZmlnaHQvLi9zcmMvZmlnaHRQYWdlL3N0YXJ0QmF0dGxlLnRzIiwid2VicGFjazovL2NvZGVyc2NhbXAyMDIwLnByb2plY3QudHlwZXNjcmlwdC5wb2tlbW9uZmlnaHQvLi9zcmMvZmlnaHRQYWdlL3JlbmRlckZpZ2h0UGFnZS50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL2Nob29zZVBva2Vtb25zUGFnZS9jaG9vc2VQb2tlbW9uc1BhZ2UudHMiLCJ3ZWJwYWNrOi8vY29kZXJzY2FtcDIwMjAucHJvamVjdC50eXBlc2NyaXB0LnBva2Vtb25maWdodC8uL3NyYy9jaG9vc2VQb2tlbW9uc1BhZ2UvY3JlYXRlUGxheWVyTmFtZXMudHMiLCJ3ZWJwYWNrOi8vY29kZXJzY2FtcDIwMjAucHJvamVjdC50eXBlc2NyaXB0LnBva2Vtb25maWdodC8uL3NyYy9jaG9vc2VQb2tlbW9uc1BhZ2UvY3JlYXRlUG9rZW1vbnMudHMiLCJ3ZWJwYWNrOi8vY29kZXJzY2FtcDIwMjAucHJvamVjdC50eXBlc2NyaXB0LnBva2Vtb25maWdodC8uL3NyYy9jaG9vc2VQb2tlbW9uc1BhZ2UvYWRkQ2hvc2VuUG9rZW1vbi50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL2Nob29zZVBva2Vtb25zUGFnZS9jcmVhdGVQb2tlYmFsbHMudHMiLCJ3ZWJwYWNrOi8vY29kZXJzY2FtcDIwMjAucHJvamVjdC50eXBlc2NyaXB0LnBva2Vtb25maWdodC8uL3NyYy9wbGF5ZXJDbGFzcy50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL2FjdGl2YXRlU3RhcnQudHMiLCJ3ZWJwYWNrOi8vY29kZXJzY2FtcDIwMjAucHJvamVjdC50eXBlc2NyaXB0LnBva2Vtb25maWdodC8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJjcmVhdGVBY3RpdmVQbGF5ZXJOYW1lIiwiYWN0aXZlUGxheWVyIiwid2hvQ2hvb3Nlc1Bva2Vtb25UZXh0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicG9rZW1vbnMiLCJsZW5ndGgiLCJ0ZXh0Q29udGVudCIsIm5hbWUiLCJpbWFnZSIsIm1heEhQIiwiYXR0YWNrUG9pbnRzIiwiZGVmZW5zZVBvaW50cyIsInR5cGVzIiwibW92ZXMiLCJ0aGlzIiwiX25hbWUiLCJfaW1hZ2UiLCJfbWF4SFAiLCJfY3VycmVudEhQIiwiX2F0dGFja1BvaW50cyIsIl9kZWZlbnNlUG9pbnRzIiwiX3R5cGVzIiwiX21vdmVzIiwic3VidHJhY3RIUCIsInBvaW50c1RvU3VidHJhY3QiLCJuZXdIUCIsImhlYWwiLCJpc0FsaXZlIiwicG9rZURhdGEiLCJfcG9rZW1vbnMiLCJwb2tlbW9uIiwicG9rZUltZyIsInBva2VNb3ZlcyIsInJlZHVjZSIsInRhYiIsIm1vdmUiLCJwdXNoIiwibW92ZU5hbWUiLCJtb3ZlVHlwZSIsInR5cGUiLCJwb2tlVHlwZXMiLCJtYXAiLCJ2IiwicG9rZW1vbk9iamVjdCIsIlBva2Vtb24iLCJfY2FwaXRhbGl6ZSIsInN0YXRzIiwiaHAiLCJhdHRhY2siLCJkZWZlbnNlIiwiZ2V0UG9rZW1vbkJ5TmFtZSIsImZpbmQiLCJ0b0xvd2VyQ2FzZSIsInVuZGVmaW5lZCIsIkVycm9yIiwic3RyIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzbGljZSIsImNyZWF0ZUFjdGl2ZVBva2Vtb24iLCJnYW1lSGFuZGxlciIsInBsYXllck9uZUFjdGl2ZVBva2Vtb25JbWFnZUFyZWEiLCJwbGF5ZXJUd29BY3RpdmVQb2tlbW9uSW1hZ2VBcmVhIiwicGxheWVyT25lQWN0aXZlUG9rZW1vbk5hbWVBcmVhIiwicGxheWVyVHdvQWN0aXZlUG9rZW1vbk5hbWVBcmVhIiwiY3JlYXRlUG9rZW1vbiIsInBsYXllciIsImltYWdlQXJlYSIsIm5hbWVBcmVhIiwicG9rZW1vbk5hbWUiLCJnZXRBY3RpdmVQb2tlbW9uIiwic2V0QXR0cmlidXRlIiwicGxheWVyT25lIiwicGxheWVyVHdvIiwiY3JlYXRlQWN0aXZlUGxheWVyIiwiY3VycmVudFBsYXllciIsInBsYXllck9uZVVuZGVybGluZUFyZWEiLCJwbGF5ZXJUd29VbmRlcmxpbmVBcmVhIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiYWRkIiwiY3JlYXRlSFBCYXJzIiwiY3JlYXRlQmFyIiwiSFBCYXIiLCJIUEluUGVyY2VudCIsImN1cnJlbnRIUCIsImNvbnNvbGUiLCJsb2ciLCJzdHlsZSIsIndpZHRoIiwiSFBDbGFzc0xpc3QiLCJwbGF5ZXJPbmVIUEJhciIsInBsYXllclR3b0hQQmFyIiwiY3JlYXRlRmlnaHRQYWdlUG9rZWJhbGxzIiwiY2hhbmdlQ2xhc3NPZkRpc2FibGVkUG9rZW1vbnMiLCJwbGF5ZXJQb2tlYmFsbHMiLCJpIiwiYWxpdmVQb2tlbW9ucyIsInBsYXllck9uZVBva2ViYWxscyIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwbGF5ZXJUd29Qb2tlYmFsbHMiLCJtYWdpY0Z1bmN0aW9uIiwiYnV0dG9uIiwiYnV0dG9ucyIsImZ1bmN0aW9uVG9DYWxsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJpbm5lclRleHQiLCJzZXRUaW1lb3V0IiwiZ2VuZXJhdGVBY3Rpb25CdXR0b25zIiwiYW5pbWF0aW9uQnV0dG9uc0V4aXQiLCJhbmltYXRpb25CdXR0b25zRW50cnkiLCJhbmltYXRpb24iLCJhbmltYXRpb25EZWxheSIsInVwZGF0ZVZpZXciLCJzd2l0Y2hQbGF5ZXIiLCJnZW5lcmF0ZUF0dGFja0J1dHRvbnMiLCJnZW5lcmF0ZVN3aXRjaEJ1dHRvbnMiLCJzd2l0Y2hQb2tlIiwiZXZlbnQiLCJuYW1lT2ZDaG9zZW5Qb2tlbW9uIiwiY3VycmVudFRhcmdldCIsInN3aXRjaFBva2Vtb24iLCJfcGxheWVyT25lIiwiX3BsYXllclR3byIsIl9jdXJyZW50UGxheWVyIiwiZGlkUGxheWVyTG9vc2UiLCJpc0dhbWVGaW5pc2hlZCIsImdldFdpbm5lciIsImluZGV4T2ZBY3RpdmVQb2tlbW9uIiwiZmluZEluZGV4IiwiYmF0dGxlQnV0dG9ucyIsImF0dGFja0J1dHRvbiIsInN3aXRjaEJ1dHRvbiIsIm1hbmdvQnV0dG9uIiwibWFuZ28iLCJpbm5lckhUTUwiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiYXR0YWNrQnV0dG9uT25lIiwiYXR0YWNrQnV0dG9uVHdvIiwiYmFja0J1dHRvbiIsInN3aXRjaEJ1dHRvbk9uZSIsInN3aXRjaEJ1dHRvblR3byIsIm5vdEFjdGl2ZVBva2Vtb25zIiwic3RhcnRHYW1lSWZSZWFkeSIsImFwcCIsImdhbWUiLCJHYW1lSGFuZGxlciIsImFwcERpdiIsImZpZ2h0UGFnZSIsInBsYXllck9uZU5hbWUiLCJwbGF5ZXJUd29OYW1lIiwiY3JlYXRlUGxheWVyRmlnaHROYW1lcyIsInN0YXJ0QmF0dGxlIiwiY3JlYXRlQ2hvb3NlUGFnZSIsImNyZWF0ZVBsYXllck5hbWVzIiwicG9rZW1vbkZhY3RvcnkiLCJQb2tlbW9uRmFjdG9yeSIsImZvckVhY2giLCJwb2tlbW9uSW1hZ2UiLCJmYWN0b3J5IiwiY2xpY2tlZFBva2Vtb24iLCJ0YXJnZXQiLCJpZCIsIm5ld1Bva2Vtb25PYmplY3QiLCJhZGRQb2tlbW9uIiwiY3Vyc29yIiwiZmlsdGVyIiwiYWRkQ2hvc2VuUG9rZW1vbiIsInBsYXllckxhc3RQb2tlbW9uTmFtZSIsImNyZWF0ZVBva2ViYWxscyIsIm9uY2UiLCJjcmVhdGVQb2tlbW9ucyIsIl9pbmRleE9mQWN0aXZlUG9rZW1vbiIsIm51bU9mQWN0aXZlUG9rZW1vbiIsImFjdGl2YXRlU3RhcnQiLCJuYW1lMUlucHV0IiwibmFtZTJJbnB1dCIsInN0YXJ0QnV0dG9uIiwidmFsdWUiLCJjbGFzc05hbWUiLCJzdGFydGluZ1BhZ2UiLCJwbGF5ZXIxTmFtZUlucHV0IiwicGxheWVyMk5hbWVJbnB1dCIsInNjcmVlblRvRGlzcGxheSIsImV4aXRCdXR0b24iLCJob3dUb1BsYXlCdXR0b24iLCJpbmZvTW9kYWwiLCJyZW5kZXJIb3dUb1BsYXlNb2RhbCIsImRpc3BsYXkiLCJwbGF5QnV0dG9uIiwiY2hvb3NlUG9rZW1vblNjcmVlbiIsIlBsYXllciIsInJlbmRlckNob29zZVBva2Vtb25TY3JlZW4iXSwibWFwcGluZ3MiOiJtQkFBTyxJQ0VNQSxFQUF5QixTQUFDQyxHQUNyQyxJQUFJQyxFQUF3QkMsU0FBU0MsY0FBYyx3QkFDbEIsSUFBakNILEVBQWFJLFNBQVNDLE9BQ2pCSixFQUFzQkssWUFBYyxnQ0FDcENMLEVBQXNCSyxZQUFpQk4sRUFBYU8sS0FBSSxzQkNTL0QsYUFXRSxXQUFZQSxFQUFjQyxFQUFlQyxFQUFlQyxFQUN0REMsRUFBdUJDLEVBQXNCQyxHQUU3Q0MsS0FBS0MsTUFBUVIsRUFDYk8sS0FBS0UsT0FBU1IsRUFDZE0sS0FBS0csT0FBU1IsRUFDZEssS0FBS0ksV0FBYVQsRUFDbEJLLEtBQUtLLGNBQWdCVCxFQUNyQkksS0FBS00sZUFBaUJULEVBQ3RCRyxLQUFLTyxPQUFTVCxFQUNkRSxLQUFLUSxPQUFTVCxFQW1EbEIsT0EvQ0Usc0JBQUksbUJBQUksQyxJQUFSLFdBQ0UsT0FBT0MsS0FBS0MsTyxnQ0FHZCxzQkFBSSxvQkFBSyxDLElBQVQsV0FDRSxPQUFPRCxLQUFLRSxRLGdDQUdkLHNCQUFJLHdCQUFTLEMsSUFBYixXQUNFLE9BQU9GLEtBQUtJLFksZ0NBR2Qsc0JBQUksb0JBQUssQyxJQUFULFdBQ0UsT0FBT0osS0FBS0csUSxnQ0FHZCxZQUFBTSxXQUFBLFNBQVdDLEdBQ1QsSUFBTUMsRUFBUVgsS0FBS0ksV0FBYU0sRUFDNUJDLEVBQVEsSUFDVlgsS0FBS0ksV0FBYSxHQUVwQkosS0FBS0ksV0FBYU8sR0FHcEIsWUFBQUMsS0FBQSxXQUNFWixLQUFLSSxXQUFhSixLQUFLRyxRQUd6QixzQkFBSSwyQkFBWSxDLElBQWhCLFdBQ0UsT0FBT0gsS0FBS0ssZSxnQ0FHZCxzQkFBSSw0QkFBYSxDLElBQWpCLFdBQ0UsT0FBT0wsS0FBS00sZ0IsZ0NBR2Qsc0JBQUksb0JBQUssQyxJQUFULFdBQ0UsT0FBT04sS0FBS08sUSxnQ0FHZCxzQkFBSSxvQkFBSyxDLElBQVQsV0FDRSxPQUFPUCxLQUFLUSxRLGdDQUdkLFlBQUFLLFFBQUEsV0FDRSxPQUFPYixLQUFLSSxXQUFhLEdBRTdCLEVBeEVBLEdDWEEsYUFHSSxXQUFZVSxHQUtSZCxLQUFLZSxVQUFZLEdBRWpCLElBQW9CLFVBQUFELEVBQUEsZUFBVSxDQUF6QixJQUFJRSxFQUFPLEtBRU5DLEVBQVUsYUFBZUQsRUFBUXZCLEtBQU8sT0FFeEN5QixFQUFZRixFQUFRakIsTUFBTW9CLFFBQVEsU0FBQ0MsRUFBS0MsR0FFMUMsT0FEQUQsRUFBSUUsS0FBSyxDQUFDQyxTQUFVRixFQUFLNUIsS0FBTStCLFNBQVVILEVBQUtJLE9BQ3ZDTCxJQUNKLElBRURNLEVBQTJCVixFQUFRbEIsTUFBTTZCLEtBQUksU0FBQUMsR0FBSyxPQUFBQSxLQUVsREMsRUFBZ0IsSUFBSUMsRUFBUTlCLEtBQUsrQixZQUFZZixFQUFRdkIsTUFBT3dCLEVBQzlERCxFQUFRZ0IsTUFBTUMsR0FBSWpCLEVBQVFnQixNQUFNRSxPQUFRbEIsRUFBUWdCLE1BQU1HLFFBQ3REVCxFQUFXUixHQUVmbEIsS0FBS2UsVUFBVU8sS0FBS08sSUFtQmhDLE9BZkksc0JBQUksdUJBQVEsQyxJQUFaLFdBQ0ksT0FBTzdCLEtBQUtlLFcsZ0NBR2hCLFlBQUFxQixpQkFBQSxTQUFpQjNDLEdBQ2IsSUFBTXVCLEVBQVVoQixLQUFLZSxVQUFVc0IsTUFBTSxTQUFBckIsR0FBVyxPQUFBQSxFQUFRdkIsS0FBSzZDLGdCQUFrQjdDLEVBQUs2QyxpQkFDcEYsUUFBZ0JDLElBQVp2QixFQUNBLE1BQU0sSUFBSXdCLE1BQU0sV0FBVy9DLEVBQUksd0NBRW5DLE9BQU91QixHQUdYLFlBQUFlLFlBQUEsU0FBWVUsR0FDUixPQUFPQSxFQUFJQyxPQUFPLEdBQUdDLGNBQWdCRixFQUFJRyxNQUFNLElBRXZELEVBNUNBLEcsbWtJQ0RPLElBQU1DLEVBQXNCLFNBQUNDLEdBQ2xDLElBQU1DLEVBQWtDM0QsU0FBU0MsY0FDL0MsMEJBRUkyRCxFQUFrQzVELFNBQVNDLGNBQy9DLDBCQUVJNEQsRUFBaUM3RCxTQUFTQyxjQUM5Qyx5QkFFSTZELEVBQWlDOUQsU0FBU0MsY0FDOUMseUJBRUk4RCxFQUFnQixTQUNwQkMsRUFDQUMsRUFDQUMsR0FFQSxJQUFNQyxFQUFjSCxFQUFPSSxpQkFBaUIvRCxLQUM1QzRELEVBQVVJLGFBQWEsTUFBTyxZQUFZRixFQUFZakIsY0FBYSxRQUNuRWdCLEVBQVM5RCxZQUFjK0QsR0FFekJKLEVBQ0VMLEVBQVlZLFVBQ1pYLEVBQ0FFLEdBRUZFLEVBQ0VMLEVBQVlhLFVBQ1pYLEVBQ0FFLElDL0JTVSxFQUFxQixTQUFDZCxHQUNSMUQsU0FBU0MsY0FDaEMsdUJBRWVHLFlBQWlCc0QsRUFBWWUsY0FBY3BFLEtBQUksc0NBQ2hFLElBQU1xRSxFQUF5QjFFLFNBQVNDLGNBQWMsdUJBQ2hEMEUsRUFBeUIzRSxTQUFTQyxjQUFjLHVCQUNsRHlELEVBQVllLGdCQUFrQmYsRUFBWVksV0FDNUNLLFdBQXdCQyxVQUFVQyxPQUFPLGdCQUN6Q0gsV0FBd0JFLFVBQVVFLElBQUksa0JBRXRDSixXQUF3QkUsVUFBVUMsT0FBTyxnQkFDekNGLFdBQXdCQyxVQUFVRSxJQUFJLGtCQ1o3QkMsRUFBZSxTQUFDVCxFQUFtQkMsR0FDOUMsSUFBTVMsRUFBWSxTQUFDaEIsRUFBZ0JpQixHQUNqQyxJQUFNMUUsRUFBUXlELEVBQU9JLGlCQUFpQjdELE1BRWhDMkUsRUFEWWxCLEVBQU9JLGlCQUFpQmUsVUFDVDVFLEVBQVMsSUFDMUM2RSxRQUFRQyxJQUFJSCxHQUNaRCxFQUFNSyxNQUFNQyxNQUFXTCxFQUFXLElBQ2xDLElBQUlNLEVBQWNQLEVBQU1MLFVBQ3BCTSxFQUFjLElBQ2hCTSxFQUFZWCxPQUFPLGtCQUNuQlcsRUFBWVYsSUFBSSxtQkFFaEJVLEVBQVlYLE9BQU8saUJBQ25CVyxFQUFZVixJQUFJLG9CQUdkVyxFQUFpQnpGLFNBQVNDLGNBQzlCLG1CQUVJeUYsRUFBaUIxRixTQUFTQyxjQUM5QixtQkFFRitFLEVBQVVWLEVBQVdtQixHQUNyQlQsRUFBVVQsRUFBV21CLElDdEJWQyxFQUEyQixTQUFDakMsR0FDdkMsSUFBTWtDLEVBQWdDLFNBQ3BDNUIsRUFDQTZCLEdBRUEsSUFBSyxJQUFJQyxFQUFJLEVBQUdBLEVBQUk5QixFQUFPK0IsY0FBYzVGLE9BQVMsRUFBRzJGLElBQ25ERCxFQUFnQkMsR0FBR2xCLFVBQVVFLElBQUksb0JBRy9Ca0IsRUFBcUJDLE1BQU1DLEtBQy9CbEcsU0FBU21HLGlCQUFpQiw2Q0FFdEJDLEVBQXFCSCxNQUFNQyxLQUMvQmxHLFNBQVNtRyxpQkFBaUIsNkNBRTVCUCxFQUE4QmxDLEVBQVlZLFVBQVcwQixHQUNyREosRUFBOEJsQyxFQUFZYSxVQUFXNkIsSUNzRWpEQyxFQUFnQixTQUNwQkMsRUFDQUMsRUFDQTdDLEVBQ0E4QyxHQUVBRixFQUFPRyxpQkFBaUIsU0FBUyxTQUFDQyxHQUNoQ3RCLFFBQVFDLElBQU9pQixFQUFPSyxVQUFTLFVBQzNCSCxHQUNGQSxFQUFlOUMsRUFBYWdELEdBRTlCRSxZQUFXLFdBQ1RsRCxFQUFZbUQsMEJBQ1gsS0FFSEMsRUFBcUJQLE9BSW5CUSxFQUF3QixTQUFDUixHQUM3QixJQUFLLElBQUlULEVBQUksRUFBR0EsRUFBSVMsRUFBUXBHLE9BQVEyRixJQUNsQ1MsRUFBUVQsR0FBR1IsTUFBTTBCLFVBQ2YseUVBQ0ZULEVBQVFULEdBQUdSLE1BQU0yQixlQUF3QixJQUFKbkIsRUFBUSxLQUkzQ2dCLEVBQXVCLFNBQUNQLEdBQzVCLElBQUssSUFBSVQsRUFBSSxFQUFHQSxFQUFJUyxFQUFRcEcsT0FBUTJGLElBQ2xDUyxFQUFRVCxHQUFHUixNQUFNMEIsVUFDZiwwRUFDRlQsRUFBUVQsR0FBR1IsTUFBTTJCLGVBQXdCLElBQUpuQixFQUFRLEtBSzNDb0IsRUFBYSxTQUFDeEQsR0FDbEJELEVBQW9CQyxHQUNwQnFCLEVBQWFyQixFQUFZWSxVQUFXWixFQUFZYSxXQUNoRG9CLEVBQXlCakMsR0FDekJBLEVBQVl5RCxlQUNaM0MsRUFBbUJkLEdBQ25CQSxFQUFZbUQsd0JBQ1puRCxFQUFZMEQsd0JBQ1oxRCxFQUFZMkQseUJBR1J2RSxFQUFTLFNBQUNZLEdBQ2QwQixRQUFRQyxJQUFJLGlCQUNaNkIsRUFBV3hELElBRVA0RCxFQUFhLFNBQUM1RCxFQUEwQjZELEdBQzVDLElBQU1DLEVBQXVCRCxFQUFNRSxjQUNoQ3JILFlBQ0hzRCxFQUFZZ0UsY0FBY0YsR0FDMUJOLEVBQVd4RCxJQ3pJYixhQUNFLFdBQ21CaUUsRUFDQUMsR0FEQSxLQUFBRCxhQUNBLEtBQUFDLGFBR1gsS0FBQUMsZUFBeUJqSCxLQUFLK0csV0FtRnhDLE9BakZFLHNCQUFJLHdCQUFTLEMsSUFBYixXQUNFLE9BQU8vRyxLQUFLK0csWSxnQ0FHZCxzQkFBSSx3QkFBUyxDLElBQWIsV0FDRSxPQUFPL0csS0FBS2dILFksZ0NBR2Qsc0JBQUksNEJBQWEsQyxJQUFqQixXQUNFLE9BQU9oSCxLQUFLaUgsZ0IsZ0NBR2Qsc0JBQUksNkJBQWMsQyxJQUFsQixXQUNFLE9BQUlqSCxLQUFLaUgsaUJBQW1CakgsS0FBSytHLFdBQW1CL0csS0FBS2dILFdBQ2xEaEgsS0FBSytHLFksZ0NBR04sWUFBQUcsZUFBUixTQUF1QjlELEdBQ3JCLE9BQXVDLElBQWhDQSxFQUFPK0IsY0FBYzVGLFFBRzlCLFlBQUE0SCxlQUFBLFdBQ0UsT0FDRW5ILEtBQUtrSCxlQUFlbEgsS0FBSytHLGFBQ3pCL0csS0FBS2tILGVBQWVsSCxLQUFLZ0gsYUFJN0IsWUFBQUksVUFBQSxXQUNFLElBQUtwSCxLQUFLbUgsaUJBQ1IsTUFBTSxJQUFJM0UsTUFBTSxvREFDbEIsT0FBZ0QsSUFBekN4QyxLQUFLa0gsZUFBZWxILEtBQUsrRyxZQUM1Qi9HLEtBQUtnSCxXQUNMaEgsS0FBSytHLFlBR1gsWUFBQVIsYUFBQSxXQUNFdkcsS0FBS2lILGVBQ0hqSCxLQUFLaUgsaUJBQW1CakgsS0FBSytHLFdBQ3pCL0csS0FBS2dILFdBQ0xoSCxLQUFLK0csWUFHYixZQUFBRCxjQUFBLFNBQWN2RCxHQUNadkQsS0FBS2lILGVBQWVJLHFCQUF1QnJILEtBQUtpSCxlQUFlM0gsU0FBU2dJLFdBQ3RFLFNBQUN0RyxHQUFZLE9BQUFBLEVBQVF2QixPQUFTOEQsTUFJbEMsWUFBQTBDLHNCQUFBLFdBQ0UsSUR4REZuRCxFQUVNeUUsRUFHQUMsRUFHQUMsRUFHQUMsRUFDQUMsRUM0Q1czSCxLQUFLNkQsY0FDcEJXLFFBQVFDLElBQUksd0JBQ1lyRixTQUFTQyxjQUFjLGlCQUMvQnVJLFVBQVksZ1NEM0Q5QjlFLEVDK0Q2QjlDLEtEN0R2QnVILEVBQWdCbkksU0FBU3lJLHVCQUM3QixnQkFFSUwsRUFBZXBJLFNBQVNDLGNBQzVCLGlCQUVJb0ksRUFBZXJJLFNBQVNDLGNBQzVCLGlCQUVJcUksRUFBY3RJLFNBQVNDLGNBQWMsZ0JBQ3JDc0ksRUFBUXZJLFNBQVNDLGNBQWMsVUFFckM4RyxFQUFzQm9CLEdBRXRCQyxFQUFhM0IsaUJBQWlCLFNBQVMsV0FDckNLLEVBQXFCcUIsR0FDckJ2QixZQUFXLFdBQ1RsRCxFQUFZMEQsMEJBQ1gsUUFFTGlCLEVBQWE1QixpQkFBaUIsU0FBUyxXQUNyQ0ssRUFBcUJxQixHQUNyQnZCLFlBQVcsV0FDVGxELEVBQVkyRCwwQkFDWCxRQUtIaUIsRUFBWTdCLGlCQUFpQixTQUFTLFdBRXBDckIsUUFBUUMsSUFBSSxpQ0FDWmtELEVBQU1DLFVBQVksSUFDbEJGLEVBQVkxRCxVQUFVRSxJQUFJLHNCQytCOUIsWUFBQXNDLHNCQUFBLFdBQ0UsSUR4QnVDMUQsRUFDbkNnRixFQUdBQyxFQUdBUixFQUdBUyxFQ2NFNUUsRUFBU3BELEtBQUs2RCxjQUNwQlcsUUFBUUMsSUFBSSx1QkFDWXJGLFNBQVNDLGNBQWMsaUJBQy9CdUksVUFBWSwrRUFDNEN4RSxFQUFPSSxpQkFBaUJ6RCxNQUFNLEdBQUd3QixTQUFRLHFGQUN6QzZCLEVBQU9JLGlCQUFpQnpELE1BQU0sR0FBR3dCLFNBQVEsMEZEN0IxRXVCLEVDK0JaOUMsS0Q5QnZCOEgsRUFBa0IxSSxTQUFTQyxjQUMvQixvQkFFSTBJLEVBQWtCM0ksU0FBU0MsY0FDL0Isb0JBRUlrSSxFQUFnQm5JLFNBQVN5SSx1QkFDN0IsZ0JBRUlHLEVBQWE1SSxTQUFTQyxjQUFjLGVBRTFDOEcsRUFBc0JvQixHQUN0QjlCLEVBQWNxQyxFQUFpQlAsRUFBZXpFLEVBQWFaLEdBQzNEdUQsRUFBY3NDLEVBQWlCUixFQUFlekUsRUFBYVosR0FDM0R1RCxFQUFjdUMsRUFBWVQsRUFBZXpFLElDbUJ6QyxZQUFBMkQsc0JBQUEsV0FDRSxJRGpCc0MzRCxFQUNsQ21GLEVBR0FDLEVBR0FYLEVBR0FTLEVDT0U1RSxFQUFTcEQsS0FBSzZELGNBQ3BCVyxRQUFRQyxJQUFJLHVCQUNZckYsU0FBU0MsY0FBYyxpQkFDL0J1SSxVQUFZLCtFQUM0Q3hFLEVBQU8rRSxrQkFBa0IsR0FBRzFJLEtBQUkscUZBQ2hDMkQsRUFBTytFLGtCQUFrQixHQUFHMUksS0FBSSwwRkR0QmxFcUQsRUN3Qlo5QyxLRHZCdEJpSSxFQUFrQjdJLFNBQVNDLGNBQy9CLG9CQUVJNkksRUFBa0I5SSxTQUFTQyxjQUMvQixvQkFFSWtJLEVBQWdCbkksU0FBU3lJLHVCQUM3QixnQkFFSUcsRUFBYTVJLFNBQVNDLGNBQWMsZUFFMUM4RyxFQUFzQm9CLEdBRXRCOUIsRUFBY3dDLEVBQWlCVixFQUFlekUsRUFBYTRELEdBQzNEakIsRUFBY3lDLEVBQWlCWCxFQUFlekUsRUFBYTRELEdBQzNEakIsRUFBY3VDLEVBQVlULEVBQWV6RSxJQ1UzQyxFQXpGQSxHQ0hhc0YsRUFBbUIsU0FBQzFFLEVBQW1CQyxHQUM5Q0QsRUFBVXBFLFNBQVNDLE9BQVMsR0FBS29FLEVBQVVyRSxTQUFTQyxPQUFTLEdDRHhDLFNBQ3pCbUUsRUFDQUMsRUFDQTBFLEdBRUEsSUFBTUMsRUFBTyxJQUFJQyxFQUFZN0UsRUFBV0MsR0FDeENxQyxZQUFXLFdBQU0sT0NTakJ3QyxFRFRpQ0gsRUNVakN2RixFRFZzQ3dGLEVDWWhDRyxFQUFZckosU0FBU0MsY0FDekIsd0JBRUZtSixFQUFPWixVQUFZYSxFQUFVYixVQWxCQSxTQUFDOUUsR0FDOUIsSUFBTTRGLEVBQWdCdEosU0FBU0MsY0FDN0IsNEJBRUlzSixFQUFnQnZKLFNBQVNDLGNBQzdCLDRCQUVGcUosRUFBY2xKLFlBQWNzRCxFQUFZWSxVQUFVakUsS0FDbERrSixFQUFjbkosWUFBY3NELEVBQVlhLFVBQVVsRSxLQVdsRG1KLENBQXVCOUYsR0FDdkJjLEVBQW1CZCxHQUNuQkQsRUFBb0JDLEdBQ3BCcUIsRUFBYXJCLEVBQVlZLFVBQVdaLEVBQVlhLFdBQ2hEb0IsRUFBeUJqQyxRQUV6QkEsRUFBWW1ELHdCQWRpQixJQUM3QnVDLEVBQ0ExRixFQUVNMkYsSURadUMsS0RIN0NJLENBQVluRixFQUFXQyxFQURYdkUsU0FBU0MsY0FBYyxVR0R4QnlKLEVBQW1CLFNBQUNwRixFQUFtQkMsR0FDbEQsSUFBSXpFLEVBQWV3RSxHQ0pZLFNBQUNBLEVBQW1CQyxHQUN2QnZFLFNBQVNDLGNBQWMsMEJBQzdCRyxZQUFja0UsRUFBVWpFLEtBQ2xCTCxTQUFTQyxjQUFjLDBCQUM3QkcsWUFBY21FLEVBQVVsRSxLREM5Q3NKLENBQWtCckYsRUFBV0MsR0FDN0IxRSxFQUF1QkMsR0VBSyxTQUM1QndFLEVBQ0FDLEVBQ0F6RSxHQUVBLElBQU00QixFQUFXLElBQ1hrSSxFQUFpQixJQUFJQyxFQUFlbkksR0FDcEJ1RSxNQUFNQyxLQUMxQmxHLFNBQVNtRyxpQkFBaUIscUJBR2QyRCxTQUFRLFNBQUNDLEdBQ3JCLE9BQUFBLEVBQWF0RCxpQkFDWCxTQUNBLFNBQUNDLEdBQ3NDLElBQWpDNUcsRUFBYUksU0FBU0MsU0NuQkYsU0FDOUJvSCxFQUNBeUMsRUFDQWxLLEdBRUEsSUFBTW1LLEVBQWlCMUMsRUFBTTJDLE9BQ3ZCL0YsRUFBYzhGLEVBQWVFLEdBQzdCQyxFQUE0QkosRUFBUWhILGlCQUFpQm1CLEdBQzNEckUsRUFBYXVLLFdBQVdELEdBQ3hCSCxFQUFlM0UsTUFBTWdGLE9BQVMsVUFDOUJMLEVBQWUzRSxNQUFNaUYsT0FBUyxrQkRVeEJDLENBQWlCOUQsRUFBR2tELEVBQWdCOUosR0V0QmIsU0FBQ3dFLEVBQW1CeEUsR0FDakQsSUFBTStGLEVBQ0ovRixJQUFpQndFLEVBQ2IyQixNQUFNQyxLQUFLbEcsU0FBU21HLGlCQUFpQiwyQkFDckNGLE1BQU1DLEtBQUtsRyxTQUFTbUcsaUJBQWlCLDJCQUNyQ3NFLEVBQWdDM0ssRUFBYUksU0FDakRKLEVBQWFJLFNBQVNDLE9BQVMsR0FDL0JFLEtBQUs2QyxjQUVQMkMsRUFEb0MvRixFQUFhSSxTQUFTQyxPQUFTLEdBQzlCa0UsYUFDbkMsTUFDQSxZQUFZb0csRUFBcUIsUUZZN0JDLENBQWdCcEcsRUFBV3hFLEdBRzNCRCxFQURBQyxFQUFlQSxJQUFpQndFLEVBQVlDLEVBQVlELEdBRXhEMEUsRUFBaUIxRSxFQUFXQyxNQUU5QixDQUFFb0csTUFBTSxPRnRCWkMsQ0FBZXRHLEVBQVdDLEVBQVd6RSxJS1B2QyxhQUlFLFdBQVlPLEVBQWNILEdBQ3hCLEdBQUlHLEVBQUtGLE9BQVMsRUFDaEIsTUFBTSxJQUFJaUQsTUFBTSxpQkFFbEIsR0FBSWxELEVBQVNDLE9BQVMsRUFDcEIsTUFBTSxJQUFJaUQsTUFBTSw0QkFFbEJ4QyxLQUFLQyxNQUFRUixFQUNiTyxLQUFLZSxVQUFZekIsRUFDakJVLEtBQUtpSyxzQkFBd0IsRUFpQ2pDLE9BOUJFLHNCQUFJLG1CQUFJLEMsSUFBUixXQUNFLE9BQU9qSyxLQUFLQyxPLGdDQUVkLHNCQUFJLHVCQUFRLEMsSUFBWixXQUNFLE9BQU9ELEtBQUtlLFcsZ0NBR2Qsc0JBQUksbUNBQW9CLEMsSUFBeEIsU0FBeUJtSixHQUN2QmxLLEtBQUtpSyxzQkFBd0JDLEcsZ0NBRS9CLHNCQUFJLCtCQUFnQixDLElBQXBCLFdBQ0UsT0FBT2xLLEtBQUtlLFVBQVVmLEtBQUtpSyx3QixnQ0FHN0Isc0JBQUksNEJBQWEsQyxJQUFqQixXQUlFLE9BSG9DakssS0FBS1YsU0FBU3FLLFFBQU8sU0FBQzNJLEdBQ3hELE9BQUFBLEVBQVFILGMsZ0NBS1osWUFBQTRJLFdBQUEsU0FBV3pJLEdBQ1RoQixLQUFLZSxVQUFVTyxLQUFLTixJQUd0QixzQkFBSSxnQ0FBaUIsQyxJQUFyQixzQkFDRSxPQUFPaEIsS0FBS1YsU0FBU3FLLFFBQ25CLFNBQUMzSSxHQUFZLE9BQUFBLEVBQVF2QixPQUFTLEVBQUsrRCxpQkFBaUIvRCxTLGdDQUcxRCxFQTlDQSxHQ0ZhMEssRUFBZ0IsU0FBQ0MsRUFBOEJDLEVBQThCQyxHQUNsRkYsRUFBV0csTUFBTWhMLE9BQVMsR0FBSzhLLEVBQVdFLE1BQU1oTCxPQUFTLEVBQ3pEK0ssRUFBWUUsVUFBWSxpQkFFeEJGLEVBQVlFLFVBQVksbUJDOERoQ3hFLFlBVGtCLFdBQ2hCLElBckQwQndDLEVBQ3BCaUMsRUF5QkFDLEVBQ0FDLEVBQ0FMLEVwQjFCa0JNLEVBQ2xCQyxFb0JVQUMsRUFHQUMsRUFxQ0ExQyxFQUFNakosU0FBU0MsY0FBYyxRQXJEVG1KLEVBc0RQSCxFQXJEYm9DLEVBQWVyTCxTQUFTQyxjQUM1QiwyQkFFRm1KLEVBQU9aLFVBQVk2QyxFQUFhN0MsVUFFTCxTQUFDWSxHQUM1QixJQUFNdUMsRUFBWTNMLFNBQVNDLGNBQ3pCLHdCQUVGbUosRUFBT1osV0FBYW1ELEVBQVVuRCxVQTZDOUJvRCxDQUFxQjNDLEdBN0JmcUMsRUFBbUJ0TCxTQUFTQyxjQUFjLHVCQUMxQ3NMLEVBQW1CdkwsU0FBU0MsY0FBYyx1QkFDMUNpTCxFQUFjbEwsU0FBU0MsY0FBYyxzQkFDM0NxTCxFQUFpQjdFLGlCQUFpQixTQUFTLFdBQ3ZDc0UsRUFBY08sRUFBa0JDLEVBQWtCTCxNQUV0REssRUFBaUI5RSxpQkFBaUIsU0FBUyxXQUN2Q3NFLEVBQWNPLEVBQWtCQyxFQUFrQkwsTUFwQmhEUSxFQUFrQjFMLFNBQVNDLGNBQy9CLHVCQUVJMEwsRUFBWTNMLFNBQVNDLGNBQ3pCLHNCQUVGeUwsRUFBZ0JqRixpQkFBaUIsU0FBUyxXQUM5QmtGLEVwQnJCSXJHLE1BQU11RyxRb0JxQkMsVXBCaEJ2QkosT0FETUEsR0FEa0JELEVvQm9CZEcsR3BCbkJ5QjFMLGNBQWMsaUJBQ2pEd0wsRUFBWWhGLGlCQUFpQixTQUFTLFdBQ3BDK0UsRUFBZ0JsRyxNQUFNdUcsUUFBVSxVb0JnQ0YsU0FBQ3pDLEdBQ2pDLElBQU0wQyxFQUFhOUwsU0FBU0MsY0FDMUIsc0JBRUY2TCxXQUFZckYsaUJBQWlCLFNBQVMsV0FDcEMsSUFBTTZFLEVBQW9CdEwsU0FBU0MsY0FBYyx1QkFBNENrTCxNQUN2RkksRUFBb0J2TCxTQUFTQyxjQUFjLHVCQUE0Q2tMLE1BQ3ZGWSxFQUFzQi9MLFNBQVNDLGNBQ25DLHlCQUVGbUosRUFBT1osVUFBWXVELEVBQW9CdkQsVUFDdkNrQixFQUFpQixJQUFJc0MsRUFBT1YsRUFBa0IsSUFBSyxJQUFJVSxFQUFPVCxFQUFrQixRQVVsRlUsQ0FBMEJoRCxLQUdOLE0iLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3Qgc2hvd01vZGFsID0gKFxyXG4gIHNjcmVlblRvRGlzcGxheTogSFRNTERpdkVsZW1lbnQsXHJcbiAgc3RhcnRpbmdQb3NpdGlvbjogc3RyaW5nXHJcbikgPT4ge1xyXG4gIHNjcmVlblRvRGlzcGxheS5zdHlsZS5kaXNwbGF5ID0gc3RhcnRpbmdQb3NpdGlvbjtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBoaWRlTW9kYWwgPSAoc2NyZWVuVG9EaXNwbGF5OiBIVE1MRGl2RWxlbWVudCkgPT4ge1xyXG4gIGNvbnN0IGV4aXRCdXR0b24gPSBzY3JlZW5Ub0Rpc3BsYXkucXVlcnlTZWxlY3RvcihcIi5leGl0QnV0dG9uXCIpO1xyXG4gIGV4aXRCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBzY3JlZW5Ub0Rpc3BsYXkuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gIH0pO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi4vcGxheWVyQ2xhc3NcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVBY3RpdmVQbGF5ZXJOYW1lID0gKGFjdGl2ZVBsYXllcjogUGxheWVyKSA9PiB7XHJcbiAgbGV0IHdob0Nob29zZXNQb2tlbW9uVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjd2hvQ2hvb3Nlc1BhcmFncmFwaFwiKSE7XHJcbiAgYWN0aXZlUGxheWVyLnBva2Vtb25zLmxlbmd0aCA9PT0gM1xyXG4gICAgPyAod2hvQ2hvb3Nlc1Bva2Vtb25UZXh0LnRleHRDb250ZW50ID0gXCJXYWl0IGZvciB0aGUgZ2FtZSB0byBzdGFydC4uLlwiKVxyXG4gICAgOiAod2hvQ2hvb3Nlc1Bva2Vtb25UZXh0LnRleHRDb250ZW50ID0gYCR7YWN0aXZlUGxheWVyLm5hbWV9IGNob29zZXMgMSBwb2tlbW9uYCk7XHJcbn07XHJcbiIsImV4cG9ydCB0eXBlIFBva2Vtb25UeXBlID1cclxuICB8IFwiZ3Jhc3NcIlxyXG4gIHwgXCJwb2lzb25cIlxyXG4gIHwgXCJmaXJlXCJcclxuICB8IFwid2F0ZXJcIlxyXG4gIHwgXCJidWdcIlxyXG4gIHwgXCJub3JtYWxcIlxyXG4gIHwgXCJmbHlpbmdcIlxyXG4gIHwgXCJlbGVjdHJpY1wiXHJcbiAgfCBcImdyb3VuZFwiXHJcbiAgfCBcImZhaXJ5XCJcclxuICB8IFwicHN5Y2hpY1wiXHJcbiAgfCBcImZpZ2h0aW5nXCJcclxuICB8IFwicm9ja1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBva2Vtb24ge1xyXG5cclxuICByZWFkb25seSBfbmFtZTogc3RyaW5nO1xyXG4gIHJlYWRvbmx5IF9pbWFnZTogc3RyaW5nO1xyXG4gIHJlYWRvbmx5IF9tYXhIUDogbnVtYmVyO1xyXG4gIHByaXZhdGUgX2N1cnJlbnRIUDogbnVtYmVyO1xyXG4gIHJlYWRvbmx5IF9hdHRhY2tQb2ludHM6IG51bWJlcjtcclxuICByZWFkb25seSBfZGVmZW5zZVBvaW50czogbnVtYmVyO1xyXG4gIHJlYWRvbmx5IF90eXBlczogUG9rZW1vblR5cGVbXTtcclxuICByZWFkb25seSBfbW92ZXM6IHsgbW92ZU5hbWU6IHN0cmluZzsgbW92ZVR5cGU6IFBva2Vtb25UeXBlIH1bXTtcclxuXHJcbiAgY29uc3RydWN0b3IobmFtZTogc3RyaW5nLCBpbWFnZTogc3RyaW5nLCBtYXhIUDogbnVtYmVyLCBhdHRhY2tQb2ludHM6IG51bWJlcixcclxuICAgIGRlZmVuc2VQb2ludHM6IG51bWJlciwgdHlwZXM6IFBva2Vtb25UeXBlW10sIG1vdmVzOiB7IG1vdmVOYW1lOiBzdHJpbmc7IG1vdmVUeXBlOiBQb2tlbW9uVHlwZSB9W10pIHtcclxuXHJcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcclxuICAgIHRoaXMuX2ltYWdlID0gaW1hZ2U7XHJcbiAgICB0aGlzLl9tYXhIUCA9IG1heEhQO1xyXG4gICAgdGhpcy5fY3VycmVudEhQID0gbWF4SFA7XHJcbiAgICB0aGlzLl9hdHRhY2tQb2ludHMgPSBhdHRhY2tQb2ludHM7XHJcbiAgICB0aGlzLl9kZWZlbnNlUG9pbnRzID0gZGVmZW5zZVBvaW50cztcclxuICAgIHRoaXMuX3R5cGVzID0gdHlwZXM7XHJcbiAgICB0aGlzLl9tb3ZlcyA9IG1vdmVzO1xyXG4gIH1cclxuXHJcblxyXG4gIGdldCBuYW1lKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX25hbWU7XHJcbiAgfVxyXG5cclxuICBnZXQgaW1hZ2UoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faW1hZ2U7XHJcbiAgfVxyXG5cclxuICBnZXQgY3VycmVudEhQKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRIUDtcclxuICB9XHJcblxyXG4gIGdldCBtYXhIUCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9tYXhIUDtcclxuICB9XHJcblxyXG4gIHN1YnRyYWN0SFAocG9pbnRzVG9TdWJ0cmFjdDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICBjb25zdCBuZXdIUCA9IHRoaXMuX2N1cnJlbnRIUCAtIHBvaW50c1RvU3VidHJhY3Q7XHJcbiAgICBpZiAobmV3SFAgPCAwKSB7XHJcbiAgICAgIHRoaXMuX2N1cnJlbnRIUCA9IDA7XHJcbiAgICB9XHJcbiAgICB0aGlzLl9jdXJyZW50SFAgPSBuZXdIUDtcclxuICB9XHJcblxyXG4gIGhlYWwoKTogdm9pZCB7XHJcbiAgICB0aGlzLl9jdXJyZW50SFAgPSB0aGlzLl9tYXhIUDtcclxuICB9XHJcblxyXG4gIGdldCBhdHRhY2tQb2ludHMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fYXR0YWNrUG9pbnRzO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGRlZmVuc2VQb2ludHMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fZGVmZW5zZVBvaW50cztcclxuICB9XHJcblxyXG4gIGdldCB0eXBlcygpIHtcclxuICAgIHJldHVybiB0aGlzLl90eXBlcztcclxuICB9XHJcblxyXG4gIGdldCBtb3ZlcygpIHtcclxuICAgIHJldHVybiB0aGlzLl9tb3ZlcztcclxuICB9XHJcblxyXG4gIGlzQWxpdmUoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5fY3VycmVudEhQID4gMDtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9rZW1vbiB9IGZyb20gXCIuL3Bva2Vtb25DbGFzc1wiXHJcbmltcG9ydCB7IFBva2Vtb25UeXBlIH0gZnJvbSBcIi4vcG9rZW1vbkNsYXNzXCJcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgUG9rZW1vbkZhY3Rvcnkge1xyXG4gICAgcmVhZG9ubHkgX3Bva2Vtb25zOiBQb2tlbW9uW107XHJcblxyXG4gICAgY29uc3RydWN0b3IocG9rZURhdGE6IHtcclxuICAgICAgICBuYW1lOiBzdHJpbmc7IHR5cGVzOiBzdHJpbmdbXTtcclxuICAgICAgICBzdGF0czogeyBocDogbnVtYmVyOyBhdHRhY2s6IG51bWJlcjsgZGVmZW5zZTogbnVtYmVyOyB9O1xyXG4gICAgICAgIG1vdmVzOiB7IG5hbWU6IHN0cmluZzsgYWNjdXJhY3k6IG51bWJlcjsgcG93ZXI6IG51bWJlcjsgdHlwZTogc3RyaW5nOyB9W11cclxuICAgIH1bXSkge1xyXG4gICAgICAgIHRoaXMuX3Bva2Vtb25zID0gW107XHJcblxyXG4gICAgICAgIGZvciAobGV0IHBva2Vtb24gb2YgcG9rZURhdGEpIHtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHBva2VJbWcgPSBcIi4uL2Fzc2V0cy9cIiArIHBva2Vtb24ubmFtZSArIFwiLnBuZ1wiXHJcblxyXG4gICAgICAgICAgICBjb25zdCBwb2tlTW92ZXMgPSBwb2tlbW9uLm1vdmVzLnJlZHVjZSggKHRhYiwgbW92ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGFiLnB1c2goe21vdmVOYW1lOiBtb3ZlLm5hbWUsIG1vdmVUeXBlOiBtb3ZlLnR5cGUgYXMgUG9rZW1vblR5cGV9KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhYlxyXG4gICAgICAgICAgICAgICAgfSwgW10gYXMge21vdmVOYW1lOiBzdHJpbmcsIG1vdmVUeXBlOiBQb2tlbW9uVHlwZX1bXSlcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHBva2VUeXBlczogUG9rZW1vblR5cGVbXSA9IHBva2Vtb24udHlwZXMubWFwKHYgPT4gdiBhcyBQb2tlbW9uVHlwZSlcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHBva2Vtb25PYmplY3QgPSBuZXcgUG9rZW1vbih0aGlzLl9jYXBpdGFsaXplKHBva2Vtb24ubmFtZSksIHBva2VJbWcsIFxyXG4gICAgICAgICAgICAgICAgcG9rZW1vbi5zdGF0cy5ocCwgcG9rZW1vbi5zdGF0cy5hdHRhY2ssIHBva2Vtb24uc3RhdHMuZGVmZW5zZSxcclxuICAgICAgICAgICAgICAgIHBva2VUeXBlcywgcG9rZU1vdmVzKVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fcG9rZW1vbnMucHVzaChwb2tlbW9uT2JqZWN0KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgcG9rZW1vbnMoKTogUG9rZW1vbltdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcG9rZW1vbnNcclxuICAgIH1cclxuXHJcbiAgICBnZXRQb2tlbW9uQnlOYW1lKG5hbWU6IHN0cmluZyk6IFBva2Vtb24ge1xyXG4gICAgICAgIGNvbnN0IHBva2Vtb24gPSB0aGlzLl9wb2tlbW9ucy5maW5kKCBwb2tlbW9uID0+IHBva2Vtb24ubmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lLnRvTG93ZXJDYXNlKCkpO1xyXG4gICAgICAgIGlmIChwb2tlbW9uID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBQb2tlbW9uICR7bmFtZX0gaXMgbm90IGZvdW5kIGluIHRoZSBwb2tlbW9uIGZhY3RvcnlgKVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcG9rZW1vblxyXG4gICAgfVxyXG5cclxuICAgIF9jYXBpdGFsaXplKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gc3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyLnNsaWNlKDEpO1xyXG4gICAgICB9XHJcbn1cclxuXHJcbiIsImltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuLi9wbGF5ZXJDbGFzc1wiO1xyXG5pbXBvcnQgeyBHYW1lSGFuZGxlciB9IGZyb20gXCIuLi9nYW1lSGFuZGxlckNsYXNzXCI7XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlQWN0aXZlUG9rZW1vbiA9IChnYW1lSGFuZGxlcjogR2FtZUhhbmRsZXIpID0+IHtcclxuICBjb25zdCBwbGF5ZXJPbmVBY3RpdmVQb2tlbW9uSW1hZ2VBcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgIFwiI3Bva2Vtb24taW1hZ2UtcGxheWVyMVwiXHJcbiAgKSBhcyBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gIGNvbnN0IHBsYXllclR3b0FjdGl2ZVBva2Vtb25JbWFnZUFyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgXCIjcG9rZW1vbi1pbWFnZS1wbGF5ZXIyXCJcclxuICApIGFzIEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgY29uc3QgcGxheWVyT25lQWN0aXZlUG9rZW1vbk5hbWVBcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgIFwiI3Bva2Vtb24tbmFtZS1wbGF5ZXIxXCJcclxuICApIGFzIEhUTUxIZWFkaW5nRWxlbWVudDtcclxuICBjb25zdCBwbGF5ZXJUd29BY3RpdmVQb2tlbW9uTmFtZUFyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgXCIjcG9rZW1vbi1uYW1lLXBsYXllcjJcIlxyXG4gICkgYXMgSFRNTEhlYWRpbmdFbGVtZW50O1xyXG4gIGNvbnN0IGNyZWF0ZVBva2Vtb24gPSAoXHJcbiAgICBwbGF5ZXI6IFBsYXllcixcclxuICAgIGltYWdlQXJlYTogSFRNTEltYWdlRWxlbWVudCxcclxuICAgIG5hbWVBcmVhOiBIVE1MSGVhZGluZ0VsZW1lbnRcclxuICApID0+IHtcclxuICAgIGNvbnN0IHBva2Vtb25OYW1lID0gcGxheWVyLmdldEFjdGl2ZVBva2Vtb24ubmFtZTtcclxuICAgIGltYWdlQXJlYS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgYC4vYXNzZXRzLyR7cG9rZW1vbk5hbWUudG9Mb3dlckNhc2UoKX0ucG5nYCk7XHJcbiAgICBuYW1lQXJlYS50ZXh0Q29udGVudCA9IHBva2Vtb25OYW1lO1xyXG4gIH07XHJcbiAgY3JlYXRlUG9rZW1vbihcclxuICAgIGdhbWVIYW5kbGVyLnBsYXllck9uZSxcclxuICAgIHBsYXllck9uZUFjdGl2ZVBva2Vtb25JbWFnZUFyZWEsXHJcbiAgICBwbGF5ZXJPbmVBY3RpdmVQb2tlbW9uTmFtZUFyZWFcclxuICApO1xyXG4gIGNyZWF0ZVBva2Vtb24oXHJcbiAgICBnYW1lSGFuZGxlci5wbGF5ZXJUd28sXHJcbiAgICBwbGF5ZXJUd29BY3RpdmVQb2tlbW9uSW1hZ2VBcmVhLFxyXG4gICAgcGxheWVyVHdvQWN0aXZlUG9rZW1vbk5hbWVBcmVhXHJcbiAgKTtcclxufTtcclxuIiwiaW1wb3J0IHsgR2FtZUhhbmRsZXIgfSBmcm9tIFwiLi4vZ2FtZUhhbmRsZXJDbGFzc1wiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUFjdGl2ZVBsYXllciA9IChnYW1lSGFuZGxlcjogR2FtZUhhbmRsZXIpID0+IHtcclxuICBjb25zdCBhY3RpdmVQbGF5ZXJBcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgIFwiI2FjdGl2ZS1wbGF5ZXItaW5mb1wiXHJcbiAgKSBhcyBIVE1MRGl2RWxlbWVudDtcclxuICBhY3RpdmVQbGF5ZXJBcmVhLnRleHRDb250ZW50ID0gYCR7Z2FtZUhhbmRsZXIuY3VycmVudFBsYXllci5uYW1lfSBub3cgaXMgeW91ciB0dXJuLiBHZXQgdGhlIHJldmVuZ2UhYDtcclxuICBjb25zdCBwbGF5ZXJPbmVVbmRlcmxpbmVBcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmaWdodC1wYWdlLXBsYXllcjFcIik7XHJcbiAgY29uc3QgcGxheWVyVHdvVW5kZXJsaW5lQXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZmlnaHQtcGFnZS1wbGF5ZXIyXCIpO1xyXG4gIGlmIChnYW1lSGFuZGxlci5jdXJyZW50UGxheWVyID09PSBnYW1lSGFuZGxlci5wbGF5ZXJPbmUpIHtcclxuICAgIHBsYXllclR3b1VuZGVybGluZUFyZWE/LmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVQbGF5ZXJcIik7XHJcbiAgICBwbGF5ZXJPbmVVbmRlcmxpbmVBcmVhPy5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlUGxheWVyXCIpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBwbGF5ZXJPbmVVbmRlcmxpbmVBcmVhPy5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlUGxheWVyXCIpO1xyXG4gICAgcGxheWVyVHdvVW5kZXJsaW5lQXJlYT8uY2xhc3NMaXN0LmFkZChcImFjdGl2ZVBsYXllclwiKTtcclxuICB9XHJcbn07XHJcbiIsImltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuLi9wbGF5ZXJDbGFzc1wiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUhQQmFycyA9IChwbGF5ZXJPbmU6IFBsYXllciwgcGxheWVyVHdvOiBQbGF5ZXIpID0+IHtcclxuICBjb25zdCBjcmVhdGVCYXIgPSAocGxheWVyOiBQbGF5ZXIsIEhQQmFyOiBIVE1MRGl2RWxlbWVudCkgPT4ge1xyXG4gICAgY29uc3QgbWF4SFAgPSBwbGF5ZXIuZ2V0QWN0aXZlUG9rZW1vbi5tYXhIUDtcclxuICAgIGNvbnN0IGN1cnJlbnRIUCA9IHBsYXllci5nZXRBY3RpdmVQb2tlbW9uLmN1cnJlbnRIUDtcclxuICAgIGNvbnN0IEhQSW5QZXJjZW50ID0gKGN1cnJlbnRIUCAvIG1heEhQKSAqIDEwMDtcclxuICAgIGNvbnNvbGUubG9nKEhQSW5QZXJjZW50KTtcclxuICAgIEhQQmFyLnN0eWxlLndpZHRoID0gYCR7SFBJblBlcmNlbnR9JWA7XHJcbiAgICBsZXQgSFBDbGFzc0xpc3QgPSBIUEJhci5jbGFzc0xpc3Q7XHJcbiAgICBpZiAoSFBJblBlcmNlbnQgPCAyMCkge1xyXG4gICAgICBIUENsYXNzTGlzdC5yZW1vdmUoXCJocEJhckhpZ2hMZXZlbFwiKTtcclxuICAgICAgSFBDbGFzc0xpc3QuYWRkKFwiaHBCYXJMb3dMZXZlbFwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIEhQQ2xhc3NMaXN0LnJlbW92ZShcImhwQmFyTG93TGV2ZWxcIik7XHJcbiAgICAgIEhQQ2xhc3NMaXN0LmFkZChcImhwQmFySGlnaExldmVsXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgY29uc3QgcGxheWVyT25lSFBCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgXCIjaHAtYmFyLXBsYXllcjFcIlxyXG4gICkgYXMgSFRNTERpdkVsZW1lbnQ7XHJcbiAgY29uc3QgcGxheWVyVHdvSFBCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgXCIjaHAtYmFyLXBsYXllcjJcIlxyXG4gICkgYXMgSFRNTERpdkVsZW1lbnQ7XHJcbiAgY3JlYXRlQmFyKHBsYXllck9uZSwgcGxheWVyT25lSFBCYXIpO1xyXG4gIGNyZWF0ZUJhcihwbGF5ZXJUd28sIHBsYXllclR3b0hQQmFyKTtcclxufTtcclxuIiwiaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4uL3BsYXllckNsYXNzXCI7XHJcbmltcG9ydCB7IEdhbWVIYW5kbGVyIH0gZnJvbSBcIi4uL2dhbWVIYW5kbGVyQ2xhc3NcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVGaWdodFBhZ2VQb2tlYmFsbHMgPSAoZ2FtZUhhbmRsZXI6IEdhbWVIYW5kbGVyKSA9PiB7XHJcbiAgY29uc3QgY2hhbmdlQ2xhc3NPZkRpc2FibGVkUG9rZW1vbnMgPSAoXHJcbiAgICBwbGF5ZXI6IFBsYXllcixcclxuICAgIHBsYXllclBva2ViYWxsczogSFRNTEltYWdlRWxlbWVudFtdXHJcbiAgKSA9PiB7XHJcbiAgICBmb3IgKGxldCBpID0gMjsgaSA+IHBsYXllci5hbGl2ZVBva2Vtb25zLmxlbmd0aCAtIDE7IGktLSkge1xyXG4gICAgICBwbGF5ZXJQb2tlYmFsbHNbaV0uY2xhc3NMaXN0LmFkZChcImRpc2FibGVkUG9rZW1vblwiKTtcclxuICAgIH1cclxuICB9O1xyXG4gIGNvbnN0IHBsYXllck9uZVBva2ViYWxscyA9IEFycmF5LmZyb20oXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI2ZpZ2h0LXBhZ2UtcGxheWVyMSAucG9rZWJhbGxXaXRoUG9rZW1vblwiKVxyXG4gICkgYXMgSFRNTEltYWdlRWxlbWVudFtdO1xyXG4gIGNvbnN0IHBsYXllclR3b1Bva2ViYWxscyA9IEFycmF5LmZyb20oXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI2ZpZ2h0LXBhZ2UtcGxheWVyMiAucG9rZWJhbGxXaXRoUG9rZW1vblwiKVxyXG4gICkgYXMgSFRNTEltYWdlRWxlbWVudFtdO1xyXG4gIGNoYW5nZUNsYXNzT2ZEaXNhYmxlZFBva2Vtb25zKGdhbWVIYW5kbGVyLnBsYXllck9uZSwgcGxheWVyT25lUG9rZWJhbGxzKTtcclxuICBjaGFuZ2VDbGFzc09mRGlzYWJsZWRQb2tlbW9ucyhnYW1lSGFuZGxlci5wbGF5ZXJUd28sIHBsYXllclR3b1Bva2ViYWxscyk7XHJcbn07XHJcbiIsImltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuLi9wbGF5ZXJDbGFzc1wiO1xyXG5pbXBvcnQgeyBHYW1lSGFuZGxlciB9IGZyb20gXCIuLi9nYW1lSGFuZGxlckNsYXNzXCI7XHJcbmltcG9ydCB7IGNyZWF0ZUFjdGl2ZVBva2Vtb24gfSBmcm9tIFwiLi9jcmVhdGVBY3RpdmVQb2tlbW9uXCI7XHJcbmltcG9ydCB7IGNyZWF0ZUFjdGl2ZVBsYXllciB9IGZyb20gXCIuL2NyZWF0ZUFjdGl2ZVBsYXllclwiO1xyXG5pbXBvcnQgeyBjcmVhdGVIUEJhcnMgfSBmcm9tIFwiLi9jcmVhdGVIUEJhcnNcIjtcclxuaW1wb3J0IHsgY3JlYXRlRmlnaHRQYWdlUG9rZWJhbGxzIH0gZnJvbSBcIi4vY3JlYXRlRmlnaHRQYWdlUG9rZWJhbGxzXCI7XHJcblxyXG5leHBvcnQgY29uc3QgYWN0aW9uc0J1dHRvbkV2ZW50TGlzdGVuZXIgPSAoXHJcbiAgLy9wbGF5ZXI6IFBsYXllcixcclxuICBnYW1lSGFuZGxlcjogR2FtZUhhbmRsZXJcclxuKSA9PiB7XHJcbiAgY29uc3QgYmF0dGxlQnV0dG9ucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXHJcbiAgICBcImJhdHRsZUJ1dHRvblwiXHJcbiAgKSEgYXMgSFRNTENvbGxlY3Rpb25PZjxIVE1MRWxlbWVudD47XHJcbiAgY29uc3QgYXR0YWNrQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgIFwiI2F0dGFja0J1dHRvblwiXHJcbiAgKSEgYXMgSFRNTERpdkVsZW1lbnQ7XHJcbiAgY29uc3Qgc3dpdGNoQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgIFwiI3N3aXRjaEJ1dHRvblwiXHJcbiAgKSEgYXMgSFRNTERpdkVsZW1lbnQ7XHJcbiAgY29uc3QgbWFuZ29CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21hbmdvQnV0dG9uXCIpISBhcyBIVE1MRGl2RWxlbWVudDtcclxuICBjb25zdCBtYW5nbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbWFuZ29cIikhIGFzIEhUTUxEaXZFbGVtZW50O1xyXG5cclxuICBhbmltYXRpb25CdXR0b25zRW50cnkoYmF0dGxlQnV0dG9ucyk7XHJcblxyXG4gIGF0dGFja0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgYW5pbWF0aW9uQnV0dG9uc0V4aXQoYmF0dGxlQnV0dG9ucyk7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgZ2FtZUhhbmRsZXIuZ2VuZXJhdGVBdHRhY2tCdXR0b25zKCk7XHJcbiAgICB9LCAxMDAwKTtcclxuICB9KTtcclxuICBzd2l0Y2hCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGFuaW1hdGlvbkJ1dHRvbnNFeGl0KGJhdHRsZUJ1dHRvbnMpO1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIGdhbWVIYW5kbGVyLmdlbmVyYXRlU3dpdGNoQnV0dG9ucygpO1xyXG4gICAgfSwgMTAwMCk7XHJcbiAgfSk7XHJcblxyXG4gIGlmICh0cnVlKSB7XHJcbiAgICAvL2dhbWVIYW5kbGVyLmNhblVzZU1hbmdvKClcclxuICAgIG1hbmdvQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIC8vZ2FtZUhhbmRsZXIudXNlTWFuZ28oKTtcclxuICAgICAgY29uc29sZS5sb2coXCJtYW5nbyB1c2VkISBtbmlhIG1uaWEgbW5pYS4uLlwiKTsgLy9uZWVkcyB0byBiZSBkZWxldGVkXHJcbiAgICAgIG1hbmdvLmlubmVySFRNTCA9IFwiMFwiO1xyXG4gICAgICBtYW5nb0J1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRCdXR0b25cIik7XHJcbiAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgbWFuZ28uaW5uZXJIVE1MID0gXCIwXCI7XHJcbiAgICBtYW5nb0J1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRCdXR0b25cIik7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGF0dGFja3NCdXR0b25FdmVudExpc3RlbmVyID0gKGdhbWVIYW5kbGVyOiBHYW1lSGFuZGxlcikgPT4ge1xyXG4gIGNvbnN0IGF0dGFja0J1dHRvbk9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICBcIiNhdHRhY2tCdXR0b25PbmVcIlxyXG4gICkhIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gIGNvbnN0IGF0dGFja0J1dHRvblR3byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICBcIiNhdHRhY2tCdXR0b25Ud29cIlxyXG4gICkhIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gIGNvbnN0IGJhdHRsZUJ1dHRvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFxyXG4gICAgXCJiYXR0bGVCdXR0b25cIlxyXG4gICkhIGFzIEhUTUxDb2xsZWN0aW9uT2Y8SFRNTEVsZW1lbnQ+O1xyXG4gIGNvbnN0IGJhY2tCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2JhY2tCdXR0b25cIikhIGFzIEhUTUxEaXZFbGVtZW50O1xyXG5cclxuICBhbmltYXRpb25CdXR0b25zRW50cnkoYmF0dGxlQnV0dG9ucyk7XHJcbiAgbWFnaWNGdW5jdGlvbihhdHRhY2tCdXR0b25PbmUsIGJhdHRsZUJ1dHRvbnMsIGdhbWVIYW5kbGVyLCBhdHRhY2spO1xyXG4gIG1hZ2ljRnVuY3Rpb24oYXR0YWNrQnV0dG9uVHdvLCBiYXR0bGVCdXR0b25zLCBnYW1lSGFuZGxlciwgYXR0YWNrKTtcclxuICBtYWdpY0Z1bmN0aW9uKGJhY2tCdXR0b24sIGJhdHRsZUJ1dHRvbnMsIGdhbWVIYW5kbGVyKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBzd2l0Y2hCdXR0b25FdmVudExpc3RlbmVyID0gKGdhbWVIYW5kbGVyOiBHYW1lSGFuZGxlcikgPT4ge1xyXG4gIGNvbnN0IHN3aXRjaEJ1dHRvbk9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICBcIiNzd2l0Y2hCdXR0b25PbmVcIlxyXG4gICkhIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gIGNvbnN0IHN3aXRjaEJ1dHRvblR3byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICBcIiNzd2l0Y2hCdXR0b25Ud29cIlxyXG4gICkhIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gIGNvbnN0IGJhdHRsZUJ1dHRvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFxyXG4gICAgXCJiYXR0bGVCdXR0b25cIlxyXG4gICkhIGFzIEhUTUxDb2xsZWN0aW9uT2Y8SFRNTEVsZW1lbnQ+O1xyXG4gIGNvbnN0IGJhY2tCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2JhY2tCdXR0b25cIikhIGFzIEhUTUxEaXZFbGVtZW50O1xyXG5cclxuICBhbmltYXRpb25CdXR0b25zRW50cnkoYmF0dGxlQnV0dG9ucyk7XHJcblxyXG4gIG1hZ2ljRnVuY3Rpb24oc3dpdGNoQnV0dG9uT25lLCBiYXR0bGVCdXR0b25zLCBnYW1lSGFuZGxlciwgc3dpdGNoUG9rZSk7XHJcbiAgbWFnaWNGdW5jdGlvbihzd2l0Y2hCdXR0b25Ud28sIGJhdHRsZUJ1dHRvbnMsIGdhbWVIYW5kbGVyLCBzd2l0Y2hQb2tlKTtcclxuICBtYWdpY0Z1bmN0aW9uKGJhY2tCdXR0b24sIGJhdHRsZUJ1dHRvbnMsIGdhbWVIYW5kbGVyKTtcclxufTtcclxuXHJcbmNvbnN0IG1hZ2ljRnVuY3Rpb24gPSAoXHJcbiAgYnV0dG9uOiBIVE1MRGl2RWxlbWVudCxcclxuICBidXR0b25zOiBIVE1MQ29sbGVjdGlvbk9mPEhUTUxFbGVtZW50PixcclxuICBnYW1lSGFuZGxlcjogR2FtZUhhbmRsZXIsXHJcbiAgZnVuY3Rpb25Ub0NhbGw/OiBhbnlcclxuKSA9PiB7XHJcbiAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coYCR7YnV0dG9uLmlubmVyVGV4dH0gdXNlZCFgKTtcclxuICAgIGlmIChmdW5jdGlvblRvQ2FsbCkge1xyXG4gICAgICBmdW5jdGlvblRvQ2FsbChnYW1lSGFuZGxlciwgZSk7XHJcbiAgICB9IC8vID8/XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgZ2FtZUhhbmRsZXIuZ2VuZXJhdGVBY3Rpb25CdXR0b25zKCk7XHJcbiAgICB9LCAxMDAwKTtcclxuICAgIC8vYWxzbyBjaGFuZ2UgcGxheWVyIGZ1bmN0aW9uXHJcbiAgICBhbmltYXRpb25CdXR0b25zRXhpdChidXR0b25zKTtcclxuICB9KTtcclxufTtcclxuXHJcbmNvbnN0IGFuaW1hdGlvbkJ1dHRvbnNFbnRyeSA9IChidXR0b25zOiBIVE1MQ29sbGVjdGlvbk9mPEhUTUxFbGVtZW50PikgPT4ge1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYnV0dG9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgYnV0dG9uc1tpXS5zdHlsZS5hbmltYXRpb24gPVxyXG4gICAgICBcInNjYWxlLWluLWhvci1jZW50ZXIgMC41cyBjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApIGJvdGhcIjtcclxuICAgIGJ1dHRvbnNbaV0uc3R5bGUuYW5pbWF0aW9uRGVsYXkgPSBgJHtpICogMC4xNX1zYDtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBhbmltYXRpb25CdXR0b25zRXhpdCA9IChidXR0b25zOiBIVE1MQ29sbGVjdGlvbk9mPEhUTUxFbGVtZW50PikgPT4ge1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYnV0dG9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgYnV0dG9uc1tpXS5zdHlsZS5hbmltYXRpb24gPVxyXG4gICAgICBcInNjYWxlLW91dC1ob3Jpem9udGFsIDAuNXMgY3ViaWMtYmV6aWVyKDAuNTUwLCAwLjA4NSwgMC42ODAsIDAuNTMwKSBib3RoXCI7XHJcbiAgICBidXR0b25zW2ldLnN0eWxlLmFuaW1hdGlvbkRlbGF5ID0gYCR7aSAqIDAuMTV9c2A7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gZnVuY2lvbnMganVzdCBmb3IgY2hlY2sgaWYgaXRzIHdvcmtzIHNob3VsZCBiZSByZXBsYWNlZCB3aXRoIGdhbWVIYW5kbGVyID4gdXNlIGF0dGFjayBvciBzd2l0Y2ggUG9rZW1vbiBmdW5jdGlvbnNcclxuY29uc3QgdXBkYXRlVmlldyA9IChnYW1lSGFuZGxlcjogR2FtZUhhbmRsZXIpID0+IHtcclxuICBjcmVhdGVBY3RpdmVQb2tlbW9uKGdhbWVIYW5kbGVyKTtcclxuICBjcmVhdGVIUEJhcnMoZ2FtZUhhbmRsZXIucGxheWVyT25lLCBnYW1lSGFuZGxlci5wbGF5ZXJUd28pO1xyXG4gIGNyZWF0ZUZpZ2h0UGFnZVBva2ViYWxscyhnYW1lSGFuZGxlcik7XHJcbiAgZ2FtZUhhbmRsZXIuc3dpdGNoUGxheWVyKCk7XHJcbiAgY3JlYXRlQWN0aXZlUGxheWVyKGdhbWVIYW5kbGVyKTtcclxuICBnYW1lSGFuZGxlci5nZW5lcmF0ZUFjdGlvbkJ1dHRvbnMoKTtcclxuICBnYW1lSGFuZGxlci5nZW5lcmF0ZUF0dGFja0J1dHRvbnMoKTtcclxuICBnYW1lSGFuZGxlci5nZW5lcmF0ZVN3aXRjaEJ1dHRvbnMoKTtcclxufTtcclxuXHJcbmNvbnN0IGF0dGFjayA9IChnYW1lSGFuZGxlcjogR2FtZUhhbmRsZXIpID0+IHtcclxuICBjb25zb2xlLmxvZyhcImJ1bSBidW0gYmFjaCFcIik7XHJcbiAgdXBkYXRlVmlldyhnYW1lSGFuZGxlcik7XHJcbn07XHJcbmNvbnN0IHN3aXRjaFBva2UgPSAoZ2FtZUhhbmRsZXI6IEdhbWVIYW5kbGVyLCBldmVudDogRXZlbnQpID0+IHtcclxuICBjb25zdCBuYW1lT2ZDaG9zZW5Qb2tlbW9uID0gKGV2ZW50LmN1cnJlbnRUYXJnZXQgYXMgSFRNTERpdkVsZW1lbnQpXHJcbiAgICAudGV4dENvbnRlbnQ7XHJcbiAgZ2FtZUhhbmRsZXIuc3dpdGNoUG9rZW1vbihuYW1lT2ZDaG9zZW5Qb2tlbW9uISk7XHJcbiAgdXBkYXRlVmlldyhnYW1lSGFuZGxlcik7XHJcbn07XHJcbiIsImltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL3BsYXllckNsYXNzXCI7XHJcbmltcG9ydCB7XHJcbiAgYWN0aW9uc0J1dHRvbkV2ZW50TGlzdGVuZXIsXHJcbiAgYXR0YWNrc0J1dHRvbkV2ZW50TGlzdGVuZXIsXHJcbiAgc3dpdGNoQnV0dG9uRXZlbnRMaXN0ZW5lcixcclxufSBmcm9tIFwiLi9maWdodFBhZ2UvYnV0dG9uc0V2ZW50TGlzdGVuZXJzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZUhhbmRsZXIge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfcGxheWVyT25lOiBQbGF5ZXIsXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9wbGF5ZXJUd286IFBsYXllclxyXG4gICkge31cclxuXHJcbiAgcHJpdmF0ZSBfY3VycmVudFBsYXllcjogUGxheWVyID0gdGhpcy5fcGxheWVyT25lO1xyXG5cclxuICBnZXQgcGxheWVyT25lKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3BsYXllck9uZTtcclxuICB9XHJcblxyXG4gIGdldCBwbGF5ZXJUd28oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcGxheWVyVHdvO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGN1cnJlbnRQbGF5ZXIoKTogUGxheWVyIHtcclxuICAgIHJldHVybiB0aGlzLl9jdXJyZW50UGxheWVyO1xyXG4gIH1cclxuXHJcbiAgZ2V0IG9wcG9uZW50UGxheWVyKCk6IFBsYXllciB7XHJcbiAgICBpZiAodGhpcy5fY3VycmVudFBsYXllciA9PT0gdGhpcy5fcGxheWVyT25lKSByZXR1cm4gdGhpcy5fcGxheWVyVHdvO1xyXG4gICAgcmV0dXJuIHRoaXMuX3BsYXllck9uZTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZGlkUGxheWVyTG9vc2UocGxheWVyOiBQbGF5ZXIpOiBib29sZWFuIHtcclxuICAgIHJldHVybiBwbGF5ZXIuYWxpdmVQb2tlbW9ucy5sZW5ndGggPT09IDA7XHJcbiAgfVxyXG5cclxuICBpc0dhbWVGaW5pc2hlZCgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIHRoaXMuZGlkUGxheWVyTG9vc2UodGhpcy5fcGxheWVyT25lKSB8fFxyXG4gICAgICB0aGlzLmRpZFBsYXllckxvb3NlKHRoaXMuX3BsYXllclR3bylcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBnZXRXaW5uZXIoKTogUGxheWVyIHwgRXJyb3Ige1xyXG4gICAgaWYgKCF0aGlzLmlzR2FtZUZpbmlzaGVkKCkpXHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBjYW5ub3QgZ2V0IHRoZSB3aW5uZXIuIFRoZSBnYW1lIGlzIG5vdCBvdmVyLlwiKTtcclxuICAgIHJldHVybiB0aGlzLmRpZFBsYXllckxvb3NlKHRoaXMuX3BsYXllck9uZSkgPT09IHRydWVcclxuICAgICAgPyB0aGlzLl9wbGF5ZXJUd29cclxuICAgICAgOiB0aGlzLl9wbGF5ZXJPbmU7XHJcbiAgfVxyXG5cclxuICBzd2l0Y2hQbGF5ZXIoKTogdm9pZCB7XHJcbiAgICB0aGlzLl9jdXJyZW50UGxheWVyID1cclxuICAgICAgdGhpcy5fY3VycmVudFBsYXllciA9PT0gdGhpcy5fcGxheWVyT25lXHJcbiAgICAgICAgPyB0aGlzLl9wbGF5ZXJUd29cclxuICAgICAgICA6IHRoaXMuX3BsYXllck9uZTtcclxuICB9XHJcblxyXG4gIHN3aXRjaFBva2Vtb24ocG9rZW1vbk5hbWU6IHN0cmluZykge1xyXG4gICAgdGhpcy5fY3VycmVudFBsYXllci5pbmRleE9mQWN0aXZlUG9rZW1vbiA9IHRoaXMuX2N1cnJlbnRQbGF5ZXIucG9rZW1vbnMuZmluZEluZGV4KFxyXG4gICAgICAocG9rZW1vbikgPT4gcG9rZW1vbi5uYW1lID09PSBwb2tlbW9uTmFtZVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGdlbmVyYXRlQWN0aW9uQnV0dG9ucygpOiB2b2lkIHtcclxuICAgIGNvbnN0IHBsYXllciA9IHRoaXMuY3VycmVudFBsYXllcjtcclxuICAgIGNvbnNvbGUubG9nKFwiU3RhcnQgLSBhY3Rpb24gbW9kYWxcIik7XHJcbiAgICBjb25zdCBhY3Rpb25Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FjdGlvbk1vZGFsc1wiKSE7XHJcbiAgICBhY3Rpb25Db250YWluZXIuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b24gYmF0dGxlQnV0dG9uXCIgaWQ9XCJhdHRhY2tCdXR0b25cIj5hdHRhY2s8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uIGJhdHRsZUJ1dHRvblwiIGlkPVwic3dpdGNoQnV0dG9uXCI+c3dpdGNoPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbiBiYXR0bGVCdXR0b25cIiBpZD1cIm1hbmdvQnV0dG9uXCI+dXNlIG1hbmdvICg8c3BhbiBpZD1cIm1hbmdvXCI+MTwvc3Bhbj4pPC9kaXY+YDtcclxuICAgIGFjdGlvbnNCdXR0b25FdmVudExpc3RlbmVyKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgZ2VuZXJhdGVBdHRhY2tCdXR0b25zKCk6IHZvaWQge1xyXG4gICAgY29uc3QgcGxheWVyID0gdGhpcy5jdXJyZW50UGxheWVyO1xyXG4gICAgY29uc29sZS5sb2coXCJBdHRhY2sgY2hvb3NlIG1vZGFsXCIpO1xyXG4gICAgY29uc3QgYWN0aW9uQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhY3Rpb25Nb2RhbHNcIikhO1xyXG4gICAgYWN0aW9uQ29udGFpbmVyLmlubmVySFRNTCA9IGBcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uIGJhdHRsZUJ1dHRvblwiIGlkPVwiYXR0YWNrQnV0dG9uT25lXCI+JHtwbGF5ZXIuZ2V0QWN0aXZlUG9rZW1vbi5tb3Zlc1swXS5tb3ZlTmFtZX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uIGJhdHRsZUJ1dHRvblwiIGlkPVwiYXR0YWNrQnV0dG9uVHdvXCI+JHtwbGF5ZXIuZ2V0QWN0aXZlUG9rZW1vbi5tb3Zlc1sxXS5tb3ZlTmFtZX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uIGJhdHRsZUJ1dHRvblwiIGlkPVwiYmFja0J1dHRvblwiPmJhY2s8L2Rpdj5gO1xyXG4gICAgYXR0YWNrc0J1dHRvbkV2ZW50TGlzdGVuZXIodGhpcyk7XHJcbiAgfVxyXG5cclxuICBnZW5lcmF0ZVN3aXRjaEJ1dHRvbnMoKTogdm9pZCB7XHJcbiAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLmN1cnJlbnRQbGF5ZXI7XHJcbiAgICBjb25zb2xlLmxvZyhcIlN3aXRjaCBjaG9vc2UgbW9kYWxcIik7XHJcbiAgICBjb25zdCBhY3Rpb25Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FjdGlvbk1vZGFsc1wiKSE7XHJcbiAgICBhY3Rpb25Db250YWluZXIuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b24gYmF0dGxlQnV0dG9uXCIgaWQ9XCJzd2l0Y2hCdXR0b25PbmVcIj4ke3BsYXllci5ub3RBY3RpdmVQb2tlbW9uc1swXS5uYW1lfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b24gYmF0dGxlQnV0dG9uXCIgaWQ9XCJzd2l0Y2hCdXR0b25Ud29cIj4ke3BsYXllci5ub3RBY3RpdmVQb2tlbW9uc1sxXS5uYW1lfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b24gYmF0dGxlQnV0dG9uXCIgaWQ9XCJiYWNrQnV0dG9uXCI+YmFjazwvZGl2PmA7XHJcbiAgICBzd2l0Y2hCdXR0b25FdmVudExpc3RlbmVyKHRoaXMpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi4vcGxheWVyQ2xhc3NcIjtcclxuaW1wb3J0IHsgc3RhcnRCYXR0bGUgfSBmcm9tIFwiLi4vZmlnaHRQYWdlL3N0YXJ0QmF0dGxlXCI7XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IHN0YXJ0R2FtZUlmUmVhZHkgPSAocGxheWVyT25lOiBQbGF5ZXIsIHBsYXllclR3bzogUGxheWVyKSA9PiB7XHJcbiAgaWYgKHBsYXllck9uZS5wb2tlbW9ucy5sZW5ndGggPCAzIHx8IHBsYXllclR3by5wb2tlbW9ucy5sZW5ndGggPCAzKSByZXR1cm47XHJcbiAgY29uc3QgYXBwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhcHBcIikgYXMgSFRNTERpdkVsZW1lbnQ7XHJcbiAgc3RhcnRCYXR0bGUocGxheWVyT25lLCBwbGF5ZXJUd28sIGFwcCk7XHJcbn07XHJcbiIsImltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuLi9wbGF5ZXJDbGFzc1wiO1xyXG5pbXBvcnQgeyBHYW1lSGFuZGxlciB9IGZyb20gXCIuLi9nYW1lSGFuZGxlckNsYXNzXCI7XHJcbmltcG9ydCB7IGNyZWF0ZUZpZ2h0UGFnZSB9IGZyb20gXCIuL3JlbmRlckZpZ2h0UGFnZVwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IHN0YXJ0QmF0dGxlID0gKFxyXG4gIHBsYXllck9uZTogUGxheWVyLFxyXG4gIHBsYXllclR3bzogUGxheWVyLFxyXG4gIGFwcDogSFRNTERpdkVsZW1lbnRcclxuKSA9PiB7XHJcbiAgY29uc3QgZ2FtZSA9IG5ldyBHYW1lSGFuZGxlcihwbGF5ZXJPbmUsIHBsYXllclR3byk7XHJcbiAgc2V0VGltZW91dCgoKSA9PiBjcmVhdGVGaWdodFBhZ2UoYXBwLCBnYW1lKSwgMjAwMCk7XHJcbn07XHJcbiIsImltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuLi9wbGF5ZXJDbGFzc1wiO1xyXG5pbXBvcnQgeyBHYW1lSGFuZGxlciB9IGZyb20gXCIuLi9nYW1lSGFuZGxlckNsYXNzXCI7XHJcbmltcG9ydCB7IGNyZWF0ZUFjdGl2ZVBva2Vtb24gfSBmcm9tIFwiLi9jcmVhdGVBY3RpdmVQb2tlbW9uXCI7XHJcbmltcG9ydCB7IGNyZWF0ZUFjdGl2ZVBsYXllciB9IGZyb20gXCIuL2NyZWF0ZUFjdGl2ZVBsYXllclwiO1xyXG5pbXBvcnQgeyBjcmVhdGVIUEJhcnMgfSBmcm9tIFwiLi9jcmVhdGVIUEJhcnNcIjtcclxuaW1wb3J0IHsgY3JlYXRlRmlnaHRQYWdlUG9rZWJhbGxzIH0gZnJvbSBcIi4vY3JlYXRlRmlnaHRQYWdlUG9rZWJhbGxzXCI7XHJcblxyXG5jb25zdCBjcmVhdGVQbGF5ZXJGaWdodE5hbWVzID0gKGdhbWVIYW5kbGVyOiBHYW1lSGFuZGxlcikgPT4ge1xyXG4gIGNvbnN0IHBsYXllck9uZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgXCIjZmlnaHQtcGFnZS1wbGF5ZXIxLW5hbWVcIlxyXG4gICkgYXMgSFRNTEhlYWRpbmdFbGVtZW50O1xyXG4gIGNvbnN0IHBsYXllclR3b05hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgXCIjZmlnaHQtcGFnZS1wbGF5ZXIyLW5hbWVcIlxyXG4gICkgYXMgSFRNTEhlYWRpbmdFbGVtZW50O1xyXG4gIHBsYXllck9uZU5hbWUudGV4dENvbnRlbnQgPSBnYW1lSGFuZGxlci5wbGF5ZXJPbmUubmFtZTtcclxuICBwbGF5ZXJUd29OYW1lLnRleHRDb250ZW50ID0gZ2FtZUhhbmRsZXIucGxheWVyVHdvLm5hbWU7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlRmlnaHRQYWdlID0gKFxyXG4gIGFwcERpdjogSFRNTERpdkVsZW1lbnQsXHJcbiAgZ2FtZUhhbmRsZXI6IEdhbWVIYW5kbGVyXHJcbikgPT4ge1xyXG4gIGNvbnN0IGZpZ2h0UGFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICBcIiNmaWdodC1wYWdlLXRlbXBsYXRlXCJcclxuICApIGFzIEhUTUxUZW1wbGF0ZUVsZW1lbnQ7XHJcbiAgYXBwRGl2LmlubmVySFRNTCA9IGZpZ2h0UGFnZS5pbm5lckhUTUw7XHJcbiAgY3JlYXRlUGxheWVyRmlnaHROYW1lcyhnYW1lSGFuZGxlcik7XHJcbiAgY3JlYXRlQWN0aXZlUGxheWVyKGdhbWVIYW5kbGVyKTtcclxuICBjcmVhdGVBY3RpdmVQb2tlbW9uKGdhbWVIYW5kbGVyKTtcclxuICBjcmVhdGVIUEJhcnMoZ2FtZUhhbmRsZXIucGxheWVyT25lLCBnYW1lSGFuZGxlci5wbGF5ZXJUd28pO1xyXG4gIGNyZWF0ZUZpZ2h0UGFnZVBva2ViYWxscyhnYW1lSGFuZGxlcik7XHJcbiAgLy8gZ2VuZXJhdGUgY2hvb3NlIGFjdGlvbiBidXR0b25zXHJcbiAgZ2FtZUhhbmRsZXIuZ2VuZXJhdGVBY3Rpb25CdXR0b25zKCk7XHJcbn07XHJcbiIsImltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuLi9wbGF5ZXJDbGFzc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVBY3RpdmVQbGF5ZXJOYW1lIH0gZnJvbSBcIi4vY3JlYXRlQWN0aXZlUGxheWVyTmFtZVwiO1xyXG5pbXBvcnQgeyBjcmVhdGVQbGF5ZXJOYW1lcyB9IGZyb20gXCIuL2NyZWF0ZVBsYXllck5hbWVzXCI7XHJcbmltcG9ydCB7IGNyZWF0ZVBva2Vtb25zIH0gZnJvbSBcIi4vY3JlYXRlUG9rZW1vbnNcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVDaG9vc2VQYWdlID0gKHBsYXllck9uZTogUGxheWVyLCBwbGF5ZXJUd286IFBsYXllcikgPT4ge1xyXG4gIGxldCBhY3RpdmVQbGF5ZXIgPSBwbGF5ZXJPbmU7XHJcbiAgY3JlYXRlUGxheWVyTmFtZXMocGxheWVyT25lLCBwbGF5ZXJUd28pO1xyXG4gIGNyZWF0ZUFjdGl2ZVBsYXllck5hbWUoYWN0aXZlUGxheWVyKTtcclxuICBjcmVhdGVQb2tlbW9ucyhwbGF5ZXJPbmUsIHBsYXllclR3bywgYWN0aXZlUGxheWVyKTtcclxufTtcclxuIiwiaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4uL3BsYXllckNsYXNzXCI7XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlUGxheWVyTmFtZXMgPSAocGxheWVyT25lOiBQbGF5ZXIsIHBsYXllclR3bzogUGxheWVyKSA9PiB7XHJcbiAgbGV0IHBsYXllck9uZU5hbWVBcmVhVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2hvb3NlUGFnZVBsYXllcjFOYW1lXCIpITtcclxuICBwbGF5ZXJPbmVOYW1lQXJlYVRleHQudGV4dENvbnRlbnQgPSBwbGF5ZXJPbmUubmFtZTtcclxuICBsZXQgcGxheWVyVHdvTmFtZUFyZWFUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjaG9vc2VQYWdlUGxheWVyMk5hbWVcIikhO1xyXG4gIHBsYXllclR3b05hbWVBcmVhVGV4dC50ZXh0Q29udGVudCA9IHBsYXllclR3by5uYW1lO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi4vcGxheWVyQ2xhc3NcIjtcclxuaW1wb3J0IHsgUG9rZW1vbkZhY3RvcnkgfSBmcm9tIFwiLi4vcG9rZW1vbkZhY3RvcnlcIjtcclxuaW1wb3J0ICogYXMgZGF0YSBmcm9tIFwiLi4vLi4vYXNzZXRzL3Bva2VfZGF0YS5qc29uXCI7XHJcbmltcG9ydCB7IHN0YXJ0R2FtZUlmUmVhZHkgfSBmcm9tIFwiLi9zdGFydEdhbWVJZlJlYWR5XCI7XHJcbmltcG9ydCB7IGFkZENob3NlblBva2Vtb24gfSBmcm9tIFwiLi9hZGRDaG9zZW5Qb2tlbW9uXCI7XHJcbmltcG9ydCB7IGNyZWF0ZVBva2ViYWxscyB9IGZyb20gXCIuL2NyZWF0ZVBva2ViYWxsc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVBY3RpdmVQbGF5ZXJOYW1lIH0gZnJvbSBcIi4vY3JlYXRlQWN0aXZlUGxheWVyTmFtZVwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVBva2Vtb25zID0gKFxyXG4gIHBsYXllck9uZTogUGxheWVyLFxyXG4gIHBsYXllclR3bzogUGxheWVyLFxyXG4gIGFjdGl2ZVBsYXllcjogUGxheWVyXHJcbikgPT4ge1xyXG4gIGNvbnN0IHBva2VEYXRhID0gZGF0YS5wb2tlbW9ucztcclxuICBjb25zdCBwb2tlbW9uRmFjdG9yeSA9IG5ldyBQb2tlbW9uRmFjdG9yeShwb2tlRGF0YSk7XHJcbiAgY29uc3QgcG9rZW1vbkltYWdlcyA9IEFycmF5LmZyb20oXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI3Bva2Vtb25MaXN0IGltZ1wiKVxyXG4gICkgYXMgW0hUTUxJbWFnZUVsZW1lbnRdO1xyXG5cclxuICBwb2tlbW9uSW1hZ2VzLmZvckVhY2goKHBva2Vtb25JbWFnZSkgPT5cclxuICAgIHBva2Vtb25JbWFnZS5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICBcImNsaWNrXCIsXHJcbiAgICAgIChlKSA9PiB7XHJcbiAgICAgICAgaWYgKGFjdGl2ZVBsYXllci5wb2tlbW9ucy5sZW5ndGggPT09IDMpIHJldHVybjtcclxuICAgICAgICBhZGRDaG9zZW5Qb2tlbW9uKGUsIHBva2Vtb25GYWN0b3J5LCBhY3RpdmVQbGF5ZXIpO1xyXG4gICAgICAgIGNyZWF0ZVBva2ViYWxscyhwbGF5ZXJPbmUsIGFjdGl2ZVBsYXllcik7XHJcbiAgICAgICAgLy8gY2hhbmdlIHBsYXllclxyXG4gICAgICAgIGFjdGl2ZVBsYXllciA9IGFjdGl2ZVBsYXllciA9PT0gcGxheWVyT25lID8gcGxheWVyVHdvIDogcGxheWVyT25lO1xyXG4gICAgICAgIGNyZWF0ZUFjdGl2ZVBsYXllck5hbWUoYWN0aXZlUGxheWVyKTtcclxuICAgICAgICBzdGFydEdhbWVJZlJlYWR5KHBsYXllck9uZSwgcGxheWVyVHdvKTtcclxuICAgICAgfSxcclxuICAgICAgeyBvbmNlOiB0cnVlIH1cclxuICAgIClcclxuICApO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBQb2tlbW9uIH0gZnJvbSBcIi4uL3Bva2Vtb25DbGFzc1wiO1xyXG5pbXBvcnQgeyBQb2tlbW9uRmFjdG9yeSB9IGZyb20gXCIuLi9wb2tlbW9uRmFjdG9yeVwiO1xyXG5pbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi4vcGxheWVyQ2xhc3NcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBhZGRDaG9zZW5Qb2tlbW9uID0gKFxyXG4gIGV2ZW50OiBFdmVudCxcclxuICBmYWN0b3J5OiBQb2tlbW9uRmFjdG9yeSxcclxuICBhY3RpdmVQbGF5ZXI6IFBsYXllclxyXG4pID0+IHtcclxuICBjb25zdCBjbGlja2VkUG9rZW1vbiA9IGV2ZW50LnRhcmdldCBhcyBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gIGNvbnN0IHBva2Vtb25OYW1lID0gY2xpY2tlZFBva2Vtb24uaWQ7XHJcbiAgY29uc3QgbmV3UG9rZW1vbk9iamVjdDogUG9rZW1vbiA9IGZhY3RvcnkuZ2V0UG9rZW1vbkJ5TmFtZShwb2tlbW9uTmFtZSk7XHJcbiAgYWN0aXZlUGxheWVyLmFkZFBva2Vtb24obmV3UG9rZW1vbk9iamVjdCk7XHJcbiAgY2xpY2tlZFBva2Vtb24uc3R5bGUuY3Vyc29yID0gXCJkZWZhdWx0XCI7XHJcbiAgY2xpY2tlZFBva2Vtb24uc3R5bGUuZmlsdGVyID0gXCJncmF5c2NhbGUoMTAwJSlcIjtcclxufTtcclxuIiwiaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4uL3BsYXllckNsYXNzXCI7XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlUG9rZWJhbGxzID0gKHBsYXllck9uZTogUGxheWVyLCBhY3RpdmVQbGF5ZXI6IFBsYXllcikgPT4ge1xyXG4gIGNvbnN0IHBsYXllclBva2ViYWxsczogSFRNTEltYWdlRWxlbWVudFtdID1cclxuICAgIGFjdGl2ZVBsYXllciA9PT0gcGxheWVyT25lXHJcbiAgICAgID8gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI2Nob29zZVBhZ2VQbGF5ZXIxIGltZ1wiKSlcclxuICAgICAgOiBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjY2hvb3NlUGFnZVBsYXllcjIgaW1nXCIpKTtcclxuICBjb25zdCBwbGF5ZXJMYXN0UG9rZW1vbk5hbWU6IHN0cmluZyA9IGFjdGl2ZVBsYXllci5wb2tlbW9uc1tcclxuICAgIGFjdGl2ZVBsYXllci5wb2tlbW9ucy5sZW5ndGggLSAxXHJcbiAgXS5uYW1lLnRvTG93ZXJDYXNlKCk7XHJcbiAgY29uc3QgbnVtYmVyT2ZMYXN0UG9rZW1vbjogbnVtYmVyID0gYWN0aXZlUGxheWVyLnBva2Vtb25zLmxlbmd0aCAtIDE7XHJcbiAgcGxheWVyUG9rZWJhbGxzW251bWJlck9mTGFzdFBva2Vtb25dLnNldEF0dHJpYnV0ZShcclxuICAgIFwic3JjXCIsXHJcbiAgICBgLi9hc3NldHMvJHtwbGF5ZXJMYXN0UG9rZW1vbk5hbWV9LnBuZ2BcclxuICApO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBQb2tlbW9uIH0gZnJvbSBcIi4vcG9rZW1vbkNsYXNzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUGxheWVyIHtcclxuICBwcml2YXRlIF9uYW1lOiBzdHJpbmc7XHJcbiAgcHJpdmF0ZSBfcG9rZW1vbnM6IFBva2Vtb25bXTtcclxuICBwcml2YXRlIF9pbmRleE9mQWN0aXZlUG9rZW1vbjogbnVtYmVyO1xyXG4gIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgcG9rZW1vbnM6IFBva2Vtb25bXSkge1xyXG4gICAgaWYgKG5hbWUubGVuZ3RoID4gOCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUb28gbG9uZyBuYW1lXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKHBva2Vtb25zLmxlbmd0aCA+IDMpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiV3JvbmcgbnVtYmVyIG9mIHBva2Vtb25zXCIpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLl9wb2tlbW9ucyA9IHBva2Vtb25zO1xyXG4gICAgdGhpcy5faW5kZXhPZkFjdGl2ZVBva2Vtb24gPSAwO1xyXG4gIH1cclxuXHJcbiAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLl9uYW1lO1xyXG4gIH1cclxuICBnZXQgcG9rZW1vbnMoKTogUG9rZW1vbltdIHtcclxuICAgIHJldHVybiB0aGlzLl9wb2tlbW9ucztcclxuICB9XHJcblxyXG4gIHNldCBpbmRleE9mQWN0aXZlUG9rZW1vbihudW1PZkFjdGl2ZVBva2Vtb246IG51bWJlcikge1xyXG4gICAgdGhpcy5faW5kZXhPZkFjdGl2ZVBva2Vtb24gPSBudW1PZkFjdGl2ZVBva2Vtb247XHJcbiAgfVxyXG4gIGdldCBnZXRBY3RpdmVQb2tlbW9uKCk6IFBva2Vtb24ge1xyXG4gICAgcmV0dXJuIHRoaXMuX3Bva2Vtb25zW3RoaXMuX2luZGV4T2ZBY3RpdmVQb2tlbW9uXTtcclxuICB9XHJcblxyXG4gIGdldCBhbGl2ZVBva2Vtb25zKCk6IFBva2Vtb25bXSB7XHJcbiAgICBjb25zdCBhbGl2ZVBva2Vtb25zVGFiOiBQb2tlbW9uW10gPSB0aGlzLnBva2Vtb25zLmZpbHRlcigocG9rZW1vbikgPT5cclxuICAgICAgcG9rZW1vbi5pc0FsaXZlKClcclxuICAgICk7XHJcbiAgICByZXR1cm4gYWxpdmVQb2tlbW9uc1RhYjtcclxuICB9XHJcblxyXG4gIGFkZFBva2Vtb24ocG9rZW1vbjogUG9rZW1vbik6IHZvaWQge1xyXG4gICAgdGhpcy5fcG9rZW1vbnMucHVzaChwb2tlbW9uKTtcclxuICB9XHJcblxyXG4gIGdldCBub3RBY3RpdmVQb2tlbW9ucygpOiBQb2tlbW9uW10ge1xyXG4gICAgcmV0dXJuIHRoaXMucG9rZW1vbnMuZmlsdGVyKFxyXG4gICAgICAocG9rZW1vbikgPT4gcG9rZW1vbi5uYW1lICE9PSB0aGlzLmdldEFjdGl2ZVBva2Vtb24ubmFtZVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNvbnN0IGFjdGl2YXRlU3RhcnQgPSAobmFtZTFJbnB1dDogSFRNTElucHV0RWxlbWVudCwgbmFtZTJJbnB1dDogSFRNTElucHV0RWxlbWVudCwgc3RhcnRCdXR0b246IEhUTUxEaXZFbGVtZW50KSA9PiB7XHJcbiAgICBpZiAobmFtZTFJbnB1dC52YWx1ZS5sZW5ndGggPiAwICYmIG5hbWUySW5wdXQudmFsdWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHN0YXJ0QnV0dG9uLmNsYXNzTmFtZSA9ICdidXR0b24tZW5hYmxlZCdcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc3RhcnRCdXR0b24uY2xhc3NOYW1lID0gJ2J1dHRvbi1kaXNhYmxlZCdcclxuICAgIH1cclxufSIsImltcG9ydCB7IHNob3dNb2RhbCwgaGlkZU1vZGFsIH0gZnJvbSBcIi4vbW9kYWxQb3BVcEZ1bmN0aW9uc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVDaG9vc2VQYWdlIH0gZnJvbSBcIi4vY2hvb3NlUG9rZW1vbnNQYWdlL2Nob29zZVBva2Vtb25zUGFnZVwiXHJcbmltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL3BsYXllckNsYXNzXCI7XHJcbmltcG9ydCB7IGFjdGl2YXRlU3RhcnQgfSBmcm9tICcuL2FjdGl2YXRlU3RhcnQnO1xyXG5cclxuY29uc3QgcmVuZGVyU3RhcnRpbmdQYWdlID0gKGFwcERpdjogSFRNTERpdkVsZW1lbnQpID0+IHtcclxuICBjb25zdCBzdGFydGluZ1BhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgXCIjc3RhcnRpbmctcGFnZS10ZW1wbGF0ZVwiXHJcbiAgKSBhcyBIVE1MVGVtcGxhdGVFbGVtZW50O1xyXG4gIGFwcERpdi5pbm5lckhUTUwgPSBzdGFydGluZ1BhZ2UuaW5uZXJIVE1MO1xyXG59O1xyXG5jb25zdCByZW5kZXJIb3dUb1BsYXlNb2RhbCA9IChhcHBEaXY6IEhUTUxEaXZFbGVtZW50KSA9PiB7XHJcbiAgY29uc3QgaW5mb01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgIFwiI2luZm8tbW9kYWwtdGVtcGxhdGVcIlxyXG4gICkgYXMgSFRNTFRlbXBsYXRlRWxlbWVudDtcclxuICBhcHBEaXYuaW5uZXJIVE1MICs9IGluZm9Nb2RhbC5pbm5lckhUTUw7XHJcbn07XHJcbmNvbnN0IGNyZWF0ZUhvd1RvUGxheUJ1dHRvbiA9ICgpID0+IHtcclxuICBjb25zdCBob3dUb1BsYXlCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgXCIjaG93LXRvLXBsYXktYnV0dG9uXCJcclxuICApIGFzIEhUTUxVTGlzdEVsZW1lbnQ7XHJcbiAgY29uc3QgaW5mb01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgIFwiI2luZm8tbW9kYWwtc2NyZWVuXCJcclxuICApIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gIGhvd1RvUGxheUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgc2hvd01vZGFsKGluZm9Nb2RhbCwgXCJmbGV4XCIpO1xyXG4gIH0pO1xyXG4gIGhpZGVNb2RhbChpbmZvTW9kYWwpO1xyXG59O1xyXG5cclxuY29uc3QgYWN0aXZhdGVTdGFydEJ1dHRvbiA9ICgpID0+IHtcclxuICBjb25zdCBwbGF5ZXIxTmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2VudGVyLXBsYXllcjEtbmFtZScpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgY29uc3QgcGxheWVyMk5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlbnRlci1wbGF5ZXIyLW5hbWUnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gIGNvbnN0IHN0YXJ0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzdGFydC1nYW1lLWJ1dHRvblwiKSBhcyBIVE1MRGl2RWxlbWVudDtcclxuICBwbGF5ZXIxTmFtZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCAoKSA9PiB7XHJcbiAgICAgIGFjdGl2YXRlU3RhcnQocGxheWVyMU5hbWVJbnB1dCwgcGxheWVyMk5hbWVJbnB1dCwgc3RhcnRCdXR0b24pXHJcbiAgfSlcclxuICBwbGF5ZXIyTmFtZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCAoKSA9PiB7XHJcbiAgICAgIGFjdGl2YXRlU3RhcnQocGxheWVyMU5hbWVJbnB1dCwgcGxheWVyMk5hbWVJbnB1dCwgc3RhcnRCdXR0b24pXHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCByZW5kZXJDaG9vc2VQb2tlbW9uU2NyZWVuID0gKGFwcERpdjogSFRNTERpdkVsZW1lbnQpID0+IHtcclxuICBjb25zdCBwbGF5QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgIFwiI3N0YXJ0LWdhbWUtYnV0dG9uXCJcclxuICApIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gIHBsYXlCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBjb25zdCBwbGF5ZXIxTmFtZUlucHV0ID0gKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlbnRlci1wbGF5ZXIxLW5hbWUnKSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuICAgIGNvbnN0IHBsYXllcjJOYW1lSW5wdXQgPSAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2VudGVyLXBsYXllcjItbmFtZScpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgY29uc3QgY2hvb3NlUG9rZW1vblNjcmVlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiI2Nob29zZS1wYWdlLXRlbXBsYXRlXCJcclxuICAgICkgYXMgSFRNTFRlbXBsYXRlRWxlbWVudDtcclxuICAgIGFwcERpdi5pbm5lckhUTUwgPSBjaG9vc2VQb2tlbW9uU2NyZWVuLmlubmVySFRNTDtcclxuICAgIGNyZWF0ZUNob29zZVBhZ2UobmV3IFBsYXllcihwbGF5ZXIxTmFtZUlucHV0LCBbXSksIG5ldyBQbGF5ZXIocGxheWVyMk5hbWVJbnB1dCwgW10pKTtcclxuICB9KTtcclxufVxyXG5cclxuY29uc3QgcmVuZGVyQXBwID0gKCkgPT4ge1xyXG4gIGNvbnN0IGFwcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYXBwXCIpIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gIHJlbmRlclN0YXJ0aW5nUGFnZShhcHApO1xyXG4gIHJlbmRlckhvd1RvUGxheU1vZGFsKGFwcCk7XHJcbiAgYWN0aXZhdGVTdGFydEJ1dHRvbigpO1xyXG4gIGNyZWF0ZUhvd1RvUGxheUJ1dHRvbigpO1xyXG4gIHJlbmRlckNob29zZVBva2Vtb25TY3JlZW4oYXBwKTtcclxufTtcclxuXHJcbnNldFRpbWVvdXQocmVuZGVyQXBwLCAyMDAwKTtcclxuXHJcbiJdLCJzb3VyY2VSb290IjoiIn0=