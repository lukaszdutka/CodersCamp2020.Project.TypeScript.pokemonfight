(()=>{"use strict";var e=function(e){var t=document.querySelector("#whoChoosesParagraph");3===e.pokemons.length?t.textContent="Wait for the game to start...":t.textContent=e.name+" chooses 1 pokemon"},t=function(){function e(e,t,n,o,r,a,c){this._name=e,this._image=t,this._maxHP=n,this._currentHP=n,this._attackPoints=o,this._defensePoints=r,this._types=a,this._moves=c}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"image",{get:function(){return this._image},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentHP",{get:function(){return this._currentHP},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxHP",{get:function(){return this._maxHP},enumerable:!1,configurable:!0}),e.prototype.subtractHP=function(e){var t=this._currentHP-e;t<0&&(this._currentHP=0),this._currentHP=t},e.prototype.heal=function(){this._currentHP=this._maxHP},Object.defineProperty(e.prototype,"attackPoints",{get:function(){return this._attackPoints},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defensePoints",{get:function(){return this._defensePoints},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"types",{get:function(){return this._types},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"moves",{get:function(){return this._moves},enumerable:!1,configurable:!0}),e.prototype.isAlive=function(){return this._currentHP>0},e}(),n=function(){function e(e){this._pokemons=[];for(var n=0,o=e;n<o.length;n++){var r=o[n],a="../assets/"+r.name+".png",c=r.moves.reduce((function(e,t){return e.push({moveName:t.name,moveType:t.type}),e}),[]),i=r.types.map((function(e){return e})),u=new t(this._capitalize(r.name),a,r.stats.hp,r.stats.attack,r.stats.defense,i,c);this._pokemons.push(u)}}return Object.defineProperty(e.prototype,"pokemons",{get:function(){return this._pokemons},enumerable:!1,configurable:!0}),e.prototype.getPokemonByName=function(e){var t=this._pokemons.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}));if(void 0===t)throw new Error("Pokemon "+e+" is not found in the pokemon factory");return t},e.prototype._capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e}();const o=JSON.parse('{"x":[{"name":"bulbasaur","types":["grass","poison"],"stats":{"hp":45,"attack":49,"defense":49},"moves":[{"name":"razor-wind","accuracy":100,"power":80,"type":"normal"},{"name":"vine-whip","accuracy":100,"power":45,"type":"grass"},{"name":"mega-drain","accuracy":100,"power":40,"type":"grass"},{"name":"razor-leaf","accuracy":95,"power":55,"type":"grass"}]},{"name":"charmander","types":["fire"],"stats":{"hp":39,"attack":52,"defense":43},"moves":[{"name":"mega-punch","accuracy":85,"power":80,"type":"normal"},{"name":"ember","accuracy":100,"power":40,"type":"fire"},{"name":"flamethrower","accuracy":100,"power":90,"type":"fire"},{"name":"submission","accuracy":80,"power":80,"type":"fighting"}]},{"name":"squirtle","types":["water"],"stats":{"hp":44,"attack":48,"defense":65},"moves":[{"name":"mega-kick","accuracy":75,"power":120,"type":"normal"},{"name":"water-gun","accuracy":100,"power":40,"type":"water"},{"name":"hydro-pump","accuracy":80,"power":110,"type":"water"},{"name":"blizzard","accuracy":70,"power":110,"type":"ice"}]},{"name":"weedle","types":["bug","poison"],"stats":{"hp":40,"attack":35,"defense":30},"moves":[{"name":"poison-sting","accuracy":100,"power":15,"type":"poison"},{"name":"string-shot","accuracy":95,"power":0,"type":"poison"},{"name":"bug-bite","accuracy":100,"power":60,"type":"bug"},{"name":"electroweb","accuracy":95,"power":55,"type":"electric"}]},{"name":"pidgey","types":["normal","flying"],"stats":{"hp":40,"attack":45,"defense":40},"moves":[{"name":"razor-wind","accuracy":100,"power":80,"type":"normal"},{"name":"wing-attack","accuracy":100,"power":60,"type":"flying"},{"name":"fly","accuracy":95,"power":90,"type":"flying"},{"name":"sky-attack","accuracy":90,"power":140,"type":"flying"}]},{"name":"rattata","types":["normal"],"stats":{"hp":30,"attack":56,"defense":35},"moves":[{"name":"body-slam","accuracy":100,"power":85,"type":"normal"},{"name":"bite","accuracy":100,"power":60,"type":"dark"},{"name":"bubble-beam","accuracy":100,"power":65,"type":"water"},{"name":"dig","accuracy":100,"power":80,"type":"ground"}]},{"name":"pikachu","types":["electric"],"stats":{"hp":35,"attack":55,"defense":40},"moves":[{"name":"slam","accuracy":75,"power":80,"type":"normal"},{"name":"thunder-punch","accuracy":100,"power":75,"type":"electric"},{"name":"thunderbolt","accuracy":100,"power":90,"type":"electric"},{"name":"thunder","accuracy":70,"power":110,"type":"electric"}]},{"name":"sandshrew","types":["ground"],"stats":{"hp":50,"attack":75,"defense":85},"moves":[{"name":"headbutt","accuracy":100,"power":70,"type":"normal"},{"name":"body-slam","accuracy":100,"power":85,"type":"normal"},{"name":"earthquake","accuracy":100,"power":100,"type":"ground"},{"name":"dig","accuracy":100,"power":80,"type":"ground"}]},{"name":"clefairy","types":["fairy"],"stats":{"hp":70,"attack":45,"defense":48},"moves":[{"name":"fire-punch","accuracy":100,"power":75,"type":"fire"},{"name":"ice-punch","accuracy":100,"power":75,"type":"ice"},{"name":"thunder-punch","accuracy":100,"power":75,"type":"electric"},{"name":"water-gun","accuracy":100,"power":40,"type":"water"}]},{"name":"abra","types":["psychic"],"stats":{"hp":25,"attack":20,"defense":15},"moves":[{"name":"mega-punch","accuracy":85,"power":80,"type":"normal"},{"name":"ice-punch","accuracy":100,"power":75,"type":"ice"},{"name":"thunder-punch","accuracy":100,"power":75,"type":"electric"},{"name":"psychic","accuracy":100,"power":90,"type":"psychic"}]},{"name":"machop","types":["fighting"],"stats":{"hp":70,"attack":80,"defense":50},"moves":[{"name":"karate-chop","accuracy":100,"power":50,"type":"fighting"},{"name":"mega-kick","accuracy":75,"power":120,"type":"normal"},{"name":"rolling-kick","accuracy":85,"power":60,"type":"fighting"},{"name":"submission","accuracy":80,"power":80,"type":"fighting"}]},{"name":"geodude","types":["rock","ground"],"stats":{"hp":40,"attack":80,"defense":100},"moves":[{"name":"headbutt","accuracy":100,"power":70,"type":"normal"},{"name":"rock-throw","accuracy":90,"power":50,"type":"rock"},{"name":"earthquake","accuracy":100,"power":100,"type":"ground"},{"name":"dig","accuracy":100,"power":80,"type":"ground"}]}]}');var r=function(e,t,n,o,r){e.addEventListener("click",(function(){console.log(e.innerText+" used!"),r&&r(),setTimeout((function(){o.generateActionButtons(n)}),1e3),c(t)}))},a=function(e){for(var t=0;t<e.length;t++)e[t].style.animation="scale-in-hor-center 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both",e[t].style.animationDelay=.15*t+"s"},c=function(e){for(var t=0;t<e.length;t++)e[t].style.animation="scale-out-horizontal 0.5s cubic-bezier(0.550, 0.085, 0.680, 0.530) both",e[t].style.animationDelay=.15*t+"s"},i=function(){console.log("bum bum bach!")},u=function(){console.log("puff!")},s=function(){function e(e,t){this._playerOne=e,this._playerTwo=t,this._currentPlayer=this._playerOne}return Object.defineProperty(e.prototype,"playerOne",{get:function(){return this._playerOne},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playerTwo",{get:function(){return this._playerTwo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentPlayer",{get:function(){return this._currentPlayer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"opponentPlayer",{get:function(){return this._currentPlayer===this._playerOne?this._playerTwo:this._playerOne},enumerable:!1,configurable:!0}),e.prototype.didPlayerLoose=function(e){return 0===e.alivePokemons.length},e.prototype.isGameFinished=function(){return this.didPlayerLoose(this._playerOne)||this.didPlayerLoose(this._playerTwo)},e.prototype.getWinner=function(){if(!this.isGameFinished())throw new Error("You cannot get the winner. The game is not over.");return!0===this.didPlayerLoose(this._playerOne)?this._playerTwo:this._playerOne},e.prototype.generateActionButtons=function(e){console.log("Start - action modal"),document.querySelector("#actionModals").innerHTML='\n                    <div class="button battleButton" id="attackButton">attack</div>\n                    <div class="button battleButton" id="switchButton">switch</div>\n                    <div class="button battleButton" id="mangoButton">use mango (<span id="mango">1</span>)</div>',function(e,t){var n=document.getElementsByClassName("battleButton"),o=document.querySelector("#attackButton"),r=document.querySelector("#switchButton"),i=document.querySelector("#mangoButton"),u=document.querySelector("#mango");a(n),o.addEventListener("click",(function(){c(n),setTimeout((function(){t.generateAttackButtons(e)}),1e3)})),r.addEventListener("click",(function(){c(n),setTimeout((function(){t.generateSwitchButtons(e)}),1e3)})),i.addEventListener("click",(function(){console.log("mango used! mnia mnia mnia..."),u.innerHTML="0",i.classList.add("disabledButton")}))}(e,this)},e.prototype.generateAttackButtons=function(e){console.log("Attack choose modal"),document.querySelector("#actionModals").innerHTML='\n                    <div class="button battleButton" id="attackButtonOne">'+e.pokemons[0].moves[0].moveName+'</div>\n                    <div class="button battleButton" id="attackButtonTwo">'+e.pokemons[0].moves[1].moveName+'</div>\n                    <div class="button battleButton" id="backButton">back</div>',function(e,t){var n=document.querySelector("#attackButtonOne"),o=document.querySelector("#attackButtonTwo"),c=document.getElementsByClassName("battleButton"),u=document.querySelector("#backButton");a(c),r(n,c,e,t,i),r(o,c,e,t,i),r(u,c,e,t)}(e,this)},e.prototype.generateSwitchButtons=function(e){console.log("Switch choose modal"),document.querySelector("#actionModals").innerHTML='\n                    <div class="button battleButton" id="switchButtonOne">'+e.pokemons[1].name+'</div>\n                    <div class="button battleButton" id="switchButtonTwo">'+e.pokemons[2].name+'</div>\n                    <div class="button battleButton" id="backButton">back</div>',function(e,t){var n=document.querySelector("#switchButtonOne"),o=document.querySelector("#switchButtonTwo"),c=document.getElementsByClassName("battleButton"),i=document.querySelector("#backButton");a(c),r(n,c,e,t,u),r(o,c,e,t,u),r(i,c,e,t)}(e,this)},e}(),p=function(e,t){e.pokemons.length<3||t.pokemons.length<3||function(e,t,n){var o=new s(e,t);setTimeout((function(){return function(e,t){var n,o,r,a,c,i=document.querySelector("#fight-page-template");e.innerHTML=i.innerHTML,function(e){var t=document.querySelector("#fight-page-player1-name"),n=document.querySelector("#fight-page-player2-name");t.textContent=e.playerOne.name,n.textContent=e.playerTwo.name}(t),function(e){document.querySelector("#active-player-info").textContent=e.currentPlayer.name+" now is your turn. Get the revenge!"}(t),function(e){var t=document.querySelector("#pokemon-image-player1"),n=document.querySelector("#pokemon-image-player2"),o=document.querySelector("#pokemon-name-player1"),r=document.querySelector("#pokemon-name-player2"),a=function(e,t,n){var o=e.getActivePokemon.name;t.setAttribute("src","./assets/"+o.toLowerCase()+".png"),n.textContent=o};a(e.playerOne,t,o),a(e.playerTwo,n,r)}(t),n=t.playerOne,o=t.playerTwo,r=function(e,t){var n=e.getActivePokemon.maxHP,o=e.getActivePokemon.currentHP/n*100;console.log(o),t.style.width=o+"%";var r=t.classList;o<20?(r.remove("hpBarHighLevel"),r.add("hpBarLowLevel")):(r.remove("hpBarLowLevel"),r.add("hpBarHighLevel"))},a=document.querySelector("#hp-bar-player1"),c=document.querySelector("#hp-bar-player2"),r(n,a),r(o,c),function(e){var t=function(e,t){for(var n=2;n>e.alivePokemons.length-1;n--)t[n].classList.add("disabledPokemon")},n=Array.from(document.querySelectorAll("#fight-page-player1 .pokeballWithPokemon")),o=Array.from(document.querySelectorAll("#fight-page-player2 .pokeballWithPokemon"));t(e.playerOne,n),t(e.playerTwo,o)}(t),t.generateActionButtons(t.currentPlayer)}(n,o)}),2e3)}(e,t,document.querySelector("#app"))},m=function(t,r){var a=t;!function(e,t){document.querySelector("#choosePagePlayer1Name").textContent=e.name,document.querySelector("#choosePagePlayer2Name").textContent=t.name}(t,r),e(a),function(t,r,a){var c=o.x,i=new n(c);Array.from(document.querySelectorAll("#pokemonList img")).forEach((function(n){return n.addEventListener("click",(function(n){3!==a.pokemons.length&&(function(e,t,n){var o=e.target,r=o.id,a=t.getPokemonByName(r);n.addPokemon(a),o.style.cursor="default",o.style.filter="grayscale(100%)"}(n,i,a),function(e,t){var n=t===e?Array.from(document.querySelectorAll("#choosePagePlayer1 img")):Array.from(document.querySelectorAll("#choosePagePlayer2 img")),o=t.pokemons[t.pokemons.length-1].name.toLowerCase();n[t.pokemons.length-1].setAttribute("src","./assets/"+o+".png")}(t,a),e(a=a===t?r:t),p(t,r))}),{once:!0})}))}(t,r,a)},l=function(){function e(e,t){if(e.length>8)throw new Error("Too long name");if(t.length>3)throw new Error("Wrong number of pokemons");this._name=e,this._pokemons=t,this._indexOfActivePokemon=0}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pokemons",{get:function(){return this._pokemons},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"indexOfActivePokemon",{set:function(e){this._indexOfActivePokemon=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getActivePokemon",{get:function(){return this._pokemons[this._indexOfActivePokemon]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alivePokemons",{get:function(){return this.pokemons.filter((function(e){return e.isAlive()}))},enumerable:!1,configurable:!0}),e.prototype.addPokemon=function(e){this._pokemons.push(e)},e}(),y=function(e,t,n){e.value.length>0&&t.value.length>0?n.className="button-enabled":n.className="button-disabled"};setTimeout((function(){var e,t,n,o,r,a,c,i,u,s=document.querySelector("#app");e=s,t=document.querySelector("#starting-page-template"),e.innerHTML=t.innerHTML,function(e){var t=document.querySelector("#info-modal-template");e.innerHTML+=t.innerHTML}(s),n=document.querySelector("#enter-player1-name"),o=document.querySelector("#enter-player2-name"),r=document.querySelector("#start-game-button"),n.addEventListener("keyup",(function(){y(n,o,r)})),o.addEventListener("keyup",(function(){y(n,o,r)})),i=document.querySelector("#how-to-play-button"),u=document.querySelector("#info-modal-screen"),i.addEventListener("click",(function(){u.style.display="flex"})),null==(c=(a=u).querySelector(".exitButton"))||c.addEventListener("click",(function(){a.style.display="none"})),function(e){var t=document.querySelector("#start-game-button");null==t||t.addEventListener("click",(function(){var t=document.querySelector("#enter-player1-name").value,n=document.querySelector("#enter-player2-name").value,o=document.querySelector("#choose-page-template");e.innerHTML=o.innerHTML,m(new l(t,[]),new l(n,[]))}))}(s)}),2e3)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL21vZGFsUG9wVXBGdW5jdGlvbnMudHMiLCJ3ZWJwYWNrOi8vY29kZXJzY2FtcDIwMjAucHJvamVjdC50eXBlc2NyaXB0LnBva2Vtb25maWdodC8uL3NyYy9jaG9vc2VQb2tlbW9uc1BhZ2UvY3JlYXRlQWN0aXZlUGxheWVyTmFtZS50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL3Bva2Vtb25DbGFzcy50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL3Bva2Vtb25GYWN0b3J5LnRzIiwid2VicGFjazovL2NvZGVyc2NhbXAyMDIwLnByb2plY3QudHlwZXNjcmlwdC5wb2tlbW9uZmlnaHQvLi9zcmMvZmlnaHRQYWdlL2J1dHRvbnNFdmVudExpc3RlbmVycy50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL2dhbWVIYW5kbGVyQ2xhc3MudHMiLCJ3ZWJwYWNrOi8vY29kZXJzY2FtcDIwMjAucHJvamVjdC50eXBlc2NyaXB0LnBva2Vtb25maWdodC8uL3NyYy9jaG9vc2VQb2tlbW9uc1BhZ2Uvc3RhcnRHYW1lSWZSZWFkeS50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL2ZpZ2h0UGFnZS9zdGFydEJhdHRsZS50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL2ZpZ2h0UGFnZS9yZW5kZXJGaWdodFBhZ2UudHMiLCJ3ZWJwYWNrOi8vY29kZXJzY2FtcDIwMjAucHJvamVjdC50eXBlc2NyaXB0LnBva2Vtb25maWdodC8uL3NyYy9maWdodFBhZ2UvY3JlYXRlSFBCYXJzLnRzIiwid2VicGFjazovL2NvZGVyc2NhbXAyMDIwLnByb2plY3QudHlwZXNjcmlwdC5wb2tlbW9uZmlnaHQvLi9zcmMvZmlnaHRQYWdlL2NyZWF0ZUFjdGl2ZVBsYXllci50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL2ZpZ2h0UGFnZS9jcmVhdGVBY3RpdmVQb2tlbW9uLnRzIiwid2VicGFjazovL2NvZGVyc2NhbXAyMDIwLnByb2plY3QudHlwZXNjcmlwdC5wb2tlbW9uZmlnaHQvLi9zcmMvZmlnaHRQYWdlL2NyZWF0ZUZpZ2h0UGFnZVBva2ViYWxscy50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL2Nob29zZVBva2Vtb25zUGFnZS9jaG9vc2VQb2tlbW9uc1BhZ2UudHMiLCJ3ZWJwYWNrOi8vY29kZXJzY2FtcDIwMjAucHJvamVjdC50eXBlc2NyaXB0LnBva2Vtb25maWdodC8uL3NyYy9jaG9vc2VQb2tlbW9uc1BhZ2UvY3JlYXRlUGxheWVyTmFtZXMudHMiLCJ3ZWJwYWNrOi8vY29kZXJzY2FtcDIwMjAucHJvamVjdC50eXBlc2NyaXB0LnBva2Vtb25maWdodC8uL3NyYy9jaG9vc2VQb2tlbW9uc1BhZ2UvY3JlYXRlUG9rZW1vbnMudHMiLCJ3ZWJwYWNrOi8vY29kZXJzY2FtcDIwMjAucHJvamVjdC50eXBlc2NyaXB0LnBva2Vtb25maWdodC8uL3NyYy9jaG9vc2VQb2tlbW9uc1BhZ2UvYWRkQ2hvc2VuUG9rZW1vbi50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL2Nob29zZVBva2Vtb25zUGFnZS9jcmVhdGVQb2tlYmFsbHMudHMiLCJ3ZWJwYWNrOi8vY29kZXJzY2FtcDIwMjAucHJvamVjdC50eXBlc2NyaXB0LnBva2Vtb25maWdodC8uL3NyYy9wbGF5ZXJDbGFzcy50cyIsIndlYnBhY2s6Ly9jb2RlcnNjYW1wMjAyMC5wcm9qZWN0LnR5cGVzY3JpcHQucG9rZW1vbmZpZ2h0Ly4vc3JjL2FjdGl2YXRlU3RhcnQudHMiLCJ3ZWJwYWNrOi8vY29kZXJzY2FtcDIwMjAucHJvamVjdC50eXBlc2NyaXB0LnBva2Vtb25maWdodC8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJjcmVhdGVBY3RpdmVQbGF5ZXJOYW1lIiwiYWN0aXZlUGxheWVyIiwid2hvQ2hvb3Nlc1Bva2Vtb25UZXh0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicG9rZW1vbnMiLCJsZW5ndGgiLCJ0ZXh0Q29udGVudCIsIm5hbWUiLCJpbWFnZSIsIm1heEhQIiwiYXR0YWNrUG9pbnRzIiwiZGVmZW5zZVBvaW50cyIsInR5cGVzIiwibW92ZXMiLCJ0aGlzIiwiX25hbWUiLCJfaW1hZ2UiLCJfbWF4SFAiLCJfY3VycmVudEhQIiwiX2F0dGFja1BvaW50cyIsIl9kZWZlbnNlUG9pbnRzIiwiX3R5cGVzIiwiX21vdmVzIiwic3VidHJhY3RIUCIsInBvaW50c1RvU3VidHJhY3QiLCJuZXdIUCIsImhlYWwiLCJpc0FsaXZlIiwicG9rZURhdGEiLCJfcG9rZW1vbnMiLCJwb2tlbW9uIiwicG9rZUltZyIsInBva2VNb3ZlcyIsInJlZHVjZSIsInRhYiIsIm1vdmUiLCJwdXNoIiwibW92ZU5hbWUiLCJtb3ZlVHlwZSIsInR5cGUiLCJwb2tlVHlwZXMiLCJtYXAiLCJ2IiwicG9rZW1vbk9iamVjdCIsIlBva2Vtb24iLCJfY2FwaXRhbGl6ZSIsInN0YXRzIiwiaHAiLCJhdHRhY2siLCJkZWZlbnNlIiwiZ2V0UG9rZW1vbkJ5TmFtZSIsImZpbmQiLCJ0b0xvd2VyQ2FzZSIsInVuZGVmaW5lZCIsIkVycm9yIiwic3RyIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzbGljZSIsIm1hZ2ljRnVuY3Rpb24iLCJidXR0b24iLCJidXR0b25zIiwicGxheWVyIiwiZ2FtZUhhbmRsZXIiLCJmdW5jdGlvblRvQ2FsbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjb25zb2xlIiwibG9nIiwiaW5uZXJUZXh0Iiwic2V0VGltZW91dCIsImdlbmVyYXRlQWN0aW9uQnV0dG9ucyIsImFuaW1hdGlvbkJ1dHRvbnNFeGl0IiwiYW5pbWF0aW9uQnV0dG9uc0VudHJ5IiwiaSIsInN0eWxlIiwiYW5pbWF0aW9uIiwiYW5pbWF0aW9uRGVsYXkiLCJzd2l0Y2hQb2tlIiwiX3BsYXllck9uZSIsIl9wbGF5ZXJUd28iLCJfY3VycmVudFBsYXllciIsImRpZFBsYXllckxvb3NlIiwiYWxpdmVQb2tlbW9ucyIsImlzR2FtZUZpbmlzaGVkIiwiZ2V0V2lubmVyIiwiaW5uZXJIVE1MIiwiYmF0dGxlQnV0dG9ucyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJhdHRhY2tCdXR0b24iLCJzd2l0Y2hCdXR0b24iLCJtYW5nb0J1dHRvbiIsIm1hbmdvIiwiZ2VuZXJhdGVBdHRhY2tCdXR0b25zIiwiZ2VuZXJhdGVTd2l0Y2hCdXR0b25zIiwiY2xhc3NMaXN0IiwiYWRkIiwiYWN0aW9uc0J1dHRvbkV2ZW50TGlzdGVuZXIiLCJhdHRhY2tCdXR0b25PbmUiLCJhdHRhY2tCdXR0b25Ud28iLCJiYWNrQnV0dG9uIiwiYXR0YWNrc0J1dHRvbkV2ZW50TGlzdGVuZXIiLCJzd2l0Y2hCdXR0b25PbmUiLCJzd2l0Y2hCdXR0b25Ud28iLCJzd2l0Y2hCdXR0b25FdmVudExpc3RlbmVyIiwic3RhcnRHYW1lSWZSZWFkeSIsInBsYXllck9uZSIsInBsYXllclR3byIsImFwcCIsImdhbWUiLCJHYW1lSGFuZGxlciIsImFwcERpdiIsImNyZWF0ZUJhciIsInBsYXllck9uZUhQQmFyIiwicGxheWVyVHdvSFBCYXIiLCJmaWdodFBhZ2UiLCJwbGF5ZXJPbmVOYW1lIiwicGxheWVyVHdvTmFtZSIsImNyZWF0ZVBsYXllckZpZ2h0TmFtZXMiLCJjdXJyZW50UGxheWVyIiwiY3JlYXRlQWN0aXZlUGxheWVyIiwicGxheWVyT25lQWN0aXZlUG9rZW1vbkltYWdlQXJlYSIsInBsYXllclR3b0FjdGl2ZVBva2Vtb25JbWFnZUFyZWEiLCJwbGF5ZXJPbmVBY3RpdmVQb2tlbW9uTmFtZUFyZWEiLCJwbGF5ZXJUd29BY3RpdmVQb2tlbW9uTmFtZUFyZWEiLCJjcmVhdGVQb2tlbW9uIiwiaW1hZ2VBcmVhIiwibmFtZUFyZWEiLCJwb2tlbW9uTmFtZSIsImdldEFjdGl2ZVBva2Vtb24iLCJzZXRBdHRyaWJ1dGUiLCJjcmVhdGVBY3RpdmVQb2tlbW9uIiwiSFBCYXIiLCJIUEluUGVyY2VudCIsImN1cnJlbnRIUCIsIndpZHRoIiwiSFBDbGFzc0xpc3QiLCJyZW1vdmUiLCJjaGFuZ2VDbGFzc09mRGlzYWJsZWRQb2tlbW9ucyIsInBsYXllclBva2ViYWxscyIsInBsYXllck9uZVBva2ViYWxscyIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwbGF5ZXJUd29Qb2tlYmFsbHMiLCJjcmVhdGVGaWdodFBhZ2VQb2tlYmFsbHMiLCJjcmVhdGVGaWdodFBhZ2UiLCJzdGFydEJhdHRsZSIsImNyZWF0ZUNob29zZVBhZ2UiLCJjcmVhdGVQbGF5ZXJOYW1lcyIsInBva2Vtb25GYWN0b3J5IiwiUG9rZW1vbkZhY3RvcnkiLCJmb3JFYWNoIiwicG9rZW1vbkltYWdlIiwiZSIsImV2ZW50IiwiZmFjdG9yeSIsImNsaWNrZWRQb2tlbW9uIiwidGFyZ2V0IiwiaWQiLCJuZXdQb2tlbW9uT2JqZWN0IiwiYWRkUG9rZW1vbiIsImN1cnNvciIsImZpbHRlciIsImFkZENob3NlblBva2Vtb24iLCJwbGF5ZXJMYXN0UG9rZW1vbk5hbWUiLCJjcmVhdGVQb2tlYmFsbHMiLCJvbmNlIiwiY3JlYXRlUG9rZW1vbnMiLCJfaW5kZXhPZkFjdGl2ZVBva2Vtb24iLCJudW1PZkFjdGl2ZVBva2Vtb24iLCJhY3RpdmF0ZVN0YXJ0IiwibmFtZTFJbnB1dCIsIm5hbWUySW5wdXQiLCJzdGFydEJ1dHRvbiIsInZhbHVlIiwiY2xhc3NOYW1lIiwic3RhcnRpbmdQYWdlIiwicGxheWVyMU5hbWVJbnB1dCIsInBsYXllcjJOYW1lSW5wdXQiLCJzY3JlZW5Ub0Rpc3BsYXkiLCJleGl0QnV0dG9uIiwiaG93VG9QbGF5QnV0dG9uIiwiaW5mb01vZGFsIiwicmVuZGVySG93VG9QbGF5TW9kYWwiLCJkaXNwbGF5IiwicGxheUJ1dHRvbiIsImNob29zZVBva2Vtb25TY3JlZW4iLCJQbGF5ZXIiLCJyZW5kZXJDaG9vc2VQb2tlbW9uU2NyZWVuIl0sIm1hcHBpbmdzIjoibUJBQU8sSUNFTUEsRUFBeUIsU0FBQ0MsR0FDckMsSUFBSUMsRUFBd0JDLFNBQVNDLGNBQWMsd0JBQ2xCLElBQWpDSCxFQUFhSSxTQUFTQyxPQUNqQkosRUFBc0JLLFlBQWMsZ0NBQ3BDTCxFQUFzQkssWUFBaUJOLEVBQWFPLEtBQUksc0JDUy9ELGFBV0UsV0FBWUEsRUFBY0MsRUFBZUMsRUFBZUMsRUFDdERDLEVBQXVCQyxFQUFzQkMsR0FFN0NDLEtBQUtDLE1BQVFSLEVBQ2JPLEtBQUtFLE9BQVNSLEVBQ2RNLEtBQUtHLE9BQVNSLEVBQ2RLLEtBQUtJLFdBQWFULEVBQ2xCSyxLQUFLSyxjQUFnQlQsRUFDckJJLEtBQUtNLGVBQWlCVCxFQUN0QkcsS0FBS08sT0FBU1QsRUFDZEUsS0FBS1EsT0FBU1QsRUFtRGxCLE9BL0NFLHNCQUFJLG1CQUFJLEMsSUFBUixXQUNFLE9BQU9DLEtBQUtDLE8sZ0NBR2Qsc0JBQUksb0JBQUssQyxJQUFULFdBQ0UsT0FBT0QsS0FBS0UsUSxnQ0FHZCxzQkFBSSx3QkFBUyxDLElBQWIsV0FDRSxPQUFPRixLQUFLSSxZLGdDQUdkLHNCQUFJLG9CQUFLLEMsSUFBVCxXQUNFLE9BQU9KLEtBQUtHLFEsZ0NBR2QsWUFBQU0sV0FBQSxTQUFXQyxHQUNULElBQU1DLEVBQVFYLEtBQUtJLFdBQWFNLEVBQzVCQyxFQUFRLElBQ1ZYLEtBQUtJLFdBQWEsR0FFcEJKLEtBQUtJLFdBQWFPLEdBR3BCLFlBQUFDLEtBQUEsV0FDRVosS0FBS0ksV0FBYUosS0FBS0cs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QkFBaUIsU0FBUyxXQUN2Q3lHLEVBQWNPLEVBQWtCQyxFQUFrQkwsTUFwQmhEUSxFQUFrQm5MLFNBQVNDLGNBQy9CLHVCQUVJbUwsRUFBWXBMLFNBQVNDLGNBQ3pCLHNCQUVGa0wsRUFBZ0JwSCxpQkFBaUIsU0FBUyxXQUM5QnFILEVwQnJCSTVHLE1BQU04RyxRb0JxQkMsVXBCaEJ2QkosT0FETUEsR0FEa0JELEVvQm9CZEcsR3BCbkJ5Qm5MLGNBQWMsaUJBQ2pEaUwsRUFBWW5ILGlCQUFpQixTQUFTLFdBQ3BDa0gsRUFBZ0J6RyxNQUFNOEcsUUFBVSxVb0JnQ0YsU0FBQzFFLEdBQ2pDLElBQU0yRSxFQUFhdkwsU0FBU0MsY0FDMUIsc0JBRUZzTCxXQUFZeEgsaUJBQWlCLFNBQVMsV0FDcEMsSUFBTWdILEVBQW9CL0ssU0FBU0MsY0FBYyx1QkFBNEMySyxNQUN2RkksRUFBb0JoTCxTQUFTQyxjQUFjLHVCQUE0QzJLLE1BQ3ZGWSxFQUFzQnhMLFNBQVNDLGNBQ25DLHlCQUVGMkcsRUFBT3pCLFVBQVlxRyxFQUFvQnJHLFVBQ3ZDOEQsRUFBaUIsSUFBSXdDLEVBQU9WLEVBQWtCLElBQUssSUFBSVUsRUFBT1QsRUFBa0IsUUFVbEZVLENBQTBCakYsS0FHTixNIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHNob3dNb2RhbCA9IChcclxuICBzY3JlZW5Ub0Rpc3BsYXk6IEhUTUxEaXZFbGVtZW50LFxyXG4gIHN0YXJ0aW5nUG9zaXRpb246IHN0cmluZ1xyXG4pID0+IHtcclxuICBzY3JlZW5Ub0Rpc3BsYXkuc3R5bGUuZGlzcGxheSA9IHN0YXJ0aW5nUG9zaXRpb247XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgaGlkZU1vZGFsID0gKHNjcmVlblRvRGlzcGxheTogSFRNTERpdkVsZW1lbnQpID0+IHtcclxuICBjb25zdCBleGl0QnV0dG9uID0gc2NyZWVuVG9EaXNwbGF5LnF1ZXJ5U2VsZWN0b3IoXCIuZXhpdEJ1dHRvblwiKTtcclxuICBleGl0QnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgc2NyZWVuVG9EaXNwbGF5LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICB9KTtcclxufTtcclxuIiwiaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4uL3BsYXllckNsYXNzXCI7XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlQWN0aXZlUGxheWVyTmFtZSA9IChhY3RpdmVQbGF5ZXI6IFBsYXllcikgPT4ge1xyXG4gIGxldCB3aG9DaG9vc2VzUG9rZW1vblRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3dob0Nob29zZXNQYXJhZ3JhcGhcIikhO1xyXG4gIGFjdGl2ZVBsYXllci5wb2tlbW9ucy5sZW5ndGggPT09IDNcclxuICAgID8gKHdob0Nob29zZXNQb2tlbW9uVGV4dC50ZXh0Q29udGVudCA9IFwiV2FpdCBmb3IgdGhlIGdhbWUgdG8gc3RhcnQuLi5cIilcclxuICAgIDogKHdob0Nob29zZXNQb2tlbW9uVGV4dC50ZXh0Q29udGVudCA9IGAke2FjdGl2ZVBsYXllci5uYW1lfSBjaG9vc2VzIDEgcG9rZW1vbmApO1xyXG59O1xyXG4iLCJleHBvcnQgdHlwZSBQb2tlbW9uVHlwZSA9XHJcbiAgfCBcImdyYXNzXCJcclxuICB8IFwicG9pc29uXCJcclxuICB8IFwiZmlyZVwiXHJcbiAgfCBcIndhdGVyXCJcclxuICB8IFwiYnVnXCJcclxuICB8IFwibm9ybWFsXCJcclxuICB8IFwiZmx5aW5nXCJcclxuICB8IFwiZWxlY3RyaWNcIlxyXG4gIHwgXCJncm91bmRcIlxyXG4gIHwgXCJmYWlyeVwiXHJcbiAgfCBcInBzeWNoaWNcIlxyXG4gIHwgXCJmaWdodGluZ1wiXHJcbiAgfCBcInJvY2tcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb2tlbW9uIHtcclxuXHJcbiAgcmVhZG9ubHkgX25hbWU6IHN0cmluZztcclxuICByZWFkb25seSBfaW1hZ2U6IHN0cmluZztcclxuICByZWFkb25seSBfbWF4SFA6IG51bWJlcjtcclxuICBwcml2YXRlIF9jdXJyZW50SFA6IG51bWJlcjtcclxuICByZWFkb25seSBfYXR0YWNrUG9pbnRzOiBudW1iZXI7XHJcbiAgcmVhZG9ubHkgX2RlZmVuc2VQb2ludHM6IG51bWJlcjtcclxuICByZWFkb25seSBfdHlwZXM6IFBva2Vtb25UeXBlW107XHJcbiAgcmVhZG9ubHkgX21vdmVzOiB7IG1vdmVOYW1lOiBzdHJpbmc7IG1vdmVUeXBlOiBQb2tlbW9uVHlwZSB9W107XHJcblxyXG4gIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgaW1hZ2U6IHN0cmluZywgbWF4SFA6IG51bWJlciwgYXR0YWNrUG9pbnRzOiBudW1iZXIsXHJcbiAgICBkZWZlbnNlUG9pbnRzOiBudW1iZXIsIHR5cGVzOiBQb2tlbW9uVHlwZVtdLCBtb3ZlczogeyBtb3ZlTmFtZTogc3RyaW5nOyBtb3ZlVHlwZTogUG9rZW1vblR5cGUgfVtdKSB7XHJcblxyXG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLl9pbWFnZSA9IGltYWdlO1xyXG4gICAgdGhpcy5fbWF4SFAgPSBtYXhIUDtcclxuICAgIHRoaXMuX2N1cnJlbnRIUCA9IG1heEhQO1xyXG4gICAgdGhpcy5fYXR0YWNrUG9pbnRzID0gYXR0YWNrUG9pbnRzO1xyXG4gICAgdGhpcy5fZGVmZW5zZVBvaW50cyA9IGRlZmVuc2VQb2ludHM7XHJcbiAgICB0aGlzLl90eXBlcyA9IHR5cGVzO1xyXG4gICAgdGhpcy5fbW92ZXMgPSBtb3ZlcztcclxuICB9XHJcblxyXG5cclxuICBnZXQgbmFtZSgpIHtcclxuICAgIHJldHVybiB0aGlzLl9uYW1lO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGltYWdlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2ltYWdlO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGN1cnJlbnRIUCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9jdXJyZW50SFA7XHJcbiAgfVxyXG5cclxuICBnZXQgbWF4SFAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fbWF4SFA7XHJcbiAgfVxyXG5cclxuICBzdWJ0cmFjdEhQKHBvaW50c1RvU3VidHJhY3Q6IG51bWJlcik6IHZvaWQge1xyXG4gICAgY29uc3QgbmV3SFAgPSB0aGlzLl9jdXJyZW50SFAgLSBwb2ludHNUb1N1YnRyYWN0O1xyXG4gICAgaWYgKG5ld0hQIDwgMCkge1xyXG4gICAgICB0aGlzLl9jdXJyZW50SFAgPSAwO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fY3VycmVudEhQID0gbmV3SFA7XHJcbiAgfVxyXG5cclxuICBoZWFsKCk6IHZvaWQge1xyXG4gICAgdGhpcy5fY3VycmVudEhQID0gdGhpcy5fbWF4SFA7XHJcbiAgfVxyXG5cclxuICBnZXQgYXR0YWNrUG9pbnRzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2F0dGFja1BvaW50cztcclxuICB9XHJcblxyXG4gIGdldCBkZWZlbnNlUG9pbnRzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2RlZmVuc2VQb2ludHM7XHJcbiAgfVxyXG5cclxuICBnZXQgdHlwZXMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fdHlwZXM7XHJcbiAgfVxyXG5cclxuICBnZXQgbW92ZXMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fbW92ZXM7XHJcbiAgfVxyXG5cclxuICBpc0FsaXZlKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRIUCA+IDA7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFBva2Vtb24gfSBmcm9tIFwiLi9wb2tlbW9uQ2xhc3NcIlxyXG5pbXBvcnQgeyBQb2tlbW9uVHlwZSB9IGZyb20gXCIuL3Bva2Vtb25DbGFzc1wiXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFBva2Vtb25GYWN0b3J5IHtcclxuICAgIHJlYWRvbmx5IF9wb2tlbW9uczogUG9rZW1vbltdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBva2VEYXRhOiB7XHJcbiAgICAgICAgbmFtZTogc3RyaW5nOyB0eXBlczogc3RyaW5nW107XHJcbiAgICAgICAgc3RhdHM6IHsgaHA6IG51bWJlcjsgYXR0YWNrOiBudW1iZXI7IGRlZmVuc2U6IG51bWJlcjsgfTtcclxuICAgICAgICBtb3ZlczogeyBuYW1lOiBzdHJpbmc7IGFjY3VyYWN5OiBudW1iZXI7IHBvd2VyOiBudW1iZXI7IHR5cGU6IHN0cmluZzsgfVtdXHJcbiAgICB9W10pIHtcclxuICAgICAgICB0aGlzLl9wb2tlbW9ucyA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBwb2tlbW9uIG9mIHBva2VEYXRhKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBwb2tlSW1nID0gXCIuLi9hc3NldHMvXCIgKyBwb2tlbW9uLm5hbWUgKyBcIi5wbmdcIlxyXG5cclxuICAgICAgICAgICAgY29uc3QgcG9rZU1vdmVzID0gcG9rZW1vbi5tb3Zlcy5yZWR1Y2UoICh0YWIsIG1vdmUpID0+IHtcclxuICAgICAgICAgICAgICAgIHRhYi5wdXNoKHttb3ZlTmFtZTogbW92ZS5uYW1lLCBtb3ZlVHlwZTogbW92ZS50eXBlIGFzIFBva2Vtb25UeXBlfSlcclxuICAgICAgICAgICAgICAgIHJldHVybiB0YWJcclxuICAgICAgICAgICAgICAgIH0sIFtdIGFzIHttb3ZlTmFtZTogc3RyaW5nLCBtb3ZlVHlwZTogUG9rZW1vblR5cGV9W10pXHJcblxyXG4gICAgICAgICAgICBjb25zdCBwb2tlVHlwZXM6IFBva2Vtb25UeXBlW10gPSBwb2tlbW9uLnR5cGVzLm1hcCh2ID0+IHYgYXMgUG9rZW1vblR5cGUpXHJcblxyXG4gICAgICAgICAgICBjb25zdCBwb2tlbW9uT2JqZWN0ID0gbmV3IFBva2Vtb24odGhpcy5fY2FwaXRhbGl6ZShwb2tlbW9uLm5hbWUpLCBwb2tlSW1nLCBcclxuICAgICAgICAgICAgICAgIHBva2Vtb24uc3RhdHMuaHAsIHBva2Vtb24uc3RhdHMuYXR0YWNrLCBwb2tlbW9uLnN0YXRzLmRlZmVuc2UsXHJcbiAgICAgICAgICAgICAgICBwb2tlVHlwZXMsIHBva2VNb3ZlcylcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3Bva2Vtb25zLnB1c2gocG9rZW1vbk9iamVjdClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHBva2Vtb25zKCk6IFBva2Vtb25bXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Bva2Vtb25zXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UG9rZW1vbkJ5TmFtZShuYW1lOiBzdHJpbmcpOiBQb2tlbW9uIHtcclxuICAgICAgICBjb25zdCBwb2tlbW9uID0gdGhpcy5fcG9rZW1vbnMuZmluZCggcG9rZW1vbiA9PiBwb2tlbW9uLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZS50b0xvd2VyQ2FzZSgpKTtcclxuICAgICAgICBpZiAocG9rZW1vbiA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUG9rZW1vbiAke25hbWV9IGlzIG5vdCBmb3VuZCBpbiB0aGUgcG9rZW1vbiBmYWN0b3J5YClcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBva2Vtb25cclxuICAgIH1cclxuXHJcbiAgICBfY2FwaXRhbGl6ZShzdHI6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHN0ci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0ci5zbGljZSgxKTtcclxuICAgICAgfVxyXG59XHJcblxyXG4iLCJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi4vcGxheWVyQ2xhc3NcIjtcclxuaW1wb3J0IHsgR2FtZUhhbmRsZXIgfSBmcm9tIFwiLi4vZ2FtZUhhbmRsZXJDbGFzc1wiO1xyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBhY3Rpb25zQnV0dG9uRXZlbnRMaXN0ZW5lciA9IChwbGF5ZXI6IFBsYXllciwgZ2FtZUhhbmRsZXI6IEdhbWVIYW5kbGVyKSA9PiB7XHJcblxyXG4gIGNvbnN0IGJhdHRsZUJ1dHRvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiYmF0dGxlQnV0dG9uXCIpISBhcyBIVE1MQ29sbGVjdGlvbk9mPEhUTUxFbGVtZW50PjtcclxuICBjb25zdCBhdHRhY2tCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2F0dGFja0J1dHRvblwiKSEgYXMgSFRNTERpdkVsZW1lbnQ7XHJcbiAgY29uc3Qgc3dpdGNoQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzd2l0Y2hCdXR0b25cIikhIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gIGNvbnN0IG1hbmdvQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtYW5nb0J1dHRvblwiKSEgYXMgSFRNTERpdkVsZW1lbnQ7XHJcbiAgY29uc3QgbWFuZ28gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21hbmdvXCIpISBhcyBIVE1MRGl2RWxlbWVudDtcclxuXHJcbiAgYW5pbWF0aW9uQnV0dG9uc0VudHJ5KGJhdHRsZUJ1dHRvbnMpO1xyXG5cclxuICBhdHRhY2tCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBhbmltYXRpb25CdXR0b25zRXhpdChiYXR0bGVCdXR0b25zKTtcclxuICAgIHNldFRpbWVvdXQoICgpPT4ge1xyXG4gICAgICBnYW1lSGFuZGxlci5nZW5lcmF0ZUF0dGFja0J1dHRvbnMocGxheWVyKTtcclxuICAgIH0sIDEwMDApO1xyXG4gIH0pO1xyXG4gIHN3aXRjaEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIGFuaW1hdGlvbkJ1dHRvbnNFeGl0KGJhdHRsZUJ1dHRvbnMpO1xyXG4gICAgc2V0VGltZW91dCggKCk9PiB7XHJcbiAgICAgIGdhbWVIYW5kbGVyLmdlbmVyYXRlU3dpdGNoQnV0dG9ucyhwbGF5ZXIpO1xyXG4gICAgfSwgMTAwMCk7XHJcbiAgfSk7XHJcblxyXG4gIGlmKHRydWUpIHsgLy9nYW1lSGFuZGxlci5jYW5Vc2VNYW5nbygpXHJcbiAgICBtYW5nb0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgLy9nYW1lSGFuZGxlci51c2VNYW5nbygpO1xyXG4gICAgICBjb25zb2xlLmxvZygnbWFuZ28gdXNlZCEgbW5pYSBtbmlhIG1uaWEuLi4nKTsgLy9uZWVkcyB0byBiZSBkZWxldGVkXHJcbiAgICAgIG1hbmdvLmlubmVySFRNTCA9IFwiMFwiO1xyXG4gICAgICBtYW5nb0J1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRCdXR0b25cIik7XHJcbiAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgbWFuZ28uaW5uZXJIVE1MID0gXCIwXCI7XHJcbiAgICBtYW5nb0J1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRCdXR0b25cIik7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgYXR0YWNrc0J1dHRvbkV2ZW50TGlzdGVuZXIgPSAocGxheWVyOiBQbGF5ZXIsIGdhbWVIYW5kbGVyOiBHYW1lSGFuZGxlcikgPT4ge1xyXG5cclxuICBjb25zdCBhdHRhY2tCdXR0b25PbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2F0dGFja0J1dHRvbk9uZVwiKSEgYXMgSFRNTERpdkVsZW1lbnQ7XHJcbiAgY29uc3QgYXR0YWNrQnV0dG9uVHdvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhdHRhY2tCdXR0b25Ud29cIikhIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gIGNvbnN0IGJhdHRsZUJ1dHRvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiYmF0dGxlQnV0dG9uXCIpISBhcyBIVE1MQ29sbGVjdGlvbk9mPEhUTUxFbGVtZW50PjtcclxuICBjb25zdCBiYWNrQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNiYWNrQnV0dG9uXCIpISBhcyBIVE1MRGl2RWxlbWVudDtcclxuXHJcbiAgYW5pbWF0aW9uQnV0dG9uc0VudHJ5KGJhdHRsZUJ1dHRvbnMpO1xyXG5cclxuICBtYWdpY0Z1bmN0aW9uKGF0dGFja0J1dHRvbk9uZSwgYmF0dGxlQnV0dG9ucywgcGxheWVyLCBnYW1lSGFuZGxlciwgYXR0YWNrKTtcclxuICBtYWdpY0Z1bmN0aW9uKGF0dGFja0J1dHRvblR3bywgYmF0dGxlQnV0dG9ucywgcGxheWVyLCBnYW1lSGFuZGxlciwgYXR0YWNrKTtcclxuICBtYWdpY0Z1bmN0aW9uKGJhY2tCdXR0b24sIGJhdHRsZUJ1dHRvbnMsIHBsYXllciwgZ2FtZUhhbmRsZXIpO1xyXG4gIH1cclxuXHJcbiAgZXhwb3J0IGNvbnN0IHN3aXRjaEJ1dHRvbkV2ZW50TGlzdGVuZXIgPSAocGxheWVyOiBQbGF5ZXIsIGdhbWVIYW5kbGVyOiBHYW1lSGFuZGxlcikgPT4ge1xyXG5cclxuICBjb25zdCBzd2l0Y2hCdXR0b25PbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3N3aXRjaEJ1dHRvbk9uZVwiKSEgYXMgSFRNTERpdkVsZW1lbnQ7XHJcbiAgY29uc3Qgc3dpdGNoQnV0dG9uVHdvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzd2l0Y2hCdXR0b25Ud29cIikhIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gIGNvbnN0IGJhdHRsZUJ1dHRvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiYmF0dGxlQnV0dG9uXCIpISBhcyBIVE1MQ29sbGVjdGlvbk9mPEhUTUxFbGVtZW50PjtcclxuICBjb25zdCBiYWNrQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNiYWNrQnV0dG9uXCIpISBhcyBIVE1MRGl2RWxlbWVudDtcclxuXHJcbiAgYW5pbWF0aW9uQnV0dG9uc0VudHJ5KGJhdHRsZUJ1dHRvbnMpXHJcblxyXG4gIG1hZ2ljRnVuY3Rpb24oc3dpdGNoQnV0dG9uT25lLCBiYXR0bGVCdXR0b25zLCBwbGF5ZXIsIGdhbWVIYW5kbGVyLCBzd2l0Y2hQb2tlKTtcclxuICBtYWdpY0Z1bmN0aW9uKHN3aXRjaEJ1dHRvblR3bywgYmF0dGxlQnV0dG9ucywgcGxheWVyLCBnYW1lSGFuZGxlciwgc3dpdGNoUG9rZSk7XHJcbiAgbWFnaWNGdW5jdGlvbihiYWNrQnV0dG9uLCBiYXR0bGVCdXR0b25zLCBwbGF5ZXIsIGdhbWVIYW5kbGVyKTtcclxufVxyXG5cclxuXHJcbmNvbnN0IG1hZ2ljRnVuY3Rpb24gPSAoYnV0dG9uOiBIVE1MRGl2RWxlbWVudCwgYnV0dG9uczogSFRNTENvbGxlY3Rpb25PZjxIVE1MRWxlbWVudD4sIHBsYXllcjogUGxheWVyLCBnYW1lSGFuZGxlcjogR2FtZUhhbmRsZXIsIGZ1bmN0aW9uVG9DYWxsPzogYW55KSA9PiB7XHJcbiAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coYCR7YnV0dG9uLmlubmVyVGV4dH0gdXNlZCFgKTtcclxuICAgIGlmIChmdW5jdGlvblRvQ2FsbCkgeyBmdW5jdGlvblRvQ2FsbCgpOyB9IC8vID8/XHJcbiAgICBzZXRUaW1lb3V0KCAoKT0+IHtcclxuICAgICAgZ2FtZUhhbmRsZXIuZ2VuZXJhdGVBY3Rpb25CdXR0b25zKHBsYXllcik7XHJcbiAgICB9LCAxMDAwKTtcclxuICAgIC8vYWxzbyBjaGFuZ2UgcGxheWVyIGZ1bmN0aW9uIFxyXG4gICAgYW5pbWF0aW9uQnV0dG9uc0V4aXQoYnV0dG9ucyk7XHJcbiAgfSApO1xyXG59XHJcblxyXG5jb25zdCBhbmltYXRpb25CdXR0b25zRW50cnkgPSAoYnV0dG9uczogSFRNTENvbGxlY3Rpb25PZjxIVE1MRWxlbWVudD4pID0+IHtcclxuICBmb3IobGV0IGkgPSAwOyBpIDwgYnV0dG9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgYnV0dG9uc1tpXS5zdHlsZS5hbmltYXRpb24gPSBcInNjYWxlLWluLWhvci1jZW50ZXIgMC41cyBjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApIGJvdGhcIjtcclxuICAgIGJ1dHRvbnNbaV0uc3R5bGUuYW5pbWF0aW9uRGVsYXkgPSBgJHtpICogMC4xNX1zYFxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgYW5pbWF0aW9uQnV0dG9uc0V4aXQgPSAoYnV0dG9uczogSFRNTENvbGxlY3Rpb25PZjxIVE1MRWxlbWVudD4pID0+IHtcclxuICBmb3IobGV0IGkgPSAwOyBpIDwgYnV0dG9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgYnV0dG9uc1tpXS5zdHlsZS5hbmltYXRpb24gPSBcInNjYWxlLW91dC1ob3Jpem9udGFsIDAuNXMgY3ViaWMtYmV6aWVyKDAuNTUwLCAwLjA4NSwgMC42ODAsIDAuNTMwKSBib3RoXCI7XHJcbiAgICBidXR0b25zW2ldLnN0eWxlLmFuaW1hdGlvbkRlbGF5ID0gYCR7aSAqIDAuMTV9c2BcclxuICB9XHJcbn1cclxuXHJcbi8vIGZ1bmNpb25zIGp1c3QgZm9yIGNoZWNrIGlmIGl0cyB3b3JrcyBzaG91bGQgYmUgcmVwbGFjZWQgd2l0aCBnYW1lSGFuZGxlciA+IHVzZSBhdHRhY2sgb3Igc3dpdGNoIFBva2Vtb24gZnVuY3Rpb25zXHJcbmNvbnN0IGF0dGFjayA9ICgpID0+IHtcclxuICBjb25zb2xlLmxvZygnYnVtIGJ1bSBiYWNoIScpO1xyXG59XHJcbmNvbnN0IHN3aXRjaFBva2UgPSAoKSA9PiB7XHJcbiAgY29uc29sZS5sb2coJ3B1ZmYhJyk7XHJcbn0iLCJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi9wbGF5ZXJDbGFzc1wiO1xyXG5pbXBvcnQgeyBhY3Rpb25zQnV0dG9uRXZlbnRMaXN0ZW5lciwgYXR0YWNrc0J1dHRvbkV2ZW50TGlzdGVuZXIsIHN3aXRjaEJ1dHRvbkV2ZW50TGlzdGVuZXIgfSBmcm9tIFwiLi9maWdodFBhZ2UvYnV0dG9uc0V2ZW50TGlzdGVuZXJzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZUhhbmRsZXIge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfcGxheWVyT25lOiBQbGF5ZXIsXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9wbGF5ZXJUd286IFBsYXllclxyXG4gICkge31cclxuXHJcbiAgcHJpdmF0ZSBfY3VycmVudFBsYXllcjogUGxheWVyID0gdGhpcy5fcGxheWVyT25lO1xyXG5cclxuICBnZXQgcGxheWVyT25lICgpIHtcclxuICAgIHJldHVybiB0aGlzLl9wbGF5ZXJPbmU7XHJcbiAgfVxyXG5cclxuICBnZXQgcGxheWVyVHdvKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3BsYXllclR3bztcclxuICB9XHJcblxyXG4gIGdldCBjdXJyZW50UGxheWVyKCk6IFBsYXllciB7XHJcbiAgICByZXR1cm4gdGhpcy5fY3VycmVudFBsYXllcjtcclxuICB9XHJcblxyXG4gIGdldCBvcHBvbmVudFBsYXllcigpOiBQbGF5ZXIge1xyXG4gICAgaWYgKHRoaXMuX2N1cnJlbnRQbGF5ZXIgPT09IHRoaXMuX3BsYXllck9uZSkgcmV0dXJuIHRoaXMuX3BsYXllclR3bztcclxuICAgIHJldHVybiB0aGlzLl9wbGF5ZXJPbmU7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGRpZFBsYXllckxvb3NlKHBsYXllcjogUGxheWVyKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gcGxheWVyLmFsaXZlUG9rZW1vbnMubGVuZ3RoID09PSAwO1xyXG4gIH1cclxuXHJcbiAgaXNHYW1lRmluaXNoZWQoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICB0aGlzLmRpZFBsYXllckxvb3NlKHRoaXMuX3BsYXllck9uZSkgfHxcclxuICAgICAgdGhpcy5kaWRQbGF5ZXJMb29zZSh0aGlzLl9wbGF5ZXJUd28pXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgZ2V0V2lubmVyKCk6IFBsYXllciB8IEVycm9yIHtcclxuICAgIGlmICghdGhpcy5pc0dhbWVGaW5pc2hlZCgpKVxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgY2Fubm90IGdldCB0aGUgd2lubmVyLiBUaGUgZ2FtZSBpcyBub3Qgb3Zlci5cIik7XHJcbiAgICByZXR1cm4gdGhpcy5kaWRQbGF5ZXJMb29zZSh0aGlzLl9wbGF5ZXJPbmUpID09PSB0cnVlXHJcbiAgICAgID8gdGhpcy5fcGxheWVyVHdvXHJcbiAgICAgIDogdGhpcy5fcGxheWVyT25lO1xyXG4gIH1cclxuXHJcbiAgZ2VuZXJhdGVBY3Rpb25CdXR0b25zKHBsYXllcjogUGxheWVyKTogdm9pZCB7XHJcbiAgICBjb25zb2xlLmxvZygnU3RhcnQgLSBhY3Rpb24gbW9kYWwnKTtcclxuICAgIGNvbnN0IGFjdGlvbkNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWN0aW9uTW9kYWxzXCIpITtcclxuICAgIGFjdGlvbkNvbnRhaW5lci5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbiBiYXR0bGVCdXR0b25cIiBpZD1cImF0dGFja0J1dHRvblwiPmF0dGFjazwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b24gYmF0dGxlQnV0dG9uXCIgaWQ9XCJzd2l0Y2hCdXR0b25cIj5zd2l0Y2g8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uIGJhdHRsZUJ1dHRvblwiIGlkPVwibWFuZ29CdXR0b25cIj51c2UgbWFuZ28gKDxzcGFuIGlkPVwibWFuZ29cIj4xPC9zcGFuPik8L2Rpdj5gO1xyXG4gICAgYWN0aW9uc0J1dHRvbkV2ZW50TGlzdGVuZXIocGxheWVyLCB0aGlzKTtcclxuICB9XHJcblxyXG4gIGdlbmVyYXRlQXR0YWNrQnV0dG9ucyhwbGF5ZXI6IFBsYXllcik6IHZvaWQge1xyXG4gICAgY29uc29sZS5sb2coJ0F0dGFjayBjaG9vc2UgbW9kYWwnKTtcclxuICAgIGNvbnN0IGFjdGlvbkNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWN0aW9uTW9kYWxzXCIpITtcclxuICAgIGFjdGlvbkNvbnRhaW5lci5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbiBiYXR0bGVCdXR0b25cIiBpZD1cImF0dGFja0J1dHRvbk9uZVwiPiR7cGxheWVyLnBva2Vtb25zWzBdLm1vdmVzWzBdLm1vdmVOYW1lfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b24gYmF0dGxlQnV0dG9uXCIgaWQ9XCJhdHRhY2tCdXR0b25Ud29cIj4ke3BsYXllci5wb2tlbW9uc1swXS5tb3Zlc1sxXS5tb3ZlTmFtZX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uIGJhdHRsZUJ1dHRvblwiIGlkPVwiYmFja0J1dHRvblwiPmJhY2s8L2Rpdj5gO1xyXG4gICAgYXR0YWNrc0J1dHRvbkV2ZW50TGlzdGVuZXIocGxheWVyLCB0aGlzKTtcclxuICB9XHJcblxyXG4gIGdlbmVyYXRlU3dpdGNoQnV0dG9ucyhwbGF5ZXI6IFBsYXllcik6IHZvaWQge1xyXG4gICAgY29uc29sZS5sb2coJ1N3aXRjaCBjaG9vc2UgbW9kYWwnKTtcclxuICAgIGNvbnN0IGFjdGlvbkNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWN0aW9uTW9kYWxzXCIpITtcclxuICAgIGFjdGlvbkNvbnRhaW5lci5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbiBiYXR0bGVCdXR0b25cIiBpZD1cInN3aXRjaEJ1dHRvbk9uZVwiPiR7cGxheWVyLnBva2Vtb25zWzFdLm5hbWV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbiBiYXR0bGVCdXR0b25cIiBpZD1cInN3aXRjaEJ1dHRvblR3b1wiPiR7cGxheWVyLnBva2Vtb25zWzJdLm5hbWV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbiBiYXR0bGVCdXR0b25cIiBpZD1cImJhY2tCdXR0b25cIj5iYWNrPC9kaXY+YDtcclxuICAgIHN3aXRjaEJ1dHRvbkV2ZW50TGlzdGVuZXIocGxheWVyLCB0aGlzKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4uL3BsYXllckNsYXNzXCI7XHJcbmltcG9ydCB7IHN0YXJ0QmF0dGxlIH0gZnJvbSBcIi4uL2ZpZ2h0UGFnZS9zdGFydEJhdHRsZVwiO1xyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBzdGFydEdhbWVJZlJlYWR5ID0gKHBsYXllck9uZTogUGxheWVyLCBwbGF5ZXJUd286IFBsYXllcikgPT4ge1xyXG4gIGlmIChwbGF5ZXJPbmUucG9rZW1vbnMubGVuZ3RoIDwgMyB8fCBwbGF5ZXJUd28ucG9rZW1vbnMubGVuZ3RoIDwgMykgcmV0dXJuO1xyXG4gIGNvbnN0IGFwcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYXBwXCIpIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gIHN0YXJ0QmF0dGxlKHBsYXllck9uZSwgcGxheWVyVHdvLCBhcHApO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi4vcGxheWVyQ2xhc3NcIjtcclxuaW1wb3J0IHsgR2FtZUhhbmRsZXIgfSBmcm9tIFwiLi4vZ2FtZUhhbmRsZXJDbGFzc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVGaWdodFBhZ2UgfSBmcm9tIFwiLi9yZW5kZXJGaWdodFBhZ2VcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBzdGFydEJhdHRsZSA9IChcclxuICBwbGF5ZXJPbmU6IFBsYXllcixcclxuICBwbGF5ZXJUd286IFBsYXllcixcclxuICBhcHA6IEhUTUxEaXZFbGVtZW50XHJcbikgPT4ge1xyXG4gIGNvbnN0IGdhbWUgPSBuZXcgR2FtZUhhbmRsZXIocGxheWVyT25lLCBwbGF5ZXJUd28pO1xyXG4gIHNldFRpbWVvdXQoKCkgPT4gY3JlYXRlRmlnaHRQYWdlKGFwcCwgZ2FtZSksIDIwMDApO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi4vcGxheWVyQ2xhc3NcIjtcclxuaW1wb3J0IHsgR2FtZUhhbmRsZXIgfSBmcm9tIFwiLi4vZ2FtZUhhbmRsZXJDbGFzc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVBY3RpdmVQb2tlbW9uIH0gZnJvbSBcIi4vY3JlYXRlQWN0aXZlUG9rZW1vblwiO1xyXG5pbXBvcnQgeyBjcmVhdGVBY3RpdmVQbGF5ZXIgfSBmcm9tIFwiLi9jcmVhdGVBY3RpdmVQbGF5ZXJcIjtcclxuaW1wb3J0IHsgY3JlYXRlSFBCYXJzIH0gZnJvbSBcIi4vY3JlYXRlSFBCYXJzXCI7XHJcbmltcG9ydCB7IGNyZWF0ZUZpZ2h0UGFnZVBva2ViYWxscyB9IGZyb20gXCIuL2NyZWF0ZUZpZ2h0UGFnZVBva2ViYWxsc1wiO1xyXG5cclxuY29uc3QgY3JlYXRlUGxheWVyRmlnaHROYW1lcyA9IChnYW1lSGFuZGxlcjogR2FtZUhhbmRsZXIpID0+IHtcclxuICBjb25zdCBwbGF5ZXJPbmVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgIFwiI2ZpZ2h0LXBhZ2UtcGxheWVyMS1uYW1lXCJcclxuICApIGFzIEhUTUxIZWFkaW5nRWxlbWVudDtcclxuICBjb25zdCBwbGF5ZXJUd29OYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgIFwiI2ZpZ2h0LXBhZ2UtcGxheWVyMi1uYW1lXCJcclxuICApIGFzIEhUTUxIZWFkaW5nRWxlbWVudDtcclxuICBwbGF5ZXJPbmVOYW1lLnRleHRDb250ZW50ID0gZ2FtZUhhbmRsZXIucGxheWVyT25lLm5hbWU7XHJcbiAgcGxheWVyVHdvTmFtZS50ZXh0Q29udGVudCA9IGdhbWVIYW5kbGVyLnBsYXllclR3by5uYW1lO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUZpZ2h0UGFnZSA9IChcclxuICBhcHBEaXY6IEhUTUxEaXZFbGVtZW50LFxyXG4gIGdhbWVIYW5kbGVyOiBHYW1lSGFuZGxlclxyXG4pID0+IHtcclxuICBjb25zdCBmaWdodFBhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgXCIjZmlnaHQtcGFnZS10ZW1wbGF0ZVwiXHJcbiAgKSBhcyBIVE1MVGVtcGxhdGVFbGVtZW50O1xyXG4gIGFwcERpdi5pbm5lckhUTUwgPSBmaWdodFBhZ2UuaW5uZXJIVE1MO1xyXG4gIGNyZWF0ZVBsYXllckZpZ2h0TmFtZXMoZ2FtZUhhbmRsZXIpO1xyXG4gIGNyZWF0ZUFjdGl2ZVBsYXllcihnYW1lSGFuZGxlcik7XHJcbiAgY3JlYXRlQWN0aXZlUG9rZW1vbihnYW1lSGFuZGxlcik7XHJcbiAgY3JlYXRlSFBCYXJzKGdhbWVIYW5kbGVyLnBsYXllck9uZSwgZ2FtZUhhbmRsZXIucGxheWVyVHdvKTtcclxuICBjcmVhdGVGaWdodFBhZ2VQb2tlYmFsbHMoZ2FtZUhhbmRsZXIpO1xyXG4gIC8vIGdlbmVyYXRlIGNob29zZSBhY3Rpb24gYnV0dG9uc1xyXG4gIGdhbWVIYW5kbGVyLmdlbmVyYXRlQWN0aW9uQnV0dG9ucyhnYW1lSGFuZGxlci5jdXJyZW50UGxheWVyKTtcclxufTtcclxuIiwiaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4uL3BsYXllckNsYXNzXCI7XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlSFBCYXJzID0gKHBsYXllck9uZTogUGxheWVyLCBwbGF5ZXJUd286IFBsYXllcikgPT4ge1xyXG4gIGNvbnN0IGNyZWF0ZUJhciA9IChwbGF5ZXI6IFBsYXllciwgSFBCYXI6IEhUTUxEaXZFbGVtZW50KSA9PiB7XHJcbiAgICBjb25zdCBtYXhIUCA9IHBsYXllci5nZXRBY3RpdmVQb2tlbW9uLm1heEhQO1xyXG4gICAgY29uc3QgY3VycmVudEhQID0gcGxheWVyLmdldEFjdGl2ZVBva2Vtb24uY3VycmVudEhQO1xyXG4gICAgY29uc3QgSFBJblBlcmNlbnQgPSAoY3VycmVudEhQIC8gbWF4SFApICogMTAwO1xyXG4gICAgY29uc29sZS5sb2coSFBJblBlcmNlbnQpO1xyXG4gICAgSFBCYXIuc3R5bGUud2lkdGggPSBgJHtIUEluUGVyY2VudH0lYDtcclxuICAgIGxldCBIUENsYXNzTGlzdCA9IEhQQmFyLmNsYXNzTGlzdDtcclxuICAgIGlmIChIUEluUGVyY2VudCA8IDIwKSB7XHJcbiAgICAgIEhQQ2xhc3NMaXN0LnJlbW92ZShcImhwQmFySGlnaExldmVsXCIpO1xyXG4gICAgICBIUENsYXNzTGlzdC5hZGQoXCJocEJhckxvd0xldmVsXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgSFBDbGFzc0xpc3QucmVtb3ZlKFwiaHBCYXJMb3dMZXZlbFwiKTtcclxuICAgICAgSFBDbGFzc0xpc3QuYWRkKFwiaHBCYXJIaWdoTGV2ZWxcIik7XHJcbiAgICB9XHJcbiAgfTtcclxuICBjb25zdCBwbGF5ZXJPbmVIUEJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICBcIiNocC1iYXItcGxheWVyMVwiXHJcbiAgKSBhcyBIVE1MRGl2RWxlbWVudDtcclxuICBjb25zdCBwbGF5ZXJUd29IUEJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICBcIiNocC1iYXItcGxheWVyMlwiXHJcbiAgKSBhcyBIVE1MRGl2RWxlbWVudDtcclxuICBjcmVhdGVCYXIocGxheWVyT25lLCBwbGF5ZXJPbmVIUEJhcik7XHJcbiAgY3JlYXRlQmFyKHBsYXllclR3bywgcGxheWVyVHdvSFBCYXIpO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBHYW1lSGFuZGxlciB9IGZyb20gXCIuLi9nYW1lSGFuZGxlckNsYXNzXCI7XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlQWN0aXZlUGxheWVyID0gKGdhbWVIYW5kbGVyOiBHYW1lSGFuZGxlcikgPT4ge1xyXG4gIGNvbnN0IGFjdGl2ZVBsYXllckFyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgXCIjYWN0aXZlLXBsYXllci1pbmZvXCJcclxuICApIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gIGFjdGl2ZVBsYXllckFyZWEudGV4dENvbnRlbnQgPSBgJHtnYW1lSGFuZGxlci5jdXJyZW50UGxheWVyLm5hbWV9IG5vdyBpcyB5b3VyIHR1cm4uIEdldCB0aGUgcmV2ZW5nZSFgO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi4vcGxheWVyQ2xhc3NcIjtcclxuaW1wb3J0IHsgR2FtZUhhbmRsZXIgfSBmcm9tIFwiLi4vZ2FtZUhhbmRsZXJDbGFzc1wiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUFjdGl2ZVBva2Vtb24gPSAoZ2FtZUhhbmRsZXI6IEdhbWVIYW5kbGVyKSA9PiB7XHJcbiAgICBjb25zdCBwbGF5ZXJPbmVBY3RpdmVQb2tlbW9uSW1hZ2VBcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIjcG9rZW1vbi1pbWFnZS1wbGF5ZXIxXCJcclxuICAgICkgYXMgSFRNTEltYWdlRWxlbWVudDtcclxuICAgIGNvbnN0IHBsYXllclR3b0FjdGl2ZVBva2Vtb25JbWFnZUFyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIiNwb2tlbW9uLWltYWdlLXBsYXllcjJcIlxyXG4gICAgKSBhcyBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gICAgY29uc3QgcGxheWVyT25lQWN0aXZlUG9rZW1vbk5hbWVBcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIjcG9rZW1vbi1uYW1lLXBsYXllcjFcIlxyXG4gICAgKSBhcyBIVE1MSGVhZGluZ0VsZW1lbnQ7XHJcbiAgICBjb25zdCBwbGF5ZXJUd29BY3RpdmVQb2tlbW9uTmFtZUFyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIiNwb2tlbW9uLW5hbWUtcGxheWVyMlwiXHJcbiAgICApIGFzIEhUTUxIZWFkaW5nRWxlbWVudDtcclxuICAgIGNvbnN0IGNyZWF0ZVBva2Vtb24gPSAoXHJcbiAgICAgIHBsYXllcjogUGxheWVyLFxyXG4gICAgICBpbWFnZUFyZWE6IEhUTUxJbWFnZUVsZW1lbnQsXHJcbiAgICAgIG5hbWVBcmVhOiBIVE1MSGVhZGluZ0VsZW1lbnRcclxuICAgICkgPT4ge1xyXG4gICAgICBjb25zdCBwb2tlbW9uTmFtZSA9IHBsYXllci5nZXRBY3RpdmVQb2tlbW9uLm5hbWU7XHJcbiAgICAgIGltYWdlQXJlYS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgYC4vYXNzZXRzLyR7cG9rZW1vbk5hbWUudG9Mb3dlckNhc2UoKX0ucG5nYCk7XHJcbiAgICAgIG5hbWVBcmVhLnRleHRDb250ZW50ID0gcG9rZW1vbk5hbWU7XHJcbiAgICB9O1xyXG4gICAgY3JlYXRlUG9rZW1vbihcclxuICAgICAgZ2FtZUhhbmRsZXIucGxheWVyT25lLFxyXG4gICAgICBwbGF5ZXJPbmVBY3RpdmVQb2tlbW9uSW1hZ2VBcmVhLFxyXG4gICAgICBwbGF5ZXJPbmVBY3RpdmVQb2tlbW9uTmFtZUFyZWFcclxuICAgICk7XHJcbiAgICBjcmVhdGVQb2tlbW9uKFxyXG4gICAgICBnYW1lSGFuZGxlci5wbGF5ZXJUd28sXHJcbiAgICAgIHBsYXllclR3b0FjdGl2ZVBva2Vtb25JbWFnZUFyZWEsXHJcbiAgICAgIHBsYXllclR3b0FjdGl2ZVBva2Vtb25OYW1lQXJlYVxyXG4gICAgKTtcclxuICB9OyIsImltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuLi9wbGF5ZXJDbGFzc1wiO1xyXG5pbXBvcnQgeyBHYW1lSGFuZGxlciB9IGZyb20gXCIuLi9nYW1lSGFuZGxlckNsYXNzXCI7XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlRmlnaHRQYWdlUG9rZWJhbGxzID0gKGdhbWVIYW5kbGVyOiBHYW1lSGFuZGxlcikgPT4ge1xyXG4gICAgY29uc3QgY2hhbmdlQ2xhc3NPZkRpc2FibGVkUG9rZW1vbnMgPSAoXHJcbiAgICAgIHBsYXllcjogUGxheWVyLFxyXG4gICAgICBwbGF5ZXJQb2tlYmFsbHM6IEhUTUxJbWFnZUVsZW1lbnRbXVxyXG4gICAgKSA9PiB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAyOyBpID4gcGxheWVyLmFsaXZlUG9rZW1vbnMubGVuZ3RoIC0gMTsgaS0tKSB7XHJcbiAgICAgICAgcGxheWVyUG9rZWJhbGxzW2ldLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFBva2Vtb25cIik7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBwbGF5ZXJPbmVQb2tlYmFsbHMgPSBBcnJheS5mcm9tKFxyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI2ZpZ2h0LXBhZ2UtcGxheWVyMSAucG9rZWJhbGxXaXRoUG9rZW1vblwiKVxyXG4gICAgKSBhcyBIVE1MSW1hZ2VFbGVtZW50W107XHJcbiAgICBjb25zdCBwbGF5ZXJUd29Qb2tlYmFsbHMgPSBBcnJheS5mcm9tKFxyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI2ZpZ2h0LXBhZ2UtcGxheWVyMiAucG9rZWJhbGxXaXRoUG9rZW1vblwiKVxyXG4gICAgKSBhcyBIVE1MSW1hZ2VFbGVtZW50W107XHJcbiAgICBjaGFuZ2VDbGFzc09mRGlzYWJsZWRQb2tlbW9ucyhnYW1lSGFuZGxlci5wbGF5ZXJPbmUsIHBsYXllck9uZVBva2ViYWxscyk7XHJcbiAgICBjaGFuZ2VDbGFzc09mRGlzYWJsZWRQb2tlbW9ucyhnYW1lSGFuZGxlci5wbGF5ZXJUd28sIHBsYXllclR3b1Bva2ViYWxscyk7XHJcbiAgfTsiLCJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi4vcGxheWVyQ2xhc3NcIjtcclxuaW1wb3J0IHsgY3JlYXRlQWN0aXZlUGxheWVyTmFtZSB9IGZyb20gXCIuL2NyZWF0ZUFjdGl2ZVBsYXllck5hbWVcIjtcclxuaW1wb3J0IHsgY3JlYXRlUGxheWVyTmFtZXMgfSBmcm9tIFwiLi9jcmVhdGVQbGF5ZXJOYW1lc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVQb2tlbW9ucyB9IGZyb20gXCIuL2NyZWF0ZVBva2Vtb25zXCI7XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlQ2hvb3NlUGFnZSA9IChwbGF5ZXJPbmU6IFBsYXllciwgcGxheWVyVHdvOiBQbGF5ZXIpID0+IHtcclxuICBsZXQgYWN0aXZlUGxheWVyID0gcGxheWVyT25lO1xyXG4gIGNyZWF0ZVBsYXllck5hbWVzKHBsYXllck9uZSwgcGxheWVyVHdvKTtcclxuICBjcmVhdGVBY3RpdmVQbGF5ZXJOYW1lKGFjdGl2ZVBsYXllcik7XHJcbiAgY3JlYXRlUG9rZW1vbnMocGxheWVyT25lLCBwbGF5ZXJUd28sIGFjdGl2ZVBsYXllcik7XHJcbn07XHJcbiIsImltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuLi9wbGF5ZXJDbGFzc1wiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVBsYXllck5hbWVzID0gKHBsYXllck9uZTogUGxheWVyLCBwbGF5ZXJUd286IFBsYXllcikgPT4ge1xyXG4gIGxldCBwbGF5ZXJPbmVOYW1lQXJlYVRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Nob29zZVBhZ2VQbGF5ZXIxTmFtZVwiKSE7XHJcbiAgcGxheWVyT25lTmFtZUFyZWFUZXh0LnRleHRDb250ZW50ID0gcGxheWVyT25lLm5hbWU7XHJcbiAgbGV0IHBsYXllclR3b05hbWVBcmVhVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2hvb3NlUGFnZVBsYXllcjJOYW1lXCIpITtcclxuICBwbGF5ZXJUd29OYW1lQXJlYVRleHQudGV4dENvbnRlbnQgPSBwbGF5ZXJUd28ubmFtZTtcclxufTtcclxuIiwiaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4uL3BsYXllckNsYXNzXCI7XHJcbmltcG9ydCB7IFBva2Vtb25GYWN0b3J5IH0gZnJvbSBcIi4uL3Bva2Vtb25GYWN0b3J5XCI7XHJcbmltcG9ydCAqIGFzIGRhdGEgZnJvbSBcIi4uLy4uL2Fzc2V0cy9wb2tlX2RhdGEuanNvblwiO1xyXG5pbXBvcnQgeyBzdGFydEdhbWVJZlJlYWR5IH0gZnJvbSBcIi4vc3RhcnRHYW1lSWZSZWFkeVwiO1xyXG5pbXBvcnQgeyBhZGRDaG9zZW5Qb2tlbW9uIH0gZnJvbSBcIi4vYWRkQ2hvc2VuUG9rZW1vblwiO1xyXG5pbXBvcnQgeyBjcmVhdGVQb2tlYmFsbHMgfSBmcm9tIFwiLi9jcmVhdGVQb2tlYmFsbHNcIjtcclxuaW1wb3J0IHsgY3JlYXRlQWN0aXZlUGxheWVyTmFtZSB9IGZyb20gXCIuL2NyZWF0ZUFjdGl2ZVBsYXllck5hbWVcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVQb2tlbW9ucyA9IChcclxuICBwbGF5ZXJPbmU6IFBsYXllcixcclxuICBwbGF5ZXJUd286IFBsYXllcixcclxuICBhY3RpdmVQbGF5ZXI6IFBsYXllclxyXG4pID0+IHtcclxuICBjb25zdCBwb2tlRGF0YSA9IGRhdGEucG9rZW1vbnM7XHJcbiAgY29uc3QgcG9rZW1vbkZhY3RvcnkgPSBuZXcgUG9rZW1vbkZhY3RvcnkocG9rZURhdGEpO1xyXG4gIGNvbnN0IHBva2Vtb25JbWFnZXMgPSBBcnJheS5mcm9tKFxyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiNwb2tlbW9uTGlzdCBpbWdcIilcclxuICApIGFzIFtIVE1MSW1hZ2VFbGVtZW50XTtcclxuXHJcbiAgcG9rZW1vbkltYWdlcy5mb3JFYWNoKChwb2tlbW9uSW1hZ2UpID0+XHJcbiAgICBwb2tlbW9uSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgXCJjbGlja1wiLFxyXG4gICAgICAoZSkgPT4ge1xyXG4gICAgICAgIGlmIChhY3RpdmVQbGF5ZXIucG9rZW1vbnMubGVuZ3RoID09PSAzKSByZXR1cm47XHJcbiAgICAgICAgYWRkQ2hvc2VuUG9rZW1vbihlLCBwb2tlbW9uRmFjdG9yeSwgYWN0aXZlUGxheWVyKTtcclxuICAgICAgICBjcmVhdGVQb2tlYmFsbHMocGxheWVyT25lLCBhY3RpdmVQbGF5ZXIpO1xyXG4gICAgICAgIC8vIGNoYW5nZSBwbGF5ZXJcclxuICAgICAgICBhY3RpdmVQbGF5ZXIgPSBhY3RpdmVQbGF5ZXIgPT09IHBsYXllck9uZSA/IHBsYXllclR3byA6IHBsYXllck9uZTtcclxuICAgICAgICBjcmVhdGVBY3RpdmVQbGF5ZXJOYW1lKGFjdGl2ZVBsYXllcik7XHJcbiAgICAgICAgc3RhcnRHYW1lSWZSZWFkeShwbGF5ZXJPbmUsIHBsYXllclR3byk7XHJcbiAgICAgIH0sXHJcbiAgICAgIHsgb25jZTogdHJ1ZSB9XHJcbiAgICApXHJcbiAgKTtcclxufTtcclxuIiwiaW1wb3J0IHsgUG9rZW1vbiB9IGZyb20gXCIuLi9wb2tlbW9uQ2xhc3NcIjtcclxuaW1wb3J0IHsgUG9rZW1vbkZhY3RvcnkgfSBmcm9tIFwiLi4vcG9rZW1vbkZhY3RvcnlcIjtcclxuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4uL3BsYXllckNsYXNzXCI7XHJcblxyXG5leHBvcnQgY29uc3QgYWRkQ2hvc2VuUG9rZW1vbiA9IChcclxuICBldmVudDogRXZlbnQsXHJcbiAgZmFjdG9yeTogUG9rZW1vbkZhY3RvcnksXHJcbiAgYWN0aXZlUGxheWVyOiBQbGF5ZXJcclxuKSA9PiB7XHJcbiAgY29uc3QgY2xpY2tlZFBva2Vtb24gPSBldmVudC50YXJnZXQgYXMgSFRNTEltYWdlRWxlbWVudDtcclxuICBjb25zdCBwb2tlbW9uTmFtZSA9IGNsaWNrZWRQb2tlbW9uLmlkO1xyXG4gIGNvbnN0IG5ld1Bva2Vtb25PYmplY3Q6IFBva2Vtb24gPSBmYWN0b3J5LmdldFBva2Vtb25CeU5hbWUocG9rZW1vbk5hbWUpO1xyXG4gIGFjdGl2ZVBsYXllci5hZGRQb2tlbW9uKG5ld1Bva2Vtb25PYmplY3QpO1xyXG4gIGNsaWNrZWRQb2tlbW9uLnN0eWxlLmN1cnNvciA9IFwiZGVmYXVsdFwiO1xyXG4gIGNsaWNrZWRQb2tlbW9uLnN0eWxlLmZpbHRlciA9IFwiZ3JheXNjYWxlKDEwMCUpXCI7XHJcbn07XHJcbiIsImltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuLi9wbGF5ZXJDbGFzc1wiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVBva2ViYWxscyA9IChwbGF5ZXJPbmU6IFBsYXllciwgYWN0aXZlUGxheWVyOiBQbGF5ZXIpID0+IHtcclxuICBjb25zdCBwbGF5ZXJQb2tlYmFsbHM6IEhUTUxJbWFnZUVsZW1lbnRbXSA9XHJcbiAgICBhY3RpdmVQbGF5ZXIgPT09IHBsYXllck9uZVxyXG4gICAgICA/IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiNjaG9vc2VQYWdlUGxheWVyMSBpbWdcIikpXHJcbiAgICAgIDogQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI2Nob29zZVBhZ2VQbGF5ZXIyIGltZ1wiKSk7XHJcbiAgY29uc3QgcGxheWVyTGFzdFBva2Vtb25OYW1lOiBzdHJpbmcgPSBhY3RpdmVQbGF5ZXIucG9rZW1vbnNbXHJcbiAgICBhY3RpdmVQbGF5ZXIucG9rZW1vbnMubGVuZ3RoIC0gMVxyXG4gIF0ubmFtZS50b0xvd2VyQ2FzZSgpO1xyXG4gIGNvbnN0IG51bWJlck9mTGFzdFBva2Vtb246IG51bWJlciA9IGFjdGl2ZVBsYXllci5wb2tlbW9ucy5sZW5ndGggLSAxO1xyXG4gIHBsYXllclBva2ViYWxsc1tudW1iZXJPZkxhc3RQb2tlbW9uXS5zZXRBdHRyaWJ1dGUoXHJcbiAgICBcInNyY1wiLFxyXG4gICAgYC4vYXNzZXRzLyR7cGxheWVyTGFzdFBva2Vtb25OYW1lfS5wbmdgXHJcbiAgKTtcclxufTtcclxuIiwiaW1wb3J0IHsgUG9rZW1vbiB9IGZyb20gXCIuL3Bva2Vtb25DbGFzc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBsYXllciB7XHJcbiAgcHJpdmF0ZSBfbmFtZTogc3RyaW5nO1xyXG4gIHByaXZhdGUgX3Bva2Vtb25zOiBQb2tlbW9uW107XHJcbiAgcHJpdmF0ZSBfaW5kZXhPZkFjdGl2ZVBva2Vtb246IG51bWJlcjtcclxuICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIHBva2Vtb25zOiBQb2tlbW9uW10pIHtcclxuICAgIGlmIChuYW1lLmxlbmd0aCA+IDgpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVG9vIGxvbmcgbmFtZVwiKTtcclxuICAgIH1cclxuICAgIGlmIChwb2tlbW9ucy5sZW5ndGggPiAzKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIldyb25nIG51bWJlciBvZiBwb2tlbW9uc1wiKTtcclxuICAgIH1cclxuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xyXG4gICAgdGhpcy5fcG9rZW1vbnMgPSBwb2tlbW9ucztcclxuICAgIHRoaXMuX2luZGV4T2ZBY3RpdmVQb2tlbW9uID0gMDtcclxuICB9XHJcblxyXG4gIGdldCBuYW1lKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdGhpcy5fbmFtZTtcclxuICB9XHJcbiAgZ2V0IHBva2Vtb25zKCk6IFBva2Vtb25bXSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcG9rZW1vbnM7XHJcbiAgfVxyXG5cclxuICBzZXQgaW5kZXhPZkFjdGl2ZVBva2Vtb24obnVtT2ZBY3RpdmVQb2tlbW9uOiBudW1iZXIpIHtcclxuICAgIHRoaXMuX2luZGV4T2ZBY3RpdmVQb2tlbW9uID0gbnVtT2ZBY3RpdmVQb2tlbW9uO1xyXG4gIH1cclxuICBnZXQgZ2V0QWN0aXZlUG9rZW1vbigpOiBQb2tlbW9uIHtcclxuICAgIHJldHVybiB0aGlzLl9wb2tlbW9uc1t0aGlzLl9pbmRleE9mQWN0aXZlUG9rZW1vbl07XHJcbiAgfVxyXG5cclxuICBnZXQgYWxpdmVQb2tlbW9ucygpOiBQb2tlbW9uW10ge1xyXG4gICAgY29uc3QgYWxpdmVQb2tlbW9uc1RhYjogUG9rZW1vbltdID0gdGhpcy5wb2tlbW9ucy5maWx0ZXIoKHBva2Vtb24pID0+XHJcbiAgICAgIHBva2Vtb24uaXNBbGl2ZSgpXHJcbiAgICApO1xyXG4gICAgcmV0dXJuIGFsaXZlUG9rZW1vbnNUYWI7XHJcbiAgfVxyXG5cclxuICBhZGRQb2tlbW9uKHBva2Vtb246IFBva2Vtb24pOiB2b2lkIHtcclxuICAgIHRoaXMuX3Bva2Vtb25zLnB1c2gocG9rZW1vbik7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjb25zdCBhY3RpdmF0ZVN0YXJ0ID0gKG5hbWUxSW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQsIG5hbWUySW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQsIHN0YXJ0QnV0dG9uOiBIVE1MRGl2RWxlbWVudCkgPT4ge1xyXG4gICAgaWYgKG5hbWUxSW5wdXQudmFsdWUubGVuZ3RoID4gMCAmJiBuYW1lMklucHV0LnZhbHVlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBzdGFydEJ1dHRvbi5jbGFzc05hbWUgPSAnYnV0dG9uLWVuYWJsZWQnXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHN0YXJ0QnV0dG9uLmNsYXNzTmFtZSA9ICdidXR0b24tZGlzYWJsZWQnXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBzaG93TW9kYWwsIGhpZGVNb2RhbCB9IGZyb20gXCIuL21vZGFsUG9wVXBGdW5jdGlvbnNcIjtcclxuaW1wb3J0IHsgY3JlYXRlQ2hvb3NlUGFnZSB9IGZyb20gXCIuL2Nob29zZVBva2Vtb25zUGFnZS9jaG9vc2VQb2tlbW9uc1BhZ2VcIlxyXG5pbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi9wbGF5ZXJDbGFzc1wiO1xyXG5pbXBvcnQgeyBhY3RpdmF0ZVN0YXJ0IH0gZnJvbSAnLi9hY3RpdmF0ZVN0YXJ0JztcclxuXHJcbmNvbnN0IHJlbmRlclN0YXJ0aW5nUGFnZSA9IChhcHBEaXY6IEhUTUxEaXZFbGVtZW50KSA9PiB7XHJcbiAgY29uc3Qgc3RhcnRpbmdQYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgIFwiI3N0YXJ0aW5nLXBhZ2UtdGVtcGxhdGVcIlxyXG4gICkgYXMgSFRNTFRlbXBsYXRlRWxlbWVudDtcclxuICBhcHBEaXYuaW5uZXJIVE1MID0gc3RhcnRpbmdQYWdlLmlubmVySFRNTDtcclxufTtcclxuY29uc3QgcmVuZGVySG93VG9QbGF5TW9kYWwgPSAoYXBwRGl2OiBIVE1MRGl2RWxlbWVudCkgPT4ge1xyXG4gIGNvbnN0IGluZm9Nb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICBcIiNpbmZvLW1vZGFsLXRlbXBsYXRlXCJcclxuICApIGFzIEhUTUxUZW1wbGF0ZUVsZW1lbnQ7XHJcbiAgYXBwRGl2LmlubmVySFRNTCArPSBpbmZvTW9kYWwuaW5uZXJIVE1MO1xyXG59O1xyXG5jb25zdCBjcmVhdGVIb3dUb1BsYXlCdXR0b24gPSAoKSA9PiB7XHJcbiAgY29uc3QgaG93VG9QbGF5QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgIFwiI2hvdy10by1wbGF5LWJ1dHRvblwiXHJcbiAgKSBhcyBIVE1MVUxpc3RFbGVtZW50O1xyXG4gIGNvbnN0IGluZm9Nb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICBcIiNpbmZvLW1vZGFsLXNjcmVlblwiXHJcbiAgKSBhcyBIVE1MRGl2RWxlbWVudDtcclxuICBob3dUb1BsYXlCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIHNob3dNb2RhbChpbmZvTW9kYWwsIFwiZmxleFwiKTtcclxuICB9KTtcclxuICBoaWRlTW9kYWwoaW5mb01vZGFsKTtcclxufTtcclxuXHJcbmNvbnN0IGFjdGl2YXRlU3RhcnRCdXR0b24gPSAoKSA9PiB7XHJcbiAgY29uc3QgcGxheWVyMU5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlbnRlci1wbGF5ZXIxLW5hbWUnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gIGNvbnN0IHBsYXllcjJOYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZW50ZXItcGxheWVyMi1uYW1lJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICBjb25zdCBzdGFydEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc3RhcnQtZ2FtZS1idXR0b25cIikgYXMgSFRNTERpdkVsZW1lbnQ7XHJcbiAgcGxheWVyMU5hbWVJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgKCkgPT4ge1xyXG4gICAgICBhY3RpdmF0ZVN0YXJ0KHBsYXllcjFOYW1lSW5wdXQsIHBsYXllcjJOYW1lSW5wdXQsIHN0YXJ0QnV0dG9uKVxyXG4gIH0pXHJcbiAgcGxheWVyMk5hbWVJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgKCkgPT4ge1xyXG4gICAgICBhY3RpdmF0ZVN0YXJ0KHBsYXllcjFOYW1lSW5wdXQsIHBsYXllcjJOYW1lSW5wdXQsIHN0YXJ0QnV0dG9uKVxyXG4gIH0pO1xyXG59O1xyXG5cclxuY29uc3QgcmVuZGVyQ2hvb3NlUG9rZW1vblNjcmVlbiA9IChhcHBEaXY6IEhUTUxEaXZFbGVtZW50KSA9PiB7XHJcbiAgY29uc3QgcGxheUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICBcIiNzdGFydC1nYW1lLWJ1dHRvblwiXHJcbiAgKSBhcyBIVE1MRGl2RWxlbWVudDtcclxuICBwbGF5QnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgY29uc3QgcGxheWVyMU5hbWVJbnB1dCA9IChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZW50ZXItcGxheWVyMS1uYW1lJykgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcbiAgICBjb25zdCBwbGF5ZXIyTmFtZUlucHV0ID0gKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlbnRlci1wbGF5ZXIyLW5hbWUnKSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuICAgIGNvbnN0IGNob29zZVBva2Vtb25TY3JlZW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIiNjaG9vc2UtcGFnZS10ZW1wbGF0ZVwiXHJcbiAgICApIGFzIEhUTUxUZW1wbGF0ZUVsZW1lbnQ7XHJcbiAgICBhcHBEaXYuaW5uZXJIVE1MID0gY2hvb3NlUG9rZW1vblNjcmVlbi5pbm5lckhUTUw7XHJcbiAgICBjcmVhdGVDaG9vc2VQYWdlKG5ldyBQbGF5ZXIocGxheWVyMU5hbWVJbnB1dCwgW10pLCBuZXcgUGxheWVyKHBsYXllcjJOYW1lSW5wdXQsIFtdKSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmNvbnN0IHJlbmRlckFwcCA9ICgpID0+IHtcclxuICBjb25zdCBhcHAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FwcFwiKSBhcyBIVE1MRGl2RWxlbWVudDtcclxuICByZW5kZXJTdGFydGluZ1BhZ2UoYXBwKTtcclxuICByZW5kZXJIb3dUb1BsYXlNb2RhbChhcHApO1xyXG4gIGFjdGl2YXRlU3RhcnRCdXR0b24oKTtcclxuICBjcmVhdGVIb3dUb1BsYXlCdXR0b24oKTtcclxuICByZW5kZXJDaG9vc2VQb2tlbW9uU2NyZWVuKGFwcCk7XHJcbn07XHJcblxyXG5zZXRUaW1lb3V0KHJlbmRlckFwcCwgMjAwMCk7XHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9